!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.GraphiQL=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function renderType(e,t){return e instanceof _graphql.GraphQLNonNull?_react2.default.createElement("span",null,renderType(e.ofType,t),"!"):e instanceof _graphql.GraphQLList?_react2.default.createElement("span",null,"[",renderType(e.ofType,t),"]"):_react2.default.createElement("a",{className:"type-name",onClick:function(a){return t(e,a)}},e.name)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocExplorer=void 0;var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_marked=require("marked"),_marked2=_interopRequireDefault(_marked),_graphql=require("graphql"),_debounce=require("../utility/debounce"),_debounce2=_interopRequireDefault(_debounce),DocExplorer=exports.DocExplorer=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleNavBackClick=function(){e.setState({navStack:e.state.navStack.slice(0,-1)})},e.handleClickTypeOrField=function(t){e.showDoc(t)},e.handleSearch=function(t){e.showSearch({name:"Search Results",searchValue:t})},e.state={navStack:[]},e}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.schema!==e.schema||this.state.navStack!==t.navStack||this.state.searchValue!==t.searchValue}},{key:"render",value:function(){var e=this.props.schema,t=this.state.navStack,a=void 0;t.length>0&&(a=t[t.length-1]);var r=void 0,n=void 0;a?"Search Results"===a.name?(r=a.name,n=_react2.default.createElement(SearchDoc,{searchValue:a.searchValue,schema:e,onClickType:this.handleClickTypeOrField,onClickField:this.handleClickTypeOrField})):(r=a.name,n=(0,_graphql.isType)(a)?_react2.default.createElement(TypeDoc,{key:a.name,schema:e,type:a,onClickType:this.handleClickTypeOrField,onClickField:this.handleClickTypeOrField}):_react2.default.createElement(FieldDoc,{key:a.name,field:a,onClickType:this.handleClickTypeOrField})):e&&(r="Documentation Explorer",n=_react2.default.createElement(SchemaDoc,{schema:e,onClickType:this.handleClickTypeOrField}));var c=void 0;1===t.length?c="Schema":t.length>1&&(c=t[t.length-2].name);var l=_react2.default.createElement("div",{className:"spinner-container"},_react2.default.createElement("div",{className:"spinner"})),o=n&&(n.type===SearchDoc||n.type===SchemaDoc);return _react2.default.createElement("div",{className:"doc-explorer"},_react2.default.createElement("div",{className:"doc-explorer-title-bar"},c&&_react2.default.createElement("div",{className:"doc-explorer-back",onClick:this.handleNavBackClick},c),_react2.default.createElement("div",{className:"doc-explorer-title"},r),_react2.default.createElement("div",{className:"doc-explorer-rhs"},this.props.children)),_react2.default.createElement("div",{className:"doc-explorer-contents"},_react2.default.createElement(SearchBox,{isShown:o,onSearch:this.handleSearch}),this.props.schema?n:l))}},{key:"showDoc",value:function(e){var t=this.state.navStack,a=t.length>0&&t[t.length-1]===e;a||(t=t.concat([e])),this.setState({navStack:t})}},{key:"showSearch",value:function(e){var t=this.state.navStack,a=t.length>0&&t[t.length-1];a?a.searchValue!==e.searchValue&&(t=t.slice(0,-1).concat([e])):t=t.concat([e]),this.setState({navStack:t})}}]),t}(_react2.default.Component);DocExplorer.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema)};var SearchBox=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e){a.setState({value:e.target.value}),a._debouncedOnSearch()},a.state={value:""},a._debouncedOnSearch=(0,_debounce2.default)(200,function(){a.props.onSearch(a.state.value)}),a}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isShown!==this.props.isShown||t.value!==this.state.value}},{key:"render",value:function(){return _react2.default.createElement("div",null,this.props.isShown&&_react2.default.createElement("label",{className:"search-box-outer"},_react2.default.createElement("input",{className:"search-box-input",onChange:this.handleChange,type:"text",value:this.state.value,placeholder:"Search the schema ..."})))}}]),t}(_react2.default.Component);SearchBox.propTypes={isShown:_react.PropTypes.bool,onSearch:_react.PropTypes.func};var SearchDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.schema!==e.schema||this.props.searchValue!==e.searchValue}},{key:"render",value:function(){var e=this,t=this.props.searchValue,a=this.props.schema,r=this.props.onClickType,n=this.props.onClickField,c=a.getTypeMap(),l=[],o=[],s=Object.keys(c),i=!0,p=!1,u=void 0;try{for(var d,m=function(){var a=d.value;if(l.length+o.length>=100)return"break";var s=c[a],i=[];e._isMatch(a,t)&&i.push("Type Name"),i.length&&l.push(_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement(TypeLink,{type:s,onClick:r}))),s.getFields&&!function(){var a=s.getFields();Object.keys(a).forEach(function(c){var l=a[c];if(e._isMatch(c,t))o.push(_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("a",{className:"field-name",onClick:function(e){return n(l,s,e)}},l.name)," on ",_react2.default.createElement(TypeLink,{type:s,onClick:r})));else if(l.args&&l.args.length){var i=l.args.filter(function(a){return e._isMatch(a.name,t)});i.length>0&&o.push(_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("a",{className:"field-name",onClick:function(e){return n(l,s,e)}},l.name),"(",_react2.default.createElement("span",null,i.map(function(e){return _react2.default.createElement("span",{className:"arg",key:e.name},_react2.default.createElement("span",{className:"arg-name"},e.name),": ",_react2.default.createElement(TypeLink,{type:e.type,onClick:r}))})),")"," on ",_react2.default.createElement(TypeLink,{type:s,onClick:r})))}})}()},h=s[Symbol.iterator]();!(i=(d=h.next()).done);i=!0){var f=m();if("break"===f)break}}catch(e){p=!0,u=e}finally{try{!i&&h.return&&h.return()}finally{if(p)throw u}}return 0===l.length&&0===o.length?_react2.default.createElement("span",{className:"doc-alert-text"},"No results found."):_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"doc-category"},(l.length>0||o.length>0)&&_react2.default.createElement("div",{className:"doc-category-title"},"search results"),l,o))}},{key:"_isMatch",value:function(e,t){try{var a=t.replace(/[^_0-9A-Za-z]/g,function(e){return"\\"+e});return e.search(new RegExp(a,"i"))!==-1}catch(a){return e.toLowerCase().indexOf(t.toLowerCase())!==-1}}}]),t}(_react2.default.Component);SearchDoc.propTypes={schema:_react.PropTypes.object,searchValue:_react.PropTypes.string,onClickType:_react.PropTypes.func,onClickField:_react.PropTypes.func};var SchemaDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.schema!==e.schema}},{key:"render",value:function(){var e=this.props.schema,t=e.getQueryType(),a=e.getMutationType&&e.getMutationType(),r=e.getSubscriptionType&&e.getSubscriptionType();return _react2.default.createElement("div",null,_react2.default.createElement(MarkdownContent,{className:"doc-type-description",markdown:"A GraphQL schema provides a root type for each kind of operation."}),_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"root types"),_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"query"),": ",_react2.default.createElement(TypeLink,{type:t,onClick:this.props.onClickType})),a&&_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"mutation"),": ",_react2.default.createElement(TypeLink,{type:a,onClick:this.props.onClickType})),r&&_react2.default.createElement("div",{className:"doc-category-item"},_react2.default.createElement("span",{className:"keyword"},"subscription"),": ",_react2.default.createElement(TypeLink,{type:r,onClick:this.props.onClickType}))))}}]),t}(_react2.default.Component);SchemaDoc.propTypes={schema:_react.PropTypes.object,onClickType:_react.PropTypes.func};var TypeDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.type!==e.type}},{key:"render",value:function(){var e=this.props.schema,t=this.props.type,a=this.props.onClickType,r=this.props.onClickField,n=void 0,c=void 0;t instanceof _graphql.GraphQLUnionType?(n="possible types",c=e.getPossibleTypes(t)):t instanceof _graphql.GraphQLInterfaceType?(n="implementations",c=e.getPossibleTypes(t)):t instanceof _graphql.GraphQLObjectType&&(n="implements",c=t.getInterfaces());var l=void 0;c&&c.length>0&&(l=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},n),c.map(function(e){return _react2.default.createElement("div",{key:e.name,className:"doc-category-item"},_react2.default.createElement(TypeLink,{type:e,onClick:a}))})));var o=void 0;t.getFields&&!function(){var e=t.getFields(),n=Object.keys(e).map(function(t){return e[t]});o=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"fields"),n.map(function(e){var n=void 0;return e.args&&e.args.length>0&&(n=e.args.map(function(e){return _react2.default.createElement("span",{className:"arg",key:e.name},_react2.default.createElement("span",{className:"arg-name"},e.name),": ",_react2.default.createElement(TypeLink,{type:e.type,onClick:a}))})),_react2.default.createElement("div",{key:e.name,className:"doc-category-item"},_react2.default.createElement("a",{className:"field-name",onClick:function(a){return r(e,t,a)}},e.name),n&&["(",_react2.default.createElement("span",{key:"args"},n),")"],": ",_react2.default.createElement(TypeLink,{type:e.type,onClick:a}),e.isDeprecated&&_react2.default.createElement("span",{className:"doc-alert-text"}," (DEPRECATED)"))}))}();var s=void 0;return t instanceof _graphql.GraphQLEnumType&&(s=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"values"),t.getValues().map(function(e){return _react2.default.createElement("div",{key:e.name,className:"doc-category-item"},_react2.default.createElement("div",{className:"enum-value"},e.name,e.isDeprecated&&_react2.default.createElement("span",{className:"doc-alert-text"}," (DEPRECATED)")),_react2.default.createElement(MarkdownContent,{className:"doc-value-description",markdown:e.description}),e.deprecationReason&&_react2.default.createElement(MarkdownContent,{className:"doc-alert-text",markdown:e.deprecationReason}))}))),_react2.default.createElement("div",null,_react2.default.createElement(MarkdownContent,{className:"doc-type-description",markdown:t.description||"No Description"}),t instanceof _graphql.GraphQLObjectType&&l,o,s,!(t instanceof _graphql.GraphQLObjectType)&&l)}}]),t}(_react2.default.Component);TypeDoc.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),type:_react.PropTypes.object,onClickType:_react.PropTypes.func,onClickField:_react.PropTypes.func};var FieldDoc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.field!==e.field}},{key:"render",value:function(){var e=this,t=this.props.field,a=void 0;return t.args&&t.args.length>0&&(a=_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"arguments"),t.args.map(function(t){return _react2.default.createElement("div",{key:t.name,className:"doc-category-item"},_react2.default.createElement("div",null,_react2.default.createElement("span",{className:"arg-name"},t.name),": ",_react2.default.createElement(TypeLink,{type:t.type,onClick:e.props.onClickType})),_react2.default.createElement(MarkdownContent,{className:"doc-value-description",markdown:t.description}))}))),_react2.default.createElement("div",null,_react2.default.createElement(MarkdownContent,{className:"doc-type-description",markdown:t.description||"No Description"}),t.deprecationReason&&_react2.default.createElement(MarkdownContent,{className:"doc-alert-text",markdown:t.deprecationReason}),_react2.default.createElement("div",{className:"doc-category"},_react2.default.createElement("div",{className:"doc-category-title"},"type"),_react2.default.createElement(TypeLink,{type:t.type,onClick:this.props.onClickType})),a)}}]),t}(_react2.default.Component);FieldDoc.propTypes={field:_react.PropTypes.object,onClickType:_react.PropTypes.func};var TypeLink=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.type!==e.type}},{key:"render",value:function(){return renderType(this.props.type,this.props.onClick)}}]),t}(_react2.default.Component);TypeLink.propTypes={type:_react.PropTypes.object,onClick:_react.PropTypes.func};var MarkdownContent=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.markdown!==e.markdown}},{key:"render",value:function(){var e=this.props.markdown;if(!e)return _react2.default.createElement("div",null);var t=(0,_marked2.default)(e,{sanitize:!0});return _react2.default.createElement("div",{className:this.props.className,dangerouslySetInnerHTML:{__html:t}})}}]),t}(_react2.default.Component);MarkdownContent.propTypes={markdown:_react.PropTypes.string,className:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/debounce":10,graphql:55,marked:122}],2:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExecuteButton=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ExecuteButton=exports.ExecuteButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onClick=function(){n.props.isRunning?n.props.onStop():n.props.onRun()},n._onOptionSelected=function(e){n.setState({optionsOpen:!1}),n.props.onRun(e.name&&e.name.value)},n._onOptionsOpen=function(e){var t=!0,o=e.target;n.setState({highlight:null,optionsOpen:!0});var r=function(e){if(t&&e.target===o)t=!1;else{document.removeEventListener("mouseup",r),r=null;var a=o.parentNode.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_CONTAINED_BY;a||n.setState({optionsOpen:!1})}};document.addEventListener("mouseup",r)},n.state={optionsOpen:!1,highlight:null},n}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this,t=this.props.operations,n=this.state.optionsOpen,o=t&&t.length>1,r=null;o&&n&&!function(){var n=e.state.highlight;r=_react2.default.createElement("ul",{className:"execute-options"},t.map(function(t){return _react2.default.createElement("li",{key:t.name?t.name.value:"*",className:t===n&&"selected",onMouseOver:function(){return e.setState({highlight:t})},onMouseOut:function(){return e.setState({highlight:null})},onMouseUp:function(){return e._onOptionSelected(t)}},t.name?t.name.value:"<Unnamed>")}))}();var a=void 0;!this.props.isRunning&&o||(a=this._onClick);var u=void 0;return this.props.isRunning||!o||n||(u=this._onOptionsOpen),_react2.default.createElement("div",{className:"execute-button-wrap"},_react2.default.createElement("button",{className:"execute-button",onMouseDown:u,onClick:a,title:"Execute Query (Ctrl-Enter)"},_react2.default.createElement("svg",{width:"34",height:"34"},this.props.isRunning?_react2.default.createElement("path",{d:"M 10 10 L 23 10 L 23 23 L 10 23 z"}):_react2.default.createElement("path",{d:"M 11 9 L 24 16 L 11 23 z"}))),r)}}]),t}(_react2.default.Component);ExecuteButton.propTypes={onRun:_react.PropTypes.func,onStop:_react.PropTypes.func,isRunning:_react.PropTypes.bool,operations:_react.PropTypes.array}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function isPromise(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.then}function isObservable(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.subscribe}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphiQL=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_graphql=require("graphql"),_ExecuteButton=require("./ExecuteButton"),_ToolbarButton=require("./ToolbarButton"),_QueryEditor=require("./QueryEditor"),_VariableEditor=require("./VariableEditor"),_ResultViewer=require("./ResultViewer"),_DocExplorer=require("./DocExplorer"),_CodeMirrorSizer=require("../utility/CodeMirrorSizer"),_CodeMirrorSizer2=_interopRequireDefault(_CodeMirrorSizer),_getQueryFacts=require("../utility/getQueryFacts"),_getQueryFacts2=_interopRequireDefault(_getQueryFacts),_getSelectedOperationName=require("../utility/getSelectedOperationName"),_getSelectedOperationName2=_interopRequireDefault(_getSelectedOperationName),_debounce=require("../utility/debounce"),_debounce2=_interopRequireDefault(_debounce),_find=require("../utility/find"),_find2=_interopRequireDefault(_find),_fillLeafs2=require("../utility/fillLeafs"),_elementPosition=require("../utility/elementPosition"),_introspectionQueries=require("../utility/introspectionQueries"),GraphiQL=exports.GraphiQL=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(_initialiseProps.call(r),"function"!=typeof e.fetcher)throw new TypeError("GraphiQL requires a fetcher function.");r._storage=e.storage||window.localStorage;var n=void 0!==e.query?e.query:null!==r._storageGet("query")?r._storageGet("query"):void 0!==e.defaultQuery?e.defaultQuery:defaultQuery,o=(0,_getQueryFacts2.default)(e.schema,n),i=void 0!==e.variables?e.variables:r._storageGet("variables"),a=void 0!==e.operationName?e.operationName:(0,_getSelectedOperationName2.default)(null,r._storageGet("operationName"),o&&o.operations);return r.state=_extends({schema:e.schema,query:n,variables:i,operationName:a,response:e.response,editorFlex:Number(r._storageGet("editorFlex"))||1,variableEditorOpen:Boolean(i),variableEditorHeight:Number(r._storageGet("variableEditorHeight"))||200,docExplorerOpen:!1,docExplorerWidth:Number(r._storageGet("docExplorerWidth"))||350,isWaitingForResponse:!1,subscription:null},o),r._editorQueryID=0,"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.addEventListener("beforeunload",function(){return r.componentWillUnmount()}),r}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){this._ensureOfSchema(),this.codeMirrorSizer=new _CodeMirrorSizer2.default}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.schema,r=this.state.query,n=this.state.variables,o=this.state.operationName,i=this.state.response;void 0!==e.schema&&(t=e.schema),void 0!==e.query&&(r=e.query),void 0!==e.variables&&(n=e.variables),void 0!==e.operationName&&(o=e.operationName),void 0!==e.response&&(i=e.response),t===this.state.schema&&r===this.state.query&&o===this.state.operationName||this._updateQueryFacts(r),this.setState({schema:t,query:r,variables:n,operationName:o,response:i})}},{key:"componentDidUpdate",value:function(){this.codeMirrorSizer.updateSizes([this.queryEditorComponent,this.variableEditorComponent,this.resultComponent])}},{key:"componentWillUnmount",value:function(){this._storageSet("query",this.state.query),this._storageSet("variables",this.state.variables),this._storageSet("operationName",this.state.operationName),this._storageSet("editorFlex",this.state.editorFlex),this._storageSet("variableEditorHeight",this.state.variableEditorHeight),this._storageSet("docExplorerWidth",this.state.docExplorerWidth)}},{key:"render",value:function(){var e=this,r=_react2.default.Children.toArray(this.props.children),n=(0,_find2.default)(r,function(e){return e.type===t.Logo})||_react2.default.createElement(t.Logo,null),o=(0,_find2.default)(r,function(e){return e.type===t.Toolbar})||_react2.default.createElement(t.Toolbar,null),i=(0,_find2.default)(r,function(e){return e.type===t.Footer}),a={WebkitFlex:this.state.editorFlex,flex:this.state.editorFlex},s={display:this.state.docExplorerOpen?"block":"none",width:this.state.docExplorerWidth},u=this.state.variableEditorOpen,l={height:u?this.state.variableEditorHeight:null};return _react2.default.createElement("div",{className:"graphiql-container"},_react2.default.createElement("div",{className:"editorWrap"},_react2.default.createElement("div",{className:"topBarWrap"},_react2.default.createElement("div",{className:"topBar"},n,_react2.default.createElement(_ExecuteButton.ExecuteButton,{isRunning:Boolean(this.state.subscription),onRun:this.handleRunQuery,onStop:this.handleStopQuery,operations:this.state.operations}),_react2.default.createElement(t.ToolbarButton,{onClick:this.handlePrettifyQuery,title:"Prettify Query",label:"Prettify"}),o),!this.state.docExplorerOpen&&_react2.default.createElement("button",{className:"docExplorerShow",onClick:this.handleToggleDocs},"Docs")),_react2.default.createElement("div",{ref:function(t){e.editorBarComponent=t},className:"editorBar",onMouseDown:this.handleResizeStart},_react2.default.createElement("div",{className:"queryWrap",style:a},_react2.default.createElement(_QueryEditor.QueryEditor,{ref:function(t){e.queryEditorComponent=t},schema:this.state.schema,value:this.state.query,onEdit:this.handleEditQuery,onHintInformationRender:this.handleHintInformationRender,onRunQuery:this.handleEditorRunQuery}),_react2.default.createElement("div",{className:"variable-editor",style:l},_react2.default.createElement("div",{className:"variable-editor-title",style:{cursor:u?"row-resize":"n-resize"},onMouseDown:this.handleVariableResizeStart},"Query Variables"),_react2.default.createElement(_VariableEditor.VariableEditor,{ref:function(t){e.variableEditorComponent=t},value:this.state.variables,variableToType:this.state.variableToType,onEdit:this.handleEditVariables,onHintInformationRender:this.handleHintInformationRender,onRunQuery:this.handleEditorRunQuery}))),_react2.default.createElement("div",{className:"resultWrap"},this.state.isWaitingForResponse&&_react2.default.createElement("div",{className:"spinner-container"},_react2.default.createElement("div",{className:"spinner"})),_react2.default.createElement(_ResultViewer.ResultViewer,{ref:function(t){e.resultComponent=t},value:this.state.response}),i))),_react2.default.createElement("div",{className:"docExplorerWrap",style:s},_react2.default.createElement("div",{className:"docExplorerResizer",onMouseDown:this.handleDocsResizeStart}),_react2.default.createElement(_DocExplorer.DocExplorer,{ref:function(t){e.docExplorerComponent=t},schema:this.state.schema},_react2.default.createElement("div",{className:"docExplorerHide",onClick:this.handleToggleDocs},"✕"))))}},{key:"autoCompleteLeafs",value:function(){var e=this,t=(0,_fillLeafs2.fillLeafs)(this.state.schema,this.state.query,this.props.getDefaultFieldNames),r=t.insertions,n=t.result;return r&&r.length>0&&!function(){var t=e.queryEditorComponent.getCodeMirror();t.operation(function(){var e=t.getCursor(),o=t.indexFromPos(e);t.setValue(n);var i=0,a=r.map(function(e){var r=e.index,n=e.string;return t.markText(t.posFromIndex(r+i),t.posFromIndex(r+(i+=n.length)),{className:"autoInsertedLeaf",clearOnEnter:!0,title:"Automatically added leaf fields"})});setTimeout(function(){return a.forEach(function(e){return e.clear()})},7e3);var s=o;r.forEach(function(e){var t=e.index,r=e.string;t<o&&(s+=r.length)}),t.setCursor(t.posFromIndex(s))})}(),n}},{key:"_ensureOfSchema",value:function(){var e=this;if(void 0===this.state.schema){var t=this.props.fetcher,r=t({query:_introspectionQueries.introspectionQuery});return isPromise(r)?void r.then(function(e){if(e.data)return e;var n=t({query:_introspectionQueries.introspectionQuerySansSubscriptions});if(!isPromise(r))throw new Error("Fetcher did not return a Promise for introspection.");return n}).then(function(t){if(void 0===e.state.schema)if(t&&t.data){var r=(0,_graphql.buildClientSchema)(t.data),n=(0,_getQueryFacts2.default)(r,e.state.query);e.setState(_extends({schema:r},n))}else{var o="string"==typeof t?t:JSON.stringify(t,null,2);e.setState({response:o})}}).catch(function(t){e.setState({response:t&&String(t.stack||t)})}):void this.setState({response:"Fetcher did not return a Promise for introspection."})}}},{key:"_storageGet",value:function(e){return this._storage&&this._storage.getItem("graphiql:"+e)}},{key:"_storageSet",value:function(e,t){this._storage&&this._storage.setItem("graphiql:"+e,t)}},{key:"_fetchQuery",value:function(e,t,r,n){var o=this,i=this.props.fetcher,a=i({query:e,variables:t,operationName:r});if(isPromise(a))a.then(n).catch(function(e){o.setState({isWaitingForResponse:!1,response:e&&String(e.stack||e)})});else{if(isObservable(a)){var s=a.subscribe({next:n,error:function(e){o.setState({isWaitingForResponse:!1,response:e&&String(e.stack||e),subscription:null})},complete:function(){o.setState({isWaitingForResponse:!1,subscription:null})}});return s}this.setState({isWaitingForResponse:!1,response:"Fetcher did not return Promise or Observable."})}}},{key:"_runQueryAtCursor",value:function(){if(this.state.subscription)return void this.handleStopQuery();var e=void 0,t=this.state.operations;if(t){var r=this.queryEditorComponent.getCodeMirror();if(r.hasFocus())for(var n=r.getCursor(),o=r.indexFromPos(n),i=0;i<t.length;i++){var a=t[i];if(a.loc.start<=o&&a.loc.end>=o){e=a.name&&a.name.value;break}}}this.handleRunQuery(e)}},{key:"_didClickDragBar",value:function(e){if(0!==e.button||e.ctrlKey)return!1;var t=e.target;if(0!==t.className.indexOf("CodeMirror-gutter"))return!1;for(var r=_reactDom2.default.findDOMNode(this.resultComponent);t;){if(t===r)return!0;t=t.parentNode}return!1}}]),t}(_react2.default.Component);GraphiQL.propTypes={fetcher:_react.PropTypes.func.isRequired,schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),query:_react.PropTypes.string,variables:_react.PropTypes.string,operationName:_react.PropTypes.string,response:_react.PropTypes.string,storage:_react.PropTypes.shape({getItem:_react.PropTypes.func,setItem:_react.PropTypes.func}),defaultQuery:_react.PropTypes.string,onEditQuery:_react.PropTypes.func,onEditVariables:_react.PropTypes.func,onEditOperationName:_react.PropTypes.func,
onToggleDocs:_react.PropTypes.func,getDefaultFieldNames:_react.PropTypes.func};var _initialiseProps=function(){var e=this;this.handleRunQuery=function(t){e._editorQueryID++;var r=e._editorQueryID,n=e.autoCompleteLeafs()||e.state.query,o=e.state.variables,i=e.state.operationName;if(t&&t!==i){i=t;var a=e.props.onEditOperationName;a&&a(i)}var s=e._fetchQuery(n,o,i,function(t){r===e._editorQueryID&&e.setState({isWaitingForResponse:!1,response:JSON.stringify(t,null,2)})});e.setState({isWaitingForResponse:!0,response:null,subscription:s,operationName:i})},this.handleStopQuery=function(){var t=e.state.subscription;e.setState({isWaitingForResponse:!1,subscription:null}),t&&t.unsubscribe()},this.handlePrettifyQuery=function(){var t=(0,_graphql.print)((0,_graphql.parse)(e.state.query)),r=e.queryEditorComponent.getCodeMirror();r.setValue(t)},this.handleEditQuery=function(t){if(e.state.schema&&e._updateQueryFacts(t),e.setState({query:t}),e.props.onEditQuery)return e.props.onEditQuery(t)},this._updateQueryFacts=(0,_debounce2.default)(150,function(t){var r=(0,_getQueryFacts2.default)(e.state.schema,t);if(r){var n=(0,_getSelectedOperationName2.default)(e.state.operations,e.state.operationName,r.operations),o=e.props.onEditOperationName;o&&n!==e.state.operationName&&o(n),e.setState(_extends({operationName:n},r))}}),this.handleEditVariables=function(t){e.setState({variables:t}),e.props.onEditVariables&&e.props.onEditVariables(t)},this.handleHintInformationRender=function(t){t.addEventListener("click",e._onClickHintInformation);var r=void 0;t.addEventListener("DOMNodeRemoved",r=function(){t.removeEventListener("DOMNodeRemoved",r),t.removeEventListener("click",e._onClickHintInformation)})},this.handleEditorRunQuery=function(){e._runQueryAtCursor()},this._onClickHintInformation=function(t){if("typeName"===t.target.className){var r=t.target.innerHTML,n=e.state.schema;n&&!function(){var t=n.getType(r);t&&e.setState({docExplorerOpen:!0},function(){e.docExplorerComponent.showDoc(t)})}()}},this.handleToggleDocs=function(){"function"==typeof e.props.onToggleDocs&&e.props.onToggleDocs(!e.state.docExplorerOpen),e.setState({docExplorerOpen:!e.state.docExplorerOpen})},this.handleResizeStart=function(t){if(e._didClickDragBar(t)){t.preventDefault();var r=t.clientX-(0,_elementPosition.getLeft)(t.target),n=function(t){if(0===t.buttons)return o();var n=_reactDom2.default.findDOMNode(e.editorBarComponent),i=t.clientX-(0,_elementPosition.getLeft)(n)-r,a=n.clientWidth-i;e.setState({editorFlex:i/a})},o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),n=null,o=null});document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)}},this.handleDocsResizeStart=function(t){t.preventDefault();var r=e.state.docExplorerWidth,n=t.clientX-(0,_elementPosition.getLeft)(t.target),o=function(t){if(0===t.buttons)return i();var r=_reactDom2.default.findDOMNode(e),o=t.clientX-(0,_elementPosition.getLeft)(r)-n,a=r.clientWidth-o;a<100?e.setState({docExplorerOpen:!1}):e.setState({docExplorerOpen:!0,docExplorerWidth:Math.min(a,650)})},i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.state.docExplorerOpen||e.setState({docExplorerWidth:r}),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),o=null,i=null});document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)},this.handleVariableResizeStart=function(t){t.preventDefault();var r=!1,n=e.state.variableEditorOpen,o=e.state.variableEditorHeight,i=t.clientY-(0,_elementPosition.getTop)(t.target),a=function(t){if(0===t.buttons)return s();r=!0;var n=_reactDom2.default.findDOMNode(e.editorBarComponent),a=t.clientY-(0,_elementPosition.getTop)(n)-i,u=n.clientHeight-a;u<60?e.setState({variableEditorOpen:!1,variableEditorHeight:o}):e.setState({variableEditorOpen:!0,variableEditorHeight:u})},s=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){r||e.setState({variableEditorOpen:!n}),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),a=null,s=null});document.addEventListener("mousemove",a),document.addEventListener("mouseup",s)}};GraphiQL.Logo=function(e){return _react2.default.createElement("div",{className:"title"},e.children||_react2.default.createElement("span",null,"Graph",_react2.default.createElement("em",null,"i"),"QL"))},GraphiQL.Toolbar=function(e){return _react2.default.createElement("div",{className:"toolbar"},e.children)},GraphiQL.ToolbarButton=_ToolbarButton.ToolbarButton,GraphiQL.Footer=function(e){return _react2.default.createElement("div",{className:"footer"},e.children)};var defaultQuery="# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser IDE for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will\n# see intelligent typeaheads aware of the current GraphQL type schema and\n# live syntax and validation errors highlighted within the text.\n#\n# To bring up the auto-complete at any point, just press Ctrl-Space.\n#\n# Press the run button above, or Cmd-Enter to execute the query, and the result\n# will appear in the pane to the right.\n\n"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/CodeMirrorSizer":9,"../utility/debounce":10,"../utility/elementPosition":11,"../utility/fillLeafs":12,"../utility/find":13,"../utility/getQueryFacts":14,"../utility/getSelectedOperationName":15,"../utility/introspectionQueries":16,"./DocExplorer":1,"./ExecuteButton":2,"./QueryEditor":4,"./ResultViewer":5,"./ToolbarButton":6,"./VariableEditor":7,graphql:55}],4:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueryEditor=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_graphql=require("graphql"),_onHasCompletion=require("../utility/onHasCompletion"),_onHasCompletion2=_interopRequireDefault(_onHasCompletion),QueryEditor=exports.QueryEditor=function(e){function t(e){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._onKeyUp=function(e,t){var r=t.keyCode;(r>=65&&r<=90||!t.shiftKey&&r>=48&&r<=57||t.shiftKey&&189===r||t.shiftKey&&50===r||t.shiftKey&&57===r)&&o.editor.execCommand("autocomplete")},o._onEdit=function(){o.ignoreChangeEvent||(o.cachedValue=o.editor.getValue(),o.props.onEdit&&o.props.onEdit(o.cachedValue))},o._onHasCompletion=function(e,t){(0,_onHasCompletion2.default)(e,t,o.props.onHintInformationRender)},o.cachedValue=e.value||"",o}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=require("codemirror");require("codemirror/addon/hint/show-hint"),require("codemirror/addon/comment/comment"),require("codemirror/addon/edit/matchbrackets"),require("codemirror/addon/edit/closebrackets"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror-graphql/hint"),require("codemirror-graphql/lint"),require("codemirror-graphql/mode"),this.editor=t(_reactDom2.default.findDOMNode(this),{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,foldGutter:{minFoldSize:4},lint:{schema:this.props.schema},hintOptions:{schema:this.props.schema,closeOnUnfocus:!1,completeSingle:!1},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":function(){return e.editor.showHint({completeSingle:!0})},"Ctrl-Space":function(){return e.editor.showHint({completeSingle:!0})},"Alt-Space":function(){return e.editor.showHint({completeSingle:!0})},"Shift-Space":function(){return e.editor.showHint({completeSingle:!0})},"Cmd-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit),this.editor.on("keyup",this._onKeyUp),this.editor.on("hasCompletion",this._onHasCompletion)}},{key:"componentDidUpdate",value:function(e){var t=require("codemirror");this.ignoreChangeEvent=!0,this.props.schema!==e.schema&&(this.editor.options.lint.schema=this.props.schema,this.editor.options.hintOptions.schema=this.props.schema,t.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1}},{key:"componentWillUnmount",value:function(){this.editor.off("change",this._onEdit),this.editor.off("keyup",this._onKeyUp),this.editor.off("hasCompletion",this._onHasCompletion),this.editor=null}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"query-editor"})}},{key:"getCodeMirror",value:function(){return this.editor}}]),t}(_react2.default.Component);QueryEditor.propTypes={schema:_react.PropTypes.instanceOf(_graphql.GraphQLSchema),value:_react.PropTypes.string,onEdit:_react.PropTypes.func,onHintInformationRender:_react.PropTypes.func,onRunQuery:_react.PropTypes.func}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/onHasCompletion":17,codemirror:45,"codemirror-graphql/hint":18,"codemirror-graphql/lint":19,"codemirror-graphql/mode":20,"codemirror/addon/comment/comment":35,"codemirror/addon/edit/closebrackets":36,"codemirror/addon/edit/matchbrackets":37,"codemirror/addon/fold/brace-fold":38,"codemirror/addon/fold/foldgutter":40,"codemirror/addon/hint/show-hint":41,"codemirror/addon/lint/lint":42,"codemirror/keymap/sublime":44,graphql:55}],5:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResultViewer=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),ResultViewer=exports.ResultViewer=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=require("codemirror");require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/fold/brace-fold"),require("codemirror/keymap/sublime"),require("codemirror-graphql/results/mode"),this.viewer=e(_reactDom2.default.findDOMNode(this),{lineWrapping:!0,value:this.props.value||"",readOnly:!0,theme:"graphiql",mode:"graphql-results",keyMap:"sublime",foldGutter:{minFoldSize:4},gutters:["CodeMirror-foldgutter"],extraKeys:{"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}})}},{key:"shouldComponentUpdate",value:function(e){return this.props.value!==e.value}},{key:"componentDidUpdate",value:function(){this.viewer.setValue(this.props.value||"")}},{key:"componentWillUnmount",value:function(){this.viewer=null}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"result-window"})}},{key:"getCodeMirror",value:function(){return this.viewer}}]),t}(_react2.default.Component);ResultViewer.propTypes={value:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{codemirror:45,"codemirror-graphql/results/mode":21,"codemirror/addon/fold/brace-fold":38,"codemirror/addon/fold/foldgutter":40,"codemirror/keymap/sublime":44}],6:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarButton=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),ToolbarButton=exports.ToolbarButton=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClick=function(e){e.preventDefault();try{r.props.onClick(),r.setState({error:null})}catch(e){r.setState({error:e})}},r.state={error:null},r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.state.error;return _react2.default.createElement("a",{className:"toolbar-button"+(e?" error":""),onClick:this.handleClick,title:e?e.message:this.props.title},this.props.label)}}]),t}(_react2.default.Component);ToolbarButton.propTypes={onClick:_react.PropTypes.func,title:_react.PropTypes.string,label:_react.PropTypes.string}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VariableEditor=void 0;var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_react="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null,_react2=_interopRequireDefault(_react),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),_onHasCompletion=require("../utility/onHasCompletion"),_onHasCompletion2=_interopRequireDefault(_onHasCompletion),VariableEditor=exports.VariableEditor=function(e){function t(e){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._onKeyUp=function(e,t){var r=t.keyCode;(r>=65&&r<=90||!t.shiftKey&&r>=48&&r<=57||t.shiftKey&&189===r||t.shiftKey&&222===r)&&o.editor.execCommand("autocomplete")},o._onEdit=function(){o.ignoreChangeEvent||(o.cachedValue=o.editor.getValue(),o.props.onEdit&&o.props.onEdit(o.cachedValue))},o._onHasCompletion=function(e,t){(0,_onHasCompletion2.default)(e,t,o.props.onHintInformationRender)},o.cachedValue=e.value||"",o}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=require("codemirror");require("codemirror/addon/hint/show-hint"),require("codemirror/addon/edit/matchbrackets"),require("codemirror/addon/edit/closebrackets"),require("codemirror/addon/fold/brace-fold"),require("codemirror/addon/fold/foldgutter"),require("codemirror/addon/lint/lint"),require("codemirror/keymap/sublime"),require("codemirror-graphql/variables/hint"),require("codemirror-graphql/variables/lint"),require("codemirror-graphql/variables/mode"),this.editor=t(_reactDom2.default.findDOMNode(this),{value:this.props.value||"",lineNumbers:!0,tabSize:2,mode:"graphql-variables",theme:"graphiql",keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,foldGutter:{minFoldSize:4},lint:{variableToType:this.props.variableToType},hintOptions:{variableToType:this.props.variableToType},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":function(){return e.editor.showHint({completeSingle:!1})},"Ctrl-Space":function(){return e.editor.showHint({completeSingle:!1})},"Alt-Space":function(){return e.editor.showHint({completeSingle:!1})},"Shift-Space":function(){return e.editor.showHint({completeSingle:!1})},"Cmd-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Enter":function(){e.props.onRunQuery&&e.props.onRunQuery()},"Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit),this.editor.on("keyup",this._onKeyUp),this.editor.on("hasCompletion",this._onHasCompletion)}},{key:"componentDidUpdate",value:function(e){var t=require("codemirror");this.ignoreChangeEvent=!0,this.props.variableToType!==e.variableToType&&(this.editor.options.lint.variableToType=this.props.variableToType,this.editor.options.hintOptions.variableToType=this.props.variableToType,t.signal(this.editor,"change",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1}},{key:"componentWillUnmount",value:function(){this.editor.off("change",this._onEdit),this.editor.off("keyup",this._onKeyUp),this.editor.off("hasCompletion",this._onHasCompletion),this.editor=null}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"codemirrorWrap"})}},{key:"getCodeMirror",value:function(){return this.editor}}]),t}(_react2.default.Component);VariableEditor.propTypes={variableToType:_react.PropTypes.object,value:_react.PropTypes.string,onEdit:_react.PropTypes.func,onHintInformationRender:_react.PropTypes.func,onRunQuery:_react.PropTypes.func}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utility/onHasCompletion":17,codemirror:45,"codemirror-graphql/variables/hint":32,"codemirror-graphql/variables/lint":33,"codemirror-graphql/variables/mode":34,"codemirror/addon/edit/closebrackets":36,"codemirror/addon/edit/matchbrackets":37,"codemirror/addon/fold/brace-fold":38,"codemirror/addon/fold/foldgutter":40,"codemirror/addon/hint/show-hint":41,"codemirror/addon/lint/lint":42,"codemirror/keymap/sublime":44}],8:[function(require,module,exports){"use strict";module.exports=require("./components/GraphiQL").GraphiQL},{"./components/GraphiQL":3}],9:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_reactDom="undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof global?global.ReactDOM:null,_reactDom2=_interopRequireDefault(_reactDom),CodeMirrorSizer=function(){function e(){_classCallCheck(this,e),this.sizes=[]}return _createClass(e,[{key:"updateSizes",value:function(e){var t=this;e.forEach(function(e,r){var n=_reactDom2.default.findDOMNode(e).clientHeight;r<=t.sizes.length&&n!==t.sizes[r]&&e.getCodeMirror().setSize(),t.sizes[r]=n})}}]),e}();exports.default=CodeMirrorSizer}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(require,module,exports){"use strict";function debounce(e,t){var u=void 0;return function(){var o=this,n=arguments;clearTimeout(u),u=setTimeout(function(){u=null,t.apply(o,n)},e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=debounce},{}],11:[function(require,module,exports){"use strict";function getLeft(e){for(var t=0,f=e;f.offsetParent;)t+=f.offsetLeft,f=f.offsetParent;return t}function getTop(e){for(var t=0,f=e;f.offsetParent;)t+=f.offsetTop,f=f.offsetParent;return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLeft=getLeft,exports.getTop=getTop},{}],12:[function(require,module,exports){"use strict";function fillLeafs(e,t,r){var n=[];if(!e)return{insertions:n,result:t};var i=void 0;try{i=(0,_graphql.parse)(t)}catch(e){return{insertions:n,result:t}}var a=r||defaultGetDefaultFieldNames,l=new _graphql.TypeInfo(e);return(0,_graphql.visit)(i,{leave:function(e){l.leave(e)},enter:function(e){if(l.enter(e),"Field"===e.kind&&!e.selectionSet){var r=l.getType(),i=buildSelectionSet(r,a);if(i){var s=getIndentation(t,e.loc.start);n.push({index:e.loc.end,string:" "+(0,_graphql.print)(i).replace(/\n/g,"\n"+s)})}}}}),{insertions:n,result:withInsertions(t,n)}}function defaultGetDefaultFieldNames(e){if(!e.getFields)return[];var t=e.getFields();if(t.id)return["id"];if(t.edges)return["edges"];if(t.node)return["node"];var r=[];return Object.keys(t).forEach(function(e){(0,_graphql.isLeafType)(t[e].type)&&r.push(e)}),r}function buildSelectionSet(e,t){var r=(0,_graphql.getNamedType)(e);if(e&&!(0,_graphql.isLeafType)(e)){var n=t(r);if(Array.isArray(n)&&0!==n.length)return{kind:"SelectionSet",selections:n.map(function(e){var n=r.getFields()[e],i=n?n.type:null;return{kind:"Field",name:{kind:"Name",value:e},selectionSet:buildSelectionSet(i,t)}})}}}function withInsertions(e,t){if(0===t.length)return e;var r="",n=0;return t.forEach(function(t){var i=t.index,a=t.string;r+=e.slice(n,i)+a,n=i}),r+=e.slice(n)}function getIndentation(e,t){for(var r=t,n=t;r;){var i=e.charCodeAt(r-1);if(10===i||13===i||8232===i||8233===i)break;r--,9!==i&&11!==i&&12!==i&&32!==i&&160!==i&&(n=r)}return e.substring(r,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillLeafs=fillLeafs;var _graphql=require("graphql")},{graphql:55}],13:[function(require,module,exports){"use strict";function find(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=find},{}],14:[function(require,module,exports){"use strict";function getQueryFacts(e,r){if(r){var a=void 0;try{a=(0,_graphql.parse)(r)}catch(e){return}var i=e?collectVariables(e,a):null,t=[];return a.definitions.forEach(function(e){"OperationDefinition"===e.kind&&t.push(e)}),{variableToType:i,operations:t}}}function collectVariables(e,r){var a=Object.create(null);return r.definitions.forEach(function(r){if("OperationDefinition"===r.kind){var i=r.variableDefinitions;i&&i.forEach(function(r){var i=r.variable,t=r.type,n=(0,_graphql.typeFromAST)(e,t);n&&(a[i.name.value]=n)})}}),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getQueryFacts,exports.collectVariables=collectVariables;var _graphql=require("graphql")},{graphql:55}],15:[function(require,module,exports){"use strict";function getSelectedOperationName(e,t,n){if(n&&!(n.length<1)){var r=n.map(function(e){return e.name&&e.name.value});if(t&&r.indexOf(t)!==-1)return t;if(t&&e){var a=e.map(function(e){return e.name&&e.name.value}),u=a.indexOf(t);if(u&&u<r.length)return r[u]}return r[0]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getSelectedOperationName},{}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _graphql=require("graphql");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _graphql.introspectionQuery}});exports.introspectionQuerySansSubscriptions="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"},{graphql:55}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function onHasCompletion(e,r,t){var n=require("codemirror"),o=void 0,a=void 0;n.on(r,"select",function(r,n){o||!function(){var r=n.parentNode,t=r.parentNode;o=document.createElement("div"),t.appendChild(o);var i=r.style.top,d="",p=e.cursorCoords().top;parseInt(i,10)<p&&(i="",d=window.innerHeight-p+3+"px"),o.className="CodeMirror-hints-wrapper",o.style.left=r.style.left,o.style.top=i,o.style.bottom=d,r.style.left="",r.style.top="",a=document.createElement("div"),a.className="CodeMirror-hint-information",d?(o.appendChild(a),o.appendChild(r)):(o.appendChild(r),o.appendChild(a));var l=void 0;o.addEventListener("DOMNodeRemoved",l=function(e){e.target===r&&(o.removeEventListener("DOMNodeRemoved",l),o.parentNode.removeChild(o),o=null,a=null,l=null)})}();var i=r.description?(0,_marked2.default)(r.description,{smartypants:!0}):"Self descriptive.",d=r.type?'<span class="infoType">'+renderType(r.type)+"</span>":"";a.innerHTML='<div class="content">'+("<p>"===i.slice(0,3)?"<p>"+d+i.slice(3):d+i)+"</div>",t&&t(a)})}function renderType(e){return e instanceof _graphql.GraphQLNonNull?renderType(e.ofType)+"!":e instanceof _graphql.GraphQLList?"["+renderType(e.ofType)+"]":'<a class="typeName">'+e.name+"</a>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=onHasCompletion;var _graphql=require("graphql"),_marked=require("marked"),_marked2=_interopRequireDefault(_marked)},{codemirror:45,graphql:55,marked:122}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_utilsGetHintsAtPosition=require("./utils/getHintsAtPosition"),_utilsGetHintsAtPosition2=_interopRequireDefault(_utilsGetHintsAtPosition);_codemirror2.default.registerHelper("hint","graphql",function(t,e){var r=e.schema;if(r){var i=t.getCursor(),o=t.getTokenAt(i),u=_utilsGetHintsAtPosition2.default(r,t.getValue(),i,o);return u&&u.list&&u.list.length>0&&(u.from=_codemirror2.default.Pos(u.from.line,u.from.column),u.to=_codemirror2.default.Pos(u.to.line,u.to.column),_codemirror2.default.signal(t,"hasCompletion",t,u,o)),u}})},{"./utils/getHintsAtPosition":26,codemirror:45}],19:[function(require,module,exports){"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function errorAnnotations(r,e){return e.nodes.map(function(o){var t="Variable"!==o.kind&&o.name?o.name:o.variable?o.variable:o;return{message:e.message,severity:"error",type:"validation",from:r.posFromIndex(t.loc.start),to:r.posFromIndex(t.loc.end)}})}function mapCat(r,e){return Array.prototype.concat.apply([],r.map(e))}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql");_codemirror2.default.registerHelper("lint","graphql",function(r,e,o){var t=e.schema;try{var a=_graphql.parse(r)}catch(r){var n=r.locations[0],i=_codemirror2.default.Pos(n.line-1,n.column),l=o.getTokenAt(i);return[{message:r.message,severity:"error",type:"syntax",from:_codemirror2.default.Pos(n.line-1,l.start),to:_codemirror2.default.Pos(n.line-1,l.end)}]}var s=t?_graphql.validate(t,a):[];return mapCat(s,function(r){return errorAnnotations(o,r)})})},{codemirror:45,graphql:55}],20:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,t){
var r=e.levels,i=r&&0!==r.length?r[r.length-1]-(this.electricInput.test(t)?1:0):e.indentLevel;return i*this.config.indentUnit}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_utilsOnlineParser=require("./utils/onlineParser"),_utilsOnlineParser2=_interopRequireDefault(_utilsOnlineParser),_utilsRules=require("./utils/Rules");_codemirror2.default.defineMode("graphql",function(e){var t=_utilsOnlineParser2.default({eatWhitespace:function(e){return e.eatWhile(_utilsRules.isIgnored)},LexRules:_utilsRules.LexRules,ParseRules:_utilsRules.ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:t.startState,token:t.token,indent:indent,electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}})},{"./utils/Rules":24,"./utils/onlineParser":30,codemirror:45}],21:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,l){var u=e.levels,r=u&&0!==u.length?u[u.length-1]-(this.electricInput.test(l)?1:0):e.indentLevel;return r*this.config.indentUnit}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_utilsOnlineParser=require("../utils/onlineParser"),_utilsOnlineParser2=_interopRequireDefault(_utilsOnlineParser),_utilsRuleHelpers=require("../utils/RuleHelpers");_codemirror2.default.defineMode("graphql-results",function(e){var l=_utilsOnlineParser2.default({eatWhitespace:function(e){return e.eatSpace()},LexRules:LexRules,ParseRules:ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:l.startState,token:l.token,indent:indent,electricInput:/^\s*[}\]]/,fold:"brace",closeBrackets:{pairs:'[]{}""',explode:"[]{}"}}});var LexRules={Punctuation:/^\[|\]|\{|\}|\:|\,/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Keyword:/^true|false|null/},ParseRules={Document:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("Entry",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("}")],Entry:[_utilsRuleHelpers.t("String","def"),_utilsRuleHelpers.p(":"),"Value"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue"}return null;case"Keyword":switch(e.value){case"true":case"false":return"BooleanValue";case"null":return"NullValue"}return null}},NumberValue:[_utilsRuleHelpers.t("Number","number")],StringValue:[_utilsRuleHelpers.t("String","string")],BooleanValue:[_utilsRuleHelpers.t("Keyword","builtin")],NullValue:[_utilsRuleHelpers.t("Keyword","keyword")],ListValue:[_utilsRuleHelpers.p("["),_utilsRuleHelpers.list("Value",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("]")],ObjectValue:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("ObjectField",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("}")],ObjectField:[_utilsRuleHelpers.t("String","property"),_utilsRuleHelpers.p(":"),"Value"]}},{"../utils/RuleHelpers":23,"../utils/onlineParser":30,codemirror:45}],22:[function(require,module,exports){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var CharacterStream=function(){function t(e){_classCallCheck(this,t),this._start=0,this._pos=0,this._sourceText=e}return t.prototype.getStartOfToken=function(){return this._start},t.prototype.getCurrentPosition=function(){return this._pos},t.prototype._testNextCharacter=function(t){var e=this._sourceText.charAt(this._pos),s=!1;return s="string"==typeof t?e===t:t.test?t.test(e):t(e)},t.prototype.eol=function(){return this._sourceText.length===this._pos},t.prototype.sol=function(){return 0===this._pos},t.prototype.peek=function(){return Boolean(this._sourceText.charAt(this._pos))?this._sourceText.charAt(this._pos):null},t.prototype.next=function(){var t=this._sourceText.charAt(this._pos);return this._pos++,t},t.prototype.eat=function(t){var e=this._testNextCharacter(t);if(e)return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},t.prototype.eatWhile=function(t){var e=this._testNextCharacter(t),s=!1;for(e&&(s=e,this._start=this._pos);e;)this._pos++,e=this._testNextCharacter(t),s=!0;return s},t.prototype.eatSpace=function(){return this.eatWhile(/[\s\u00a0]/)},t.prototype.skipToEnd=function(){this._pos=this._sourceText.length},t.prototype.skipTo=function(t){this._pos=t},t.prototype.match=function t(e,s,o){void 0===s&&(s=!0);var r=null,t=null;switch(typeof e){case"string":var i=new RegExp(e,o?"i":"");t=i.test(this._sourceText.substr(this._pos,e.length)),r=e;break;case"object":case"function":t=this._sourceText.slice(this._pos).match(e),r=t&&t[0]}return!(!t||"string"!=typeof e&&0!==t.index)&&(s&&(this._start=this._pos,this._pos+=r.length),t)},t.prototype.backUp=function(t){this._pos-=t},t.prototype.column=function(){return this._pos},t.prototype.indentation=function(){var t=this._sourceText.match(/\s*/),e=0;if(t&&0===t.index)for(var s=t[0],o=0;s.length>o;)9===s.charCodeAt(o)?e+=2:e++,o++;return e},t.prototype.current=function(){return this._sourceText.slice(this._start,this._pos)},t}();exports.default=CharacterStream,module.exports=exports.default},{}],23:[function(require,module,exports){"use strict";function opt(t){return{ofRule:t}}function list(t,n){return{ofRule:t,isList:!0,separator:n}}function butNot(t,n){var u=t.match;return t.match=function(t){return u(t)&&n.every(function(n){return!n.match(t)})},t}function t(t,n){return{style:n,match:function(n){return n.kind===t}}}function p(t,n){return{style:n||"punctuation",match:function(n){return"Punctuation"===n.kind&&n.value===t}}}exports.__esModule=!0,exports.opt=opt,exports.list=list,exports.butNot=butNot,exports.t=t,exports.p=p},{}],24:[function(require,module,exports){"use strict";function word(e){return{style:"keyword",match:function(l){return"Name"===l.kind&&l.value===e}}}function name(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,l){e.name=l.value}}}function type(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,l){e.prevState.type=l.value}}}exports.__esModule=!0;var _utilsRuleHelpers=require("../utils/RuleHelpers"),isIgnored=function(e){return" "===e||"\t"===e||","===e||"\n"===e||"\r"===e||"\ufeff"===e};exports.isIgnored=isIgnored;var LexRules={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|@|\[|\]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/};exports.LexRules=LexRules;var ParseRules={Document:[_utilsRuleHelpers.list("Definition")],Definition:function(e){switch(e.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return"FragmentDefinition";case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[word("query"),_utilsRuleHelpers.opt(name("def")),_utilsRuleHelpers.opt("VariableDefinitions"),_utilsRuleHelpers.list("Directive"),"SelectionSet"],Mutation:[word("mutation"),_utilsRuleHelpers.opt(name("def")),_utilsRuleHelpers.opt("VariableDefinitions"),_utilsRuleHelpers.list("Directive"),"SelectionSet"],Subscription:[word("subscription"),_utilsRuleHelpers.opt(name("def")),_utilsRuleHelpers.opt("VariableDefinitions"),_utilsRuleHelpers.list("Directive"),"SelectionSet"],VariableDefinitions:[_utilsRuleHelpers.p("("),_utilsRuleHelpers.list("VariableDefinition"),_utilsRuleHelpers.p(")")],VariableDefinition:["Variable",_utilsRuleHelpers.p(":"),"Type",_utilsRuleHelpers.opt("DefaultValue")],Variable:[_utilsRuleHelpers.p("$","variable"),name("variable")],DefaultValue:[_utilsRuleHelpers.p("="),"Value"],SelectionSet:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("Selection"),_utilsRuleHelpers.p("}")],Selection:function(e,l){return"..."===e.value?l.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":l.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[name("property"),_utilsRuleHelpers.p(":"),name("qualifier"),_utilsRuleHelpers.opt("Arguments"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.opt("SelectionSet")],Field:[name("property"),_utilsRuleHelpers.opt("Arguments"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.opt("SelectionSet")],Arguments:[_utilsRuleHelpers.p("("),_utilsRuleHelpers.list("Argument"),_utilsRuleHelpers.p(")")],Argument:[name("attribute"),_utilsRuleHelpers.p(":"),"Value"],FragmentSpread:[_utilsRuleHelpers.p("..."),name("def"),_utilsRuleHelpers.list("Directive")],InlineFragment:[_utilsRuleHelpers.p("..."),_utilsRuleHelpers.opt("TypeCondition"),_utilsRuleHelpers.list("Directive"),"SelectionSet"],FragmentDefinition:[word("fragment"),_utilsRuleHelpers.opt(_utilsRuleHelpers.butNot(name("def"),[word("on")])),"TypeCondition",_utilsRuleHelpers.list("Directive"),"SelectionSet"],TypeCondition:[word("on"),type("atom")],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable"}return null;case"Name":switch(e.value){case"true":case"false":return"BooleanValue"}return"EnumValue"}},NumberValue:[_utilsRuleHelpers.t("Number","number")],StringValue:[_utilsRuleHelpers.t("String","string")],BooleanValue:[_utilsRuleHelpers.t("Name","builtin")],EnumValue:[name("string-2")],ListValue:[_utilsRuleHelpers.p("["),_utilsRuleHelpers.list("Value"),_utilsRuleHelpers.p("]")],ObjectValue:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("ObjectField"),_utilsRuleHelpers.p("}")],ObjectField:[name("attribute"),_utilsRuleHelpers.p(":"),"Value"],Type:function(e){return"["===e.value?"ListType":"NamedType"},ListType:[_utilsRuleHelpers.p("["),"Type",_utilsRuleHelpers.p("]"),_utilsRuleHelpers.opt(_utilsRuleHelpers.p("!"))],NamedType:[name("atom"),_utilsRuleHelpers.opt(_utilsRuleHelpers.p("!"))],Directive:[_utilsRuleHelpers.p("@","meta"),name("meta"),_utilsRuleHelpers.opt("Arguments")],SchemaDef:[word("schema"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("OperationTypeDef"),_utilsRuleHelpers.p("}")],OperationTypeDef:[name("keyword"),_utilsRuleHelpers.p(":"),name("atom")],ScalarDef:[word("scalar"),name("atom"),_utilsRuleHelpers.list("Directive")],ObjectTypeDef:[word("type"),name("atom"),_utilsRuleHelpers.opt("Implements"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("FieldDef"),_utilsRuleHelpers.p("}")],Implements:[word("implements"),_utilsRuleHelpers.list(name("atom"))],FieldDef:[name("property"),_utilsRuleHelpers.opt("ArgumentsDef"),_utilsRuleHelpers.p(":"),"Type",_utilsRuleHelpers.list("Directive")],ArgumentsDef:[_utilsRuleHelpers.p("("),_utilsRuleHelpers.list("InputValueDef"),_utilsRuleHelpers.p(")")],InputValueDef:[name("attribute"),_utilsRuleHelpers.p(":"),"Type",_utilsRuleHelpers.opt("DefaultValue"),_utilsRuleHelpers.list("Directive")],InterfaceDef:[word("interface"),name("atom"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("FieldDef"),_utilsRuleHelpers.p("}")],UnionDef:[word("union"),name("atom"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("="),name("atom"),_utilsRuleHelpers.list("UnionMember")],UnionMember:[_utilsRuleHelpers.p("|"),name("atom")],EnumDef:[word("enum"),name("atom"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("EnumValueDef"),_utilsRuleHelpers.p("}")],EnumValueDef:[name("string-2"),_utilsRuleHelpers.list("Directive")],InputDef:[word("input"),name("atom"),_utilsRuleHelpers.list("Directive"),_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("InputValueDef"),_utilsRuleHelpers.p("}")],ExtendDef:[word("extend"),"ObjectTypeDef"],DirectiveDef:[word("directive"),_utilsRuleHelpers.p("@","meta"),name("meta"),_utilsRuleHelpers.opt("ArgumentsDef"),word("on"),name("string-2"),_utilsRuleHelpers.list("DirectiveLocation")],DirectiveLocation:[_utilsRuleHelpers.p("|"),name("string-2")]};exports.ParseRules=ParseRules},{"../utils/RuleHelpers":23}],25:[function(require,module,exports){"use strict";function forEachState(t,e){for(var r=[],o=t;o&&o.kind;)r.push(o),o=o.prevState;for(var a=r.length-1;a>=0;a--)e(r[a])}exports.__esModule=!0,exports.default=forEachState,module.exports=exports.default},{}],26:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getHintsAtPosition(e,t,n,i){var a=getTypeInfo(e,i.state),r=i.state,p=r.kind,u=r.step;if("comment"!==i.type){if("Document"===p)return _hintList2.default(n,i,[{text:"query"},{text:"mutation"},{text:"subscription"},{text:"fragment"},{text:"{"}]);if(("SelectionSet"===p||"Field"===p||"AliasedField"===p)&&a.parentType){var l;if(a.parentType.getFields){var s=a.parentType.getFields();l=_objectValues2.default(s)}else l=[];return _graphql.isAbstractType(a.parentType)&&l.push(_graphqlTypeIntrospection.TypeNameMetaFieldDef),a.parentType===e.getQueryType()&&l.push(_graphqlTypeIntrospection.SchemaMetaFieldDef,_graphqlTypeIntrospection.TypeMetaFieldDef),_hintList2.default(n,i,l.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if("Arguments"===p||"Argument"===p&&0===u){var o=a.argDefs;if(o)return _hintList2.default(n,i,o.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if(("ObjectValue"===p||"ObjectField"===p&&0===u)&&a.objectFieldDefs){var f=_objectValues2.default(a.objectFieldDefs);return _hintList2.default(n,i,f.map(function(e){return{text:e.name,type:e.type,description:e.description}}))}if("EnumValue"===p||"ListValue"===p&&1===u||"ObjectField"===p&&2===u||"Argument"===p&&2===u){var c=_graphql.getNamedType(a.inputType);if(c instanceof _graphql.GraphQLEnumType){var d=c.getValues(),y=_objectValues2.default(d);return _hintList2.default(n,i,y.map(function(e){return{text:e.name,type:c,description:e.description}}))}if(c===_graphql.GraphQLBoolean)return _hintList2.default(n,i,[{text:"true",type:_graphql.GraphQLBoolean,description:"Not false."},{text:"false",type:_graphql.GraphQLBoolean,description:"Not true."}])}if("TypeCondition"===p&&1===u||"NamedType"===p&&"TypeCondition"===r.prevState.kind){var g;if(a.parentType)_graphql.isAbstractType(a.parentType)?!function(){var t=e.getPossibleTypes(a.parentType),n=Object.create(null);t.forEach(function(e){e.getInterfaces().forEach(function(e){n[e.name]=e})}),g=t.concat(_objectValues2.default(n))}():g=[a.parentType];else{var m=e.getTypeMap();g=_objectValues2.default(m).filter(_graphql.isCompositeType)}return _hintList2.default(n,i,g.map(function(e){return{text:e.name,description:e.description}}))}if("FragmentSpread"===p&&1===u){var T=function(){var r=e.getTypeMap(),p=getDefinitionState(i.state),u=getFragmentDefinitions(t),l=u.filter(function(t){return r[t.typeCondition.name.value]&&!(p&&"FragmentDefinition"===p.kind&&p.name===t.name.value)&&_graphql.doTypesOverlap(e,a.parentType,r[t.typeCondition.name.value])});return{v:_hintList2.default(n,i,l.map(function(e){return{text:e.name.value,type:r[e.typeCondition.name.value],description:"fragment "+e.name.value+" on "+e.typeCondition.name.value}}))}}();if("object"==typeof T)return T.v}if("VariableDefinition"===p&&2===u||"ListType"===p&&1===u||"NamedType"===p&&("VariableDefinition"===r.prevState.kind||"ListType"===r.prevState.kind)){var _=e.getTypeMap(),h=_objectValues2.default(_).filter(_graphql.isInputType);return _hintList2.default(n,i,h.map(function(e){return{text:e.name,description:e.description}}))}if("Directive"===p){var D=e.getDirectives().filter(function(e){return canUseDirective(r.prevState.kind,e)});return _hintList2.default(n,i,D.map(function(e){return{text:e.name,description:e.description}}))}}}function canUseDirective(e,t){var n=t.locations;switch(e){case"Query":return n.indexOf("QUERY")!==-1;case"Mutation":return n.indexOf("MUTATION")!==-1;case"Subscription":return n.indexOf("SUBSCRIPTION")!==-1;case"Field":return n.indexOf("FIELD")!==-1;case"FragmentDefinition":return n.indexOf("FRAGMENT_DEFINITION")!==-1;case"FragmentSpread":return n.indexOf("FRAGMENT_SPREAD")!==-1;case"InlineFragment":return n.indexOf("INLINE_FRAGMENT")!==-1}return!1}function getTypeInfo(e,t){var n={type:null,parentType:null,inputType:null,directiveDef:null,fieldDef:null,argDef:null,argDefs:null,objectFieldDefs:null};return _forEachState2.default(t,function(t){switch(t.kind){case"Query":case"ShortQuery":n.type=e.getQueryType();break;case"Mutation":n.type=e.getMutationType();break;case"Subscription":n.type=e.getSubscriptionType();break;case"InlineFragment":case"FragmentDefinition":t.type&&(n.type=e.getType(t.type));break;case"Field":n.fieldDef=n.type&&t.name?getFieldDef(e,n.parentType,t.name):null,n.type=n.fieldDef&&n.fieldDef.type;break;case"SelectionSet":n.parentType=_graphql.getNamedType(n.type);break;case"Directive":n.directiveDef=t.name&&e.getDirective(t.name);break;case"Arguments":n.argDefs="Field"===t.prevState.kind?n.fieldDef&&n.fieldDef.args:"Directive"===t.prevState.kind?n.directiveDef&&n.directiveDef.args:null;break;case"Argument":if(n.argDef=null,n.argDefs)for(var i=0;i<n.argDefs.length;i++)if(n.argDefs[i].name===t.name){n.argDef=n.argDefs[i];break}n.inputType=n.argDef&&n.argDef.type;break;case"ListValue":var a=_graphql.getNullableType(n.inputType);n.inputType=a instanceof _graphql.GraphQLList?a.ofType:null;break;case"ObjectValue":var r=_graphql.getNamedType(n.inputType);n.objectFieldDefs=r instanceof _graphql.GraphQLInputObjectType?r.getFields():null;break;case"ObjectField":var p=t.name&&n.objectFieldDefs?n.objectFieldDefs[t.name]:null;n.inputType=p&&p.type}}),n}function getFragmentDefinitions(e){var t=[];return _runParser2.default(e,{eatWhitespace:function(e){return e.eatWhile(_Rules.isIgnored)},LexRules:_Rules.LexRules,ParseRules:_Rules.ParseRules},function(e,n){"FragmentDefinition"===n.kind&&n.name&&n.type&&t.push({kind:"FragmentDefinition",name:{kind:"Name",value:n.name},typeCondition:{kind:"NamedType",name:{kind:"Name",value:n.type}}})}),t}function getDefinitionState(e){var t=void 0;return _forEachState2.default(e,function(e){switch(e.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":t=e}}),t}function getFieldDef(e,t,n){return n===_graphqlTypeIntrospection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_graphqlTypeIntrospection.SchemaMetaFieldDef:n===_graphqlTypeIntrospection.TypeMetaFieldDef.name&&e.getQueryType()===t?_graphqlTypeIntrospection.TypeMetaFieldDef:n===_graphqlTypeIntrospection.TypeNameMetaFieldDef.name&&_graphql.isCompositeType(t)?_graphqlTypeIntrospection.TypeNameMetaFieldDef:t.getFields?t.getFields()[n]:void 0}exports.__esModule=!0,exports.default=getHintsAtPosition;var _graphql=require("graphql"),_graphqlTypeIntrospection=require("graphql/type/introspection"),_forEachState=require("./forEachState"),_forEachState2=_interopRequireDefault(_forEachState),_hintList=require("./hintList"),_hintList2=_interopRequireDefault(_hintList),_objectValues=require("./objectValues"),_objectValues2=_interopRequireDefault(_objectValues),_runParser=require("./runParser"),_runParser2=_interopRequireDefault(_runParser),_Rules=require("./Rules");module.exports=exports.default},{"./Rules":24,"./forEachState":25,"./hintList":27,"./objectValues":29,"./runParser":31,graphql:55,"graphql/type/introspection":74}],27:[function(require,module,exports){"use strict";function hintList(t,e,n){var r=filterAndSortList(n,normalizeText(e.string));if(r){var i=null!==e.type&&/"|\w/.test(e.string[0])?e.start:e.end,o={list:r,from:{line:t.line,column:i},to:{line:t.line,column:e.end}};return o}}function filterAndSortList(t,e){var n=e?t.map(function(t){return{proximity:getProximity(normalizeText(t.text),e),entry:t}}).filter(function(t){return t.proximity<=2}).sort(function(t,e){return t.proximity-e.proximity||t.entry.text.length-e.entry.text.length}).map(function(t){return t.entry}):t;return n.length>0?n:t}function normalizeText(t){return t.toLowerCase().replace(/\W/g,"")}function getProximity(t,e){var n=lexicalDistance(e,t);return t.length>e.length&&(n-=t.length-e.length-1,n+=0===t.indexOf(e)?0:.5),n}function lexicalDistance(t,e){var n=void 0,r=void 0,i=[],o=t.length,l=e.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=l;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=l;r++){var u=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+u),n>1&&r>1&&t[n-1]===e[r-2]&&t[n-2]===e[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+u))}return i[o][l]}exports.__esModule=!0,exports.default=hintList,module.exports=exports.default},{}],28:[function(require,module,exports){"use strict";function jsonParse(e){string=e,strLen=e.length,start=end=lastEnd=-1,ch(),lex();var r=parseObj();return expect("EOF"),r}function parseObj(){var e=start,r=[];if(expect("{"),!skip("}")){do r.push(parseMember());while(skip(","));expect("}")}return{kind:"Object",start:e,end:lastEnd,members:r}}function parseMember(){var e=start,r="String"===kind?curToken():null;expect("String"),expect(":");var t=parseVal();return{kind:"Member",start:e,end:lastEnd,key:r,value:t}}function parseArr(){var e=start,r=[];if(expect("["),!skip("]")){do r.push(parseVal());while(skip(","));expect("]")}return{kind:"Array",start:e,end:lastEnd,values:r}}function parseVal(){switch(kind){case"[":return parseArr();case"{":return parseObj();case"String":case"Number":case"Boolean":case"Null":var e=curToken();return lex(),e}return expect("Value")}function curToken(){return{kind:kind,start:start,end:end,value:JSON.parse(string.slice(start,end))}}function expect(e){if(kind===e)return void lex();var r=void 0;if("EOF"===kind)r="[end of file]";else if(end-start>1)r="`"+string.slice(start,end)+"`";else{var t=string.slice(start).match(/^.+?\b/);r="`"+(t?t[0]:string[start])+"`"}throw syntaxError("Expected "+e+" but found "+r+".")}function syntaxError(e){return{message:e,start:start,end:end}}function skip(e){if(kind===e)return lex(),!0}function ch(){end<strLen&&(end++,code=end===strLen?0:string.charCodeAt(end))}function lex(){for(lastEnd=end;9===code||10===code||13===code||32===code;)ch();if(0===code)return void(kind="EOF");switch(start=end,code){case 34:return kind="String",readString();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return kind="Number",readNumber();case 102:if("false"!==string.slice(start,start+5))break;return end+=4,ch(),void(kind="Boolean");case 110:if("null"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Null");case 116:if("true"!==string.slice(start,start+4))break;return end+=3,ch(),void(kind="Boolean")}kind=string[start],ch()}function readString(){for(ch();34!==code&&code>31;)if(92===code)switch(ch(),code){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:ch();break;case 117:ch(),readHex(),readHex(),readHex(),readHex();break;default:throw syntaxError("Bad character escape sequence.")}else{if(end===strLen)throw syntaxError("Unterminated string.");ch()}if(34===code)return void ch();throw syntaxError("Unterminated string.")}function readHex(){if(code>=48&&code<=57||code>=65&&code<=70||code>=97&&code<=102)return ch();throw syntaxError("Expected hexadecimal digit.")}function readNumber(){45===code&&ch(),48===code?ch():readDigits(),46===code&&(ch(),readDigits()),69!==code&&101!==code||(ch(),43!==code&&45!==code||ch(),readDigits())}function readDigits(){if(code<48||code>57)throw syntaxError("Expected decimal digit.");do ch();while(code>=48&&code<=57)}exports.__esModule=!0,exports.default=jsonParse;var string=void 0,strLen=void 0,start=void 0,end=void 0,lastEnd=void 0,code=void 0,kind=void 0;module.exports=exports.default},{}],29:[function(require,module,exports){"use strict";function objectValues(e){for(var t=Object.keys(e),r=t.length,o=new Array(r),s=0;s<r;++s)o[s]=e[t[s]];return o}exports.__esModule=!0,exports.default=objectValues,module.exports=exports.default},{}],30:[function(require,module,exports){"use strict";function onlineParser(e){return{startState:function(){var t={level:0};return pushRule(e.ParseRules,t,"Document"),t},token:function(t,r){return getToken(t,r,e)}}}function getToken(e,t,r){var n=r.LexRules,a=r.ParseRules,s=r.eatWhitespace,u=r.editorConfig;if(t.needsAdvance&&(t.needsAdvance=!1,advanceRule(t,!0)),e.sol()){var l=u&&u.tabSize||2;t.indentLevel=Math.floor(e.indentation()/l)}if(s(e))return"ws";if("#"===e.peek())return e.skipToEnd(),"comment";var i=lex(n,e);if(!i)return e.match(/\S+/),"invalidchar";if(saveState(t),"Punctuation"===i.kind)if(/^[{([]/.test(i.value))t.levels=(t.levels||[]).concat(t.indentLevel+1);else if(/^[})\]]/.test(i.value)){var o=t.levels=(t.levels||[]).slice(0,-1);o.length>0&&o[o.length-1]<t.indentLevel&&(t.indentLevel=o[o.length-1])}for(;t.rule;){var p="function"==typeof t.rule?0===t.step?t.rule(i,e):null:t.rule[t.step];if(t.needsSeperator&&(p=p&&p.separator),p){if(p.ofRule&&(p=p.ofRule),"string"==typeof p){pushRule(a,t,p);continue}if(p.match&&p.match(i))return p.update&&p.update(t,i),"Punctuation"===i.kind?advanceRule(t,!0):t.needsAdvance=!0,p.style}unsuccessful(t)}return restoreState(t),"invalidchar"}function assign(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++)e[r[n]]=t[r[n]];return e}function saveState(e){assign(stateCache,e)}function restoreState(e){assign(e,stateCache)}function pushRule(e,t,r){if(!e[r])throw new TypeError("Unknown rule: "+r);t.prevState=assign({},t),t.kind=r,t.name=null,t.type=null,t.rule=e[r],t.step=0,t.needsSeperator=!1}function popRule(e){e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.needsSeperator=e.prevState.needsSeperator,e.prevState=e.prevState.prevState}function advanceRule(e,t){if(isList(e)){if(e.rule[e.step].separator&&(e.needsSeperator=!e.needsSeperator,!e.needsSeperator))return;if(t)return}for(e.needsSeperator=!1,e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)popRule(e),e.rule&&(isList(e)?e.rule[e.step].separator&&(e.needsSeperator=!e.needsSeperator):(e.needsSeperator=!1,e.step++))}function isList(e){return Array.isArray(e.rule)&&e.rule[e.step].isList}function unsuccessful(e){for(;e.rule&&(!Array.isArray(e.rule)||!e.rule[e.step].ofRule);)popRule(e);e.rule&&advanceRule(e,!1)}function lex(e,t){for(var r=Object.keys(e),n=0;n<r.length;n++){var a=t.match(e[r[n]]);if(a)return{kind:r[n],value:a[0]}}}exports.__esModule=!0,exports.default=onlineParser;var stateCache={};module.exports=exports.default},{}],31:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function runParser(e,r,a){var t=_onlineParser2.default(r),n=t.startState(),u=e.split("\n");u.forEach(function(e){for(var r=new _CharacterStream2.default(e);!r.eol();){var u=t.token(r,n);a(r,n,u)}})}exports.__esModule=!0,exports.default=runParser;var _CharacterStream=require("./CharacterStream"),_CharacterStream2=_interopRequireDefault(_CharacterStream),_onlineParser=require("./onlineParser"),_onlineParser2=_interopRequireDefault(_onlineParser);module.exports=exports.default},{"./CharacterStream":22,"./onlineParser":30}],32:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getVariablesHint(e,t,r){var i=t.state,a=i.kind,l=i.step;if("Document"===a&&0===l)return _utilsHintList2.default(e,t,[{text:"{"}]);var n=r.variableToType;if(n){var u=getTypeInfo(n,t.state);if("Document"===a||"Variable"===a&&0===l){var o=Object.keys(n);return _utilsHintList2.default(e,t,o.map(function(e){return{text:'"'+e+'": ',type:n[e]}}))}if(("ObjectValue"===a||"ObjectField"===a&&0===l)&&u.fields){var s=Object.keys(u.fields).map(function(e){return u.fields[e]});return _utilsHintList2.default(e,t,s.map(function(e){return{text:'"'+e.name+'": ',type:e.type,description:e.description}}))}if("StringValue"===a||"NumberValue"===a||"BooleanValue"===a||"NullValue"===a||"ListValue"===a&&1===l||"ObjectField"===a&&2===l||"Variable"===a&&2===l){var p=function(){var r=_graphql.getNamedType(u.type);if(r instanceof _graphql.GraphQLInputObjectType)return{v:_utilsHintList2.default(e,t,[{text:"{"}])};if(r instanceof _graphql.GraphQLEnumType){var i=function(){var i=r.getValues(),a=Object.keys(i).map(function(e){return i[e]});return{v:{v:_utilsHintList2.default(e,t,a.map(function(e){return{text:'"'+e.name+'"',type:r,description:e.description}}))}}}();if("object"==typeof i)return i.v}else if(r===_graphql.GraphQLBoolean)return{v:_utilsHintList2.default(e,t,[{text:"true",type:_graphql.GraphQLBoolean,description:"Not false."},{text:"false",type:_graphql.GraphQLBoolean,description:"Not true."}])}}();if("object"==typeof p)return p.v}}}function getTypeInfo(e,t){var r={type:null,fields:null};return _utilsForEachState2.default(t,function(t){if("Variable"===t.kind)r.type=e[t.name];else if("ListValue"===t.kind){var i=_graphql.getNullableType(r.type);r.type=i instanceof _graphql.GraphQLList?i.ofType:null}else if("ObjectValue"===t.kind){var a=_graphql.getNamedType(r.type);r.fields=a instanceof _graphql.GraphQLInputObjectType?a.getFields():null}else if("ObjectField"===t.kind){var l=t.name&&r.fields?r.fields[t.name]:null;r.type=l&&l.type}}),r}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql"),_utilsForEachState=require("../utils/forEachState"),_utilsForEachState2=_interopRequireDefault(_utilsForEachState),_utilsHintList=require("../utils/hintList"),_utilsHintList2=_interopRequireDefault(_utilsHintList);_codemirror2.default.registerHelper("hint","graphql-variables",function(e,t){var r=e.getCursor(),i=e.getTokenAt(r),a=getVariablesHint(r,i,t);return a&&a.list&&a.list.length>0&&(a.from=_codemirror2.default.Pos(a.from.line,a.from.column),a.to=_codemirror2.default.Pos(a.to.line,a.to.column),_codemirror2.default.signal(e,"hasCompletion",e,a,i)),a})},{"../utils/forEachState":25,"../utils/hintList":27,codemirror:45,graphql:55}],33:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validateVariables(e,r,a){var n=[];return a.members.forEach(function(a){var t=a.key.value,i=r[t];i?validateValue(i,a.value).forEach(function(r){var a=r[0],t=r[1];n.push(lintError(e,a,t))}):n.push(lintError(e,a.key,'Variable "$'+t+'" does not appear in any GraphQL query.'))}),n}function validateValue(e,r){for(var a=!0;a;){var n=e,t=r;if(i=u=void 0,a=!1,!(n instanceof _graphql.GraphQLNonNull)){if("Null"===t.kind)return[];if(n instanceof _graphql.GraphQLList){var i=function(){var e=n.ofType;return"Array"===t.kind?{v:mapCat(t.values,function(r){return validateValue(e,r)})}:{v:validateValue(e,t)}}();if("object"==typeof i)return i.v}if(n instanceof _graphql.GraphQLInputObjectType){var u=function(){if("Object"!==t.kind)return{v:[[t,'Type "'+n+'" must be an Object.']]};var e=Object.create(null),r=mapCat(t.members,function(r){var a=r.key.value;e[a]=!0;var t=n.getFields()[a];if(!t)return[[r.key,'Type "'+n+'" does not have a field "'+a+'".']];var i=t?t.type:void 0;return validateValue(i,r.value)});return Object.keys(n.getFields()).forEach(function(a){if(!e[a]){var i=n.getFields()[a].type;i instanceof _graphql.GraphQLNonNull&&r.push([t,'Object of type "'+n+'" is missing required field "'+a+'".'])}}),{v:r}}();if("object"==typeof u)return u.v}return"Boolean"===n.name&&"Boolean"!==t.kind||"String"===n.name&&"String"!==t.kind||"ID"===n.name&&"Number"!==t.kind&&"String"!==t.kind||"Float"===n.name&&"Number"!==t.kind||"Int"===n.name&&("Number"!==t.kind||(0|t.value)!==t.value)?[[t,'Expected value of type "'+n+'".']]:(n instanceof _graphql.GraphQLEnumType||n instanceof _graphql.GraphQLScalarType)&&("String"!==t.kind&&"Number"!==t.kind&&"Boolean"!==t.kind&&"Null"!==t.kind||isNullish(n.parseValue(t.value)))?[[t,'Expected value of type "'+n+'".']]:[];
}if("Null"===t.kind)return[[t,'Type "'+n+'" is non-nullable and cannot be null.']];e=n.ofType,r=t,a=!0}}function lintError(e,r,a){return{message:a,severity:"error",type:"validation",from:e.posFromIndex(r.start),to:e.posFromIndex(r.end)}}function isNullish(e){return null===e||void 0===e||e!==e}function mapCat(e,r){return Array.prototype.concat.apply([],e.map(r))}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_graphql=require("graphql"),_utilsJsonParse=require("../utils/jsonParse"),_utilsJsonParse2=_interopRequireDefault(_utilsJsonParse);_codemirror2.default.registerHelper("lint","graphql-variables",function(e,r,a){if(!e)return[];var n=void 0;try{n=_utilsJsonParse2.default(e)}catch(e){if(e.stack)throw e;return[lintError(a,e,e.message)]}var t=r.variableToType;return t?validateVariables(a,t,n):[]})},{"../utils/jsonParse":28,codemirror:45,graphql:55}],34:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function indent(e,l){var u=e.levels,t=u&&0!==u.length?u[u.length-1]-(this.electricInput.test(l)?1:0):e.indentLevel;return t*this.config.indentUnit}function namedKey(e){return{style:e,match:function(e){return"String"===e.kind},update:function(e,l){e.name=l.value.slice(1,-1)}}}var _codemirror=require("codemirror"),_codemirror2=_interopRequireDefault(_codemirror),_utilsOnlineParser=require("../utils/onlineParser"),_utilsOnlineParser2=_interopRequireDefault(_utilsOnlineParser),_utilsRuleHelpers=require("../utils/RuleHelpers");_codemirror2.default.defineMode("graphql-variables",function(e){var l=_utilsOnlineParser2.default({eatWhitespace:function(e){return e.eatSpace()},LexRules:LexRules,ParseRules:ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:l.startState,token:l.token,indent:indent,electricInput:/^\s*[}\]]/,fold:"brace",closeBrackets:{pairs:'[]{}""',explode:"[]{}"}}});var LexRules={Punctuation:/^\[|\]|\{|\}|\:|\,/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?/,Keyword:/^true|false|null/},ParseRules={Document:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("Variable",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("}")],Variable:[namedKey("variable"),_utilsRuleHelpers.p(":"),"Value"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue"}return null;case"Keyword":switch(e.value){case"true":case"false":return"BooleanValue";case"null":return"NullValue"}return null}},NumberValue:[_utilsRuleHelpers.t("Number","number")],StringValue:[_utilsRuleHelpers.t("String","string")],BooleanValue:[_utilsRuleHelpers.t("Keyword","builtin")],NullValue:[_utilsRuleHelpers.t("Keyword","keyword")],ListValue:[_utilsRuleHelpers.p("["),_utilsRuleHelpers.list("Value",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("]")],ObjectValue:[_utilsRuleHelpers.p("{"),_utilsRuleHelpers.list("ObjectField",_utilsRuleHelpers.p(",")),_utilsRuleHelpers.p("}")],ObjectField:[namedKey("attribute"),_utilsRuleHelpers.p(":"),"Value"]}},{"../utils/RuleHelpers":23,"../utils/onlineParser":30,codemirror:45}],35:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function n(e){var n=e.search(l);return n==-1?0:n}function t(e,n,t){return/\bstring\b/.test(e.getTokenTypeAt(o(n.line,0)))&&!/^[\'\"`]/.test(t)}var i={},l=/[^\s\u00a0]/,o=e.Pos;e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=i);for(var n=this,t=1/0,l=this.listSelections(),r=null,a=l.length-1;a>=0;a--){var m=l[a].from(),c=l[a].to();m.line>=t||(c.line>=t&&(c=o(t,0)),t=m.line,null==r?n.uncomment(m,c,e)?r="un":(n.lineComment(m,c,e),r="line"):"un"==r?n.uncomment(m,c,e):n.lineComment(m,c,e))}}),e.defineExtension("lineComment",function(e,r,a){a||(a=i);var m=this,c=m.getModeAt(e),f=m.getLine(e.line);if(null!=f&&!t(m,e,f)){var g=a.lineComment||c.lineComment;if(!g)return void((a.blockCommentStart||c.blockCommentStart)&&(a.fullLines=!0,m.blockComment(e,r,a)));var s=Math.min(0!=r.ch||r.line==e.line?r.line+1:r.line,m.lastLine()+1),d=null==a.padding?" ":a.padding,u=a.commentBlankLines||e.line==r.line;m.operation(function(){if(a.indent){for(var t=null,i=e.line;i<s;++i){var r=m.getLine(i),c=r.slice(0,n(r));(null==t||t.length>c.length)&&(t=c)}for(var i=e.line;i<s;++i){var r=m.getLine(i),f=t.length;(u||l.test(r))&&(r.slice(0,f)!=t&&(f=n(r)),m.replaceRange(t+g+d,o(i,0),o(i,f)))}}else for(var i=e.line;i<s;++i)(u||l.test(m.getLine(i)))&&m.replaceRange(g+d,o(i,0))})}}),e.defineExtension("blockComment",function(e,n,t){t||(t=i);var r=this,a=r.getModeAt(e),m=t.blockCommentStart||a.blockCommentStart,c=t.blockCommentEnd||a.blockCommentEnd;if(!m||!c)return void((t.lineComment||a.lineComment)&&0!=t.fullLines&&r.lineComment(e,n,t));var f=Math.min(n.line,r.lastLine());f!=e.line&&0==n.ch&&l.test(r.getLine(f))&&--f;var g=null==t.padding?" ":t.padding;e.line>f||r.operation(function(){if(0!=t.fullLines){var i=l.test(r.getLine(f));r.replaceRange(g+c,o(f)),r.replaceRange(m+g,o(e.line,0));var s=t.blockCommentLead||a.blockCommentLead;if(null!=s)for(var d=e.line+1;d<=f;++d)(d!=f||i)&&r.replaceRange(s+g,o(d,0))}else r.replaceRange(c,n),r.replaceRange(m,e)})}),e.defineExtension("uncomment",function(e,n,t){t||(t=i);var r,a=this,m=a.getModeAt(e),c=Math.min(0!=n.ch||n.line==e.line?n.line:n.line-1,a.lastLine()),f=Math.min(e.line,c),g=t.lineComment||m.lineComment,s=[],d=null==t.padding?" ":t.padding;e:if(g){for(var u=f;u<=c;++u){var h=a.getLine(u),v=h.indexOf(g);if(v>-1&&!/comment/.test(a.getTokenTypeAt(o(u,v+1)))&&(v=-1),v==-1&&l.test(h))break e;if(v>-1&&l.test(h.slice(0,v)))break e;s.push(h)}if(a.operation(function(){for(var e=f;e<=c;++e){var n=s[e-f],t=n.indexOf(g),i=t+g.length;t<0||(n.slice(i,i+d.length)==d&&(i+=d.length),r=!0,a.replaceRange("",o(e,t),o(e,i)))}}),r)return!0}var p=t.blockCommentStart||m.blockCommentStart,C=t.blockCommentEnd||m.blockCommentEnd;if(!p||!C)return!1;var b=t.blockCommentLead||m.blockCommentLead,k=a.getLine(f),L=c==f?k:a.getLine(c),x=k.indexOf(p),R=L.lastIndexOf(C);if(R==-1&&f!=c&&(L=a.getLine(--c),R=L.lastIndexOf(C)),x==-1||R==-1||!/comment/.test(a.getTokenTypeAt(o(f,x+1)))||!/comment/.test(a.getTokenTypeAt(o(c,R+1))))return!1;var O=k.lastIndexOf(p,e.ch),E=O==-1?-1:k.slice(0,e.ch).indexOf(C,O+p.length);if(O!=-1&&E!=-1&&E+C.length!=e.ch)return!1;E=L.indexOf(C,n.ch);var M=L.slice(n.ch).lastIndexOf(p,E-n.ch);return O=E==-1||M==-1?-1:n.ch+M,(E==-1||O==-1||O==n.ch)&&(a.operation(function(){a.replaceRange("",o(c,R-(d&&L.slice(R-d.length,R)==d?d.length:0)),o(c,R+C.length));var e=x+p.length;if(d&&k.slice(e,e+d.length)==d&&(e+=d.length),a.replaceRange("",o(f,x),o(f,e)),b)for(var n=f+1;n<=c;++n){var t=a.getLine(n),i=t.indexOf(b);if(i!=-1&&!l.test(t.slice(0,i))){var r=i+b.length;d&&t.slice(r,r+d.length)==d&&(r+=d.length),a.replaceRange("",o(n,i),o(n,r))}}}),!0)})})},{"../../lib/codemirror":45}],36:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:u[t]}function n(e){return function(t){return s(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t)return null;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var a=t(i,"pairs"),o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var l=c(n,o[s].head);if(!l||a.indexOf(l)%2!=0)return e.Pass}for(var s=o.length-1;s>=0;s--){var f=o[s].head;n.replaceRange("",h(f.line,f.ch-1),h(f.line,f.ch+1),"+delete")}}function a(n){var i=r(n),a=i&&t(i,"explode");if(!a||n.getOption("disableInput"))return e.Pass;for(var o=n.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var l=c(n,o[s].head);if(!l||a.indexOf(l)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),o=n.listSelections();for(var e=0;e<o.length;e++){var t=o[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function o(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new h(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new h(t.head.line,t.head.ch+(n?1:-1))}}function s(n,i){var a=r(n);if(!a||n.getOption("disableInput"))return e.Pass;var s=t(a,"pairs"),c=s.indexOf(i);if(c==-1)return e.Pass;for(var u,d=t(a,"triples"),g=s.charAt(c+1)==i,p=n.listSelections(),v=c%2==0,m=0;m<p.length;m++){var b,x=p[m],C=x.head,P=n.getRange(C,h(C.line,C.ch+1));if(v&&!x.empty())b="surround";else if(!g&&v||P!=i)if(g&&C.ch>1&&d.indexOf(i)>=0&&n.getRange(h(C.line,C.ch-2),C)==i+i&&(C.ch<=2||n.getRange(h(C.line,C.ch-3),h(C.line,C.ch-2))!=i))b="addFour";else if(g){if(e.isWordChar(P)||!f(n,C,i))return e.Pass;b="both"}else{if(!v||n.getLine(C.line).length!=C.ch&&!l(P,s)&&!/\s/.test(P))return e.Pass;b="both"}else b=d.indexOf(i)>=0&&n.getRange(C,h(C.line,C.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=b)return e.Pass}else u=b}var S=c%2?s.charAt(c-1):i,k=c%2?i:s.charAt(c+1);n.operation(function(){if("skip"==u)n.execCommand("goCharRight");else if("skipThree"==u)for(var e=0;e<3;e++)n.execCommand("goCharRight");else if("surround"==u){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=S+t[e]+k;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=o(t[e]);n.setSelections(t)}else"both"==u?(n.replaceSelection(S+k,null),n.triggerElectric(S+k),n.execCommand("goCharLeft")):"addFour"==u&&(n.replaceSelection(S+S+S+S,"before"),n.execCommand("goCharRight"))})}function l(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function c(e,t){var n=e.getRange(h(t.line,t.ch-1),h(t.line,t.ch+1));return 2==n.length?n:null}function f(t,n,r){var i=t.getLine(n.line),a=t.getTokenAt(n);if(/\bstring2?\b/.test(a.type))return!1;var o=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(o.pos=o.start=a.start;;){var s=t.getMode().token(o,a.state);if(o.pos>=n.ch+1)return/\bstring2?\b/.test(s);o.start=o.pos}}var u={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},h=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(g),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(g))});for(var d=u.pairs+"`",g={Backspace:i,Enter:a},p=0;p<d.length;p++)g["'"+d.charAt(p)+"'"]=n(d.charAt(p))})},{"../../lib/codemirror":45}],37:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,f=l>=0&&c[o.text.charAt(l)]||c[o.text.charAt(++l)];if(!f)return null;var u=">"==f.charAt(1)?1:-1;if(i&&u>0!=(l==t.ch))return null;var h=e.getTokenTypeAt(a(t.line,l+1)),s=n(e,a(t.line,l+(u>0?1:0)),u,h||null,r);return null==s?null:{from:a(t.line,l),to:s&&s.pos,match:s&&s.ch==f.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,f=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),s=t.line;s!=h;s+=n){var m=e.getLine(s);if(m){var d=n>0?0:m.length-1,g=n>0?m.length:-1;if(!(m.length>o))for(s==t.line&&(d=t.ch-(n<0?1:0));d!=g;d+=n){var p=m.charAt(d);if(u.test(p)&&(void 0===i||e.getTokenTypeAt(a(s,d+1))==i)){var v=c[p];if(">"==v.charAt(1)==n>0)f.push(p);else{if(!f.length)return{pos:a(s,d),ch:p};f.pop()}}}}}return s-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,c=[],l=e.listSelections(),f=0;f<l.length;f++){var u=l[f].empty()&&t(e,l[f].head,!1,i);if(u&&e.getLine(u.from.line).length<=r){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(e.markText(u.from,a(u.from.line,u.from.ch+1),{className:h})),u.to&&e.getLine(u.to.line).length<=r&&c.push(e.markText(u.to,a(u.to.line,u.to.ch+1),{className:h}))}}if(c.length){o&&e.state.focused&&e.focus();var s=function(){e.operation(function(){for(var e=0;e<c.length;e++)c[e].clear()})};if(!n)return s;setTimeout(s,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,c={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",r),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})})},{"../../lib/codemirror":45}],38:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(r,n){function t(t){for(var f=n.ch,s=0;;){var u=f<=0?-1:l.lastIndexOf(t,f-1);if(u!=-1){if(1==s&&u<n.ch)break;if(i=r.getTokenTypeAt(e.Pos(o,u+1)),!/^(comment|string)/.test(i))return u+1;f=u-1}else{if(1==s)break;s=1,f=l.length}}}var i,o=n.line,l=r.getLine(o),f="{",s="}",u=t("{");if(null==u&&(f="[",s="]",u=t("[")),null!=u){var a,d,c=1,g=r.lastLine();e:for(var v=o;v<=g;++v)for(var p=r.getLine(v),m=v==o?u:0;;){var P=p.indexOf(f,m),k=p.indexOf(s,m);if(P<0&&(P=p.length),k<0&&(k=p.length),m=Math.min(P,k),m==p.length)break;if(r.getTokenTypeAt(e.Pos(v,m+1))==i)if(m==P)++c;else if(!--c){a=v,d=m;break e}++m}if(null!=a&&(o!=a||d!=u))return{from:e.Pos(o,u),to:e.Pos(a,d)}}}),e.registerHelper("fold","import",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));if(/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"keyword"!=t.type||"import"!=t.string)return null;for(var i=n,o=Math.min(r.lastLine(),n+10);i<=o;++i){var l=r.getLine(i),f=l.indexOf(";");if(f!=-1)return{startCh:t.end,end:e.Pos(i,f)}}}var i,o=n.line,l=t(o);if(!l||t(o-1)||(i=t(o-2))&&i.end.line==o-1)return null;for(var f=l.end;;){var s=t(f.line+1);if(null==s)break;f=s.end}return{from:r.clipPos(e.Pos(o,l.startCh+1)),to:f}}),e.registerHelper("fold","include",function(r,n){function t(n){if(n<r.firstLine()||n>r.lastLine())return null;var t=r.getTokenAt(e.Pos(n,1));return/\S/.test(t.string)||(t=r.getTokenAt(e.Pos(n,t.end+1))),"meta"==t.type&&"#include"==t.string.slice(0,8)?t.start+8:void 0}var i=n.line,o=t(i);if(null==o||null!=t(i-1))return null;for(var l=i;;){var f=t(l+1);if(null==f)break;++l}return{from:e.Pos(i,o+1),to:r.clipPos(e.Pos(l))}})})},{"../../lib/codemirror":45}],39:[function(require,module,exports){!function(n){"object"==typeof exports&&"object"==typeof module?n(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function o(o,i,t,l){function f(n){var e=d(o,i);if(!e||e.to.line-e.from.line<u)return null;for(var r=o.findMarksAt(e.from),t=0;t<r.length;++t)if(r[t].__isFold&&"fold"!==l){if(!n)return null;e.cleared=!0,r[t].clear()}return e}if(t&&t.call){var d=t;t=null}else var d=r(o,t,"rangeFinder");"number"==typeof i&&(i=n.Pos(i,0));var u=r(o,t,"minFoldSize"),a=f(!0);if(r(o,t,"scanUp"))for(;!a&&i.line>o.firstLine();)i=n.Pos(i.line-1,0),a=f(!1);if(a&&!a.cleared&&"unfold"!==l){var c=e(o,t);n.on(c,"mousedown",function(o){s.clear(),n.e_preventDefault(o)});var s=o.markText(a.from,a.to,{replacedWith:c,clearOnEnter:r(o,t,"clearOnEnter"),__isFold:!0});s.on("clear",function(e,r){n.signal(o,"unfold",o,e,r)}),n.signal(o,"fold",o,a.from,a.to)}}function e(n,o){var e=r(n,o,"widget");if("string"==typeof e){var i=document.createTextNode(e);e=document.createElement("span"),e.appendChild(i),e.className="CodeMirror-foldmarker"}return e}function r(n,o,e){if(o&&void 0!==o[e])return o[e];var r=n.options.foldOptions;return r&&void 0!==r[e]?r[e]:i[e]}n.newFoldFunction=function(n,e){return function(r,i){o(r,i,{rangeFinder:n,widget:e})}},n.defineExtension("foldCode",function(n,e,r){o(this,n,e,r)}),n.defineExtension("isFolded",function(n){for(var o=this.findMarksAt(n),e=0;e<o.length;++e)if(o[e].__isFold)return!0}),n.commands.toggleFold=function(n){n.foldCode(n.getCursor())},n.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")},n.commands.unfold=function(n){n.foldCode(n.getCursor(),null,"unfold")},n.commands.foldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"fold")})},n.commands.unfoldAll=function(o){o.operation(function(){for(var e=o.firstLine(),r=o.lastLine();e<=r;e++)o.foldCode(n.Pos(e,0),null,"unfold")})},n.registerHelper("fold","combine",function(){var n=Array.prototype.slice.call(arguments,0);return function(o,e){for(var r=0;r<n.length;++r){var i=n[r](o,e);if(i)return i}}}),n.registerHelper("fold","auto",function(n,o){for(var e=n.getHelpers(o,"fold"),r=0;r<e.length;r++){var i=e[r](n,o);if(i)return i}});var i={rangeFinder:n.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};n.defineOption("foldOptions",null),n.defineExtension("foldOption",function(n,o){return r(this,n,o)})})},{"../../lib/codemirror":45}],40:[function(require,module,exports){!function(o){"object"==typeof exports&&"object"==typeof module?o(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],o):o(CodeMirror)}(function(o){"use strict";function t(o){this.options=o,this.from=this.to=0}function e(o){return o===!0&&(o={}),null==o.gutter&&(o.gutter="CodeMirror-foldgutter"),null==o.indicatorOpen&&(o.indicatorOpen="CodeMirror-foldgutter-open"),null==o.indicatorFolded&&(o.indicatorFolded="CodeMirror-foldgutter-folded"),o}function r(o,t){for(var e=o.findMarks(c(t,0),c(t+1,0)),r=0;r<e.length;++r)if(e[r].__isFold&&e[r].find().from.line==t)return e[r]}function n(o){if("string"==typeof o){var t=document.createElement("div");return t.className=o+" CodeMirror-guttermarker-subtle",t}return o.cloneNode(!0)}function i(o,t,e){var i=o.state.foldGutter.options,f=t,d=o.foldOption(i,"minFoldSize"),a=o.foldOption(i,"rangeFinder");o.eachLine(t,e,function(t){var e=null;if(r(o,f))e=n(i.indicatorFolded);else{var u=c(f,0),l=a&&a(o,u);l&&l.to.line-l.from.line>=d&&(e=n(i.indicatorOpen))}o.setGutterMarker(t,i.gutter,e),++f})}function f(o){var t=o.getViewport(),e=o.state.foldGutter;e&&(o.operation(function(){i(o,t.from,t.to)}),e.from=t.from,e.to=t.to)}function d(o,t,e){var n=o.state.foldGutter;if(n){var i=n.options;if(e==i.gutter){var f=r(o,t);f?f.clear():o.foldCode(c(t,0),i.rangeFinder)}}}function a(o){var t=o.state.foldGutter;if(t){var e=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){f(o)},e.foldOnChangeTimeSpan||600)}}function u(o){var t=o.state.foldGutter;if(t){var e=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var e=o.getViewport();t.from==t.to||e.from-t.to>20||t.from-e.to>20?f(o):o.operation(function(){e.from<t.from&&(i(o,e.from,t.from),t.from=e.from),e.to>t.to&&(i(o,t.to,e.to),t.to=e.to)})},e.updateViewportTimeSpan||400)}}function l(o,t){var e=o.state.foldGutter;if(e){var r=t.line;r>=e.from&&r<e.to&&i(o,r,r+1)}}o.defineOption("foldGutter",!1,function(r,n,i){i&&i!=o.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",d),r.off("change",a),r.off("viewportChange",u),r.off("fold",l),r.off("unfold",l),r.off("swapDoc",a)),n&&(r.state.foldGutter=new t(e(n)),f(r),r.on("gutterClick",d),r.on("change",a),r.on("viewportChange",u),r.on("fold",l),r.on("unfold",l),r.on("swapDoc",a))});var c=o.Pos})},{"../../lib/codemirror":45,"./foldcode":39}],41:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function i(t,i){this.cm=t,this.options=i,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var e=this;t.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function e(i,e){var n=t.cmpPos(e.from,i.from);return n>0&&i.to.ch-i.from.ch!=e.to.ch-e.from.ch}function n(t,i,e){var n=t.options.hintOptions,o={};for(var s in m)o[s]=m[s];if(n)for(var s in n)void 0!==n[s]&&(o[s]=n[s]);if(e)for(var s in e)void 0!==e[s]&&(o[s]=e[s]);return o.hint.resolve&&(o.hint=o.hint.resolve(t,i)),o}function o(t){return"string"==typeof t?t:t.text}function s(t,i){function e(t,e){var o;o="string"!=typeof e?function(t){return e(t,i)}:n.hasOwnProperty(e)?n[e]:e,s[t]=o}var n={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(-i.menuSize()+1,!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},o=t.options.customKeys,s=o?{}:n;if(o)for(var c in o)o.hasOwnProperty(c)&&e(c,o[c]);var r=t.options.extraKeys;if(r)for(var c in r)r.hasOwnProperty(c)&&e(c,r[c]);return s}function c(t,i){for(;i&&i!=t;){if("LI"===i.nodeName.toUpperCase()&&i.parentNode==t)return i;i=i.parentNode}}function r(i,e){this.completion=i,this.data=e,this.picked=!1;var n=this,r=i.cm,h=this.hints=document.createElement("ul");h.className="CodeMirror-hints",this.selectedHint=e.selectedHint||0;for(var l=e.list,a=0;a<l.length;++a){var d=h.appendChild(document.createElement("li")),p=l[a],m=u+(a!=this.selectedHint?"":" "+f);null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,e,p):d.appendChild(document.createTextNode(p.displayText||o(p))),d.hintId=a}var g=r.cursorCoords(i.options.alignWithWord?e.from:null),v=g.left,y=g.bottom,w=!0;h.style.left=v+"px",h.style.top=y+"px";var H=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),k=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(i.options.container||document.body).appendChild(h);var C=h.getBoundingClientRect(),b=C.bottom-k,x=h.scrollHeight>h.clientHeight+1,A=r.getScrollInfo();if(b>0){var S=C.bottom-C.top,T=g.top-(g.bottom-C.top);if(T-S>0)h.style.top=(y=g.top-S)+"px",w=!1;else if(S>k){h.style.height=k-5+"px",h.style.top=(y=g.bottom-C.top)+"px";var M=r.getCursor();e.from.ch!=M.ch&&(g=r.cursorCoords(M),h.style.left=(v=g.left)+"px",C=h.getBoundingClientRect())}}var F=C.right-H;if(F>0&&(C.right-C.left>H&&(h.style.width=H-5+"px",F-=C.right-C.left-H),h.style.left=(v=g.left-F)+"px"),x)for(var N=h.firstChild;N;N=N.nextSibling)N.style.paddingRight=r.display.nativeBarWidth+"px";if(r.addKeyMap(this.keyMap=s(i,{moveFocus:function(t,i){n.changeActive(n.selectedHint+t,i)},setFocus:function(t){n.changeActive(t)},menuSize:function(){return n.screenAmount()},length:l.length,close:function(){i.close()},pick:function(){n.pick()},data:e})),i.options.closeOnUnfocus){var E;r.on("blur",this.onBlur=function(){E=setTimeout(function(){i.close()},100)}),r.on("focus",this.onFocus=function(){clearTimeout(E)})}return r.on("scroll",this.onScroll=function(){var t=r.getScrollInfo(),e=r.getWrapperElement().getBoundingClientRect(),n=y+A.top-t.top,o=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return w||(o+=h.offsetHeight),o<=e.top||o>=e.bottom?i.close():(h.style.top=n+"px",void(h.style.left=v+A.left-t.left+"px"))}),t.on(h,"dblclick",function(t){var i=c(h,t.target||t.srcElement);i&&null!=i.hintId&&(n.changeActive(i.hintId),n.pick())}),t.on(h,"click",function(t){var e=c(h,t.target||t.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),i.options.completeOnSingleClick&&n.pick())}),t.on(h,"mousedown",function(){setTimeout(function(){r.focus()},20)}),t.signal(e,"select",l[0],h.firstChild),!0}function h(t,i){if(!t.somethingSelected())return i;for(var e=[],n=0;n<i.length;n++)i[n].supportsSelection&&e.push(i[n]);return e}function l(t,i,e,n){if(t.async)t(i,n,e);else{var o=t(i,e);o&&o.then?o.then(n):n(o)}}function a(i,e){var n,o=i.getHelpers(e,"hint");if(o.length){var s=function(t,i,e){function n(o){return o==s.length?i(null):void l(s[o],t,e,function(t){t&&t.list.length>0?i(t):n(o+1)})}var s=h(t,o);n(0)};return s.async=!0,s.supportsSelection=!0,s}return(n=i.getHelper(i.getCursor(),"hintWords"))?function(i){return t.hint.fromList(i,{words:n})}:t.hint.anyword?function(i,e){return t.hint.anyword(i,e)}:function(){}}var u="CodeMirror-hint",f="CodeMirror-hint-active";t.showHint=function(t,i,e){if(!i)return t.showHint(e);e&&e.async&&(i.async=!0);var n={hint:i};if(e)for(var o in e)n[o]=e[o];return t.showHint(n)},t.defineExtension("showHint",function(e){e=n(this,this.getCursor("start"),e);var o=this.listSelections();if(!(o.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var s=0;s<o.length;s++)if(o[s].head.line!=o[s].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var c=this.state.completionActive=new i(this,e);c.options.hint&&(t.signal(this,"startCompletion",this),c.update(!0))}});var d=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(i,e){var n=i.list[e];n.hint?n.hint(this.cm,i,n):this.cm.replaceRange(o(n),n.from||i.from,n.to||i.to,"complete"),t.signal(i,"pick",n),this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var e=this;this.debounce=d(function(){e.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var i=this,e=++this.tick;l(this.options.hint,this.cm,this.options,function(n){i.tick==e&&i.finishUpdate(n,t)})}},finishUpdate:function(i,n){this.data&&t.signal(this.data,"update");var o=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),i&&this.data&&e(this.data,i)||(this.data=i,i&&i.list.length&&(o&&1==i.list.length?this.pick(i,0):(this.widget=new r(this,i),t.signal(i,"shown"))))}},r.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,e){if(i>=this.data.list.length?i=e?this.data.list.length-1:0:i<0&&(i=e?0:this.data.list.length-1),this.selectedHint!=i){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+f,""),n=this.hints.childNodes[this.selectedHint=i],n.className+=" "+f,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:a}),t.registerHelper("hint","fromList",function(i,e){var n=i.getCursor(),o=i.getTokenAt(n),s=t.Pos(n.line,o.end);if(o.string&&/\w/.test(o.string[o.string.length-1]))var c=o.string,r=t.Pos(n.line,o.start);else var c="",r=s;for(var h=[],l=0;l<e.words.length;l++){var a=e.words[l];a.slice(0,c.length)==c&&h.push(a)}if(h.length)return{list:h,from:r,to:s}}),t.commands.autocomplete=t.showHint;var m={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)})},{"../../lib/codemirror":45}],42:[function(require,module,exports){!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(e,n){function o(e){return r.parentNode?(r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+"px",void(r.style.left=e.clientX+5+"px")):t.off(document,"mousemove",o)}var r=document.createElement("div");return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),t.on(document,"mousemove",o),o(e),null!=r.style.opacity&&(r.style.opacity=1),r}function n(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){t.parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout(function(){n(t)},600))}function r(n,r,i){function a(){t.off(i,"mouseout",a),l&&(o(l),l=null)}var l=e(n,r),u=setInterval(function(){if(l)for(var t=i;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){a();break}}if(!l)return clearInterval(u)},400);t.on(i,"mouseout",a)}function i(t,e,n){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){g(t,e)},this.waitingFor=0}function a(t,e){return e instanceof Function?{getAnnotations:e}:(e&&e!==!0||(e={}),e)}function l(t){var e=t.state.lint;e.hasGutter&&t.clearGutter(y);for(var n=0;n<e.marked.length;++n)e.marked[n].clear();e.marked.length=0}function u(e,n,o,i){var a=document.createElement("div"),l=a;return a.className="CodeMirror-lint-marker-"+n,o&&(l=a.appendChild(document.createElement("div")),l.className="CodeMirror-lint-marker-multiple"),0!=i&&t.on(l,"mouseover",function(t){r(t,e,l)}),a}function s(t,e){return"error"==t?t:e}function c(t){for(var e=[],n=0;n<t.length;++n){var o=t[n],r=o.from.line;(e[r]||(e[r]=[])).push(o)}return e}function f(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+e,n.appendChild(document.createTextNode(t.message)),n}function m(e,n,o){function r(){a=-1,e.off("change",r)}var i=e.state.lint,a=++i.waitingFor;e.on("change",r),n(e.getValue(),function(n,o){e.off("change",r),i.waitingFor==a&&(o&&n instanceof t&&(n=o),p(e,n))},o,e)}function d(e){var n=e.state.lint,o=n.options,r=o.options||o,i=o.getAnnotations||e.getHelper(t.Pos(0,0),"lint");i&&(o.async||i.async?m(e,i,r):p(e,i(e.getValue(),r,e)))}function p(t,e){l(t);for(var n=t.state.lint,o=n.options,r=c(e),i=0;i<r.length;++i){var a=r[i];if(a){for(var m=null,d=n.hasGutter&&document.createDocumentFragment(),p=0;p<a.length;++p){var h=a[p],v=h.severity;v||(v="error"),m=s(m,v),o.formatAnnotation&&(h=o.formatAnnotation(h)),n.hasGutter&&d.appendChild(f(h)),h.to&&n.marked.push(t.markText(h.from,h.to,{className:"CodeMirror-lint-mark-"+v,__annotation:h}))}n.hasGutter&&t.setGutterMarker(i,y,u(d,m,a.length>1,n.options.tooltips));
}}o.onUpdateLinting&&o.onUpdateLinting(e,r,t)}function h(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(function(){d(t)},e.options.delay||500))}function v(t,e){for(var n=e.target||e.srcElement,o=document.createDocumentFragment(),i=0;i<t.length;i++){var a=t[i];o.appendChild(f(a))}r(e,o,n)}function g(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var o=n.getBoundingClientRect(),r=(o.left+o.right)/2,i=(o.top+o.bottom)/2,a=t.findMarksAt(t.coordsChar({left:r,top:i},"client")),l=[],u=0;u<a.length;++u){var s=a[u].__annotation;s&&l.push(s)}l.length&&v(l,e)}}var y="CodeMirror-lint-markers";t.defineOption("lint",!1,function(e,n,o){if(o&&o!=t.Init&&(l(e),e.state.lint.options.lintOnChange!==!1&&e.off("change",h),t.off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var r=e.getOption("gutters"),u=!1,s=0;s<r.length;++s)r[s]==y&&(u=!0);var c=e.state.lint=new i(e,a(e,n),u);c.options.lintOnChange!==!1&&e.on("change",h),0!=c.options.tooltips&&t.on(e.getWrapperElement(),"mouseover",c.onMouseOver),d(e)}}),t.defineExtension("performLint",function(){this.state.lint&&d(this)})})},{"../../lib/codemirror":45}],43:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o,s,l=e.getLine(r.line).slice(0,r.ch),f=0;;){t.lastIndex=f;var h=t.exec(l);if(!h)break;if(o=h,s=o.index,f=o.index+(o[0].length||1),f==l.length)break}var c=o&&o[0].length||0;c||(0==s&&0==l.length?o=void 0:s!=e.getLine(r.line).length&&c++)}else{t.lastIndex=r.ch;var l=e.getLine(r.line),o=t.exec(l),c=o&&o[0].length||0,s=o&&o.index;s+c==l.length||c||(c=1)}if(o&&c)return{from:i(r.line,s),to:i(r.line,s+c),match:o}};else{var s=t;o&&(t=t.toLowerCase());var l=o?function(e){return e.toLowerCase()}:function(e){return e},f=t.split("\n");if(1==f.length)t.length?this.matches=function(r,o){if(r){var f=e.getLine(o.line).slice(0,o.ch),h=l(f),c=h.lastIndexOf(t);if(c>-1)return c=n(f,h,c),{from:i(o.line,c),to:i(o.line,c+s.length)}}else{var f=e.getLine(o.line).slice(o.ch),h=l(f),c=h.indexOf(t);if(c>-1)return c=n(f,h,c)+o.ch,{from:i(o.line,c),to:i(o.line,c+s.length)}}}:this.matches=function(){};else{var h=s.split("\n");this.matches=function(t,n){var r=f.length-1;if(t){if(n.line-(f.length-1)<e.firstLine())return;if(l(e.getLine(n.line).slice(0,h[r].length))!=f[f.length-1])return;for(var o=i(n.line,h[r].length),s=n.line-1,c=r-1;c>=1;--c,--s)if(f[c]!=l(e.getLine(s)))return;var u=e.getLine(s),a=u.length-h[0].length;if(l(u.slice(a))!=f[0])return;return{from:i(s,a),to:o}}if(!(n.line+(f.length-1)>e.lastLine())){var u=e.getLine(n.line),a=u.length-h[0].length;if(l(u.slice(a))==f[0]){for(var g=i(n.line,a),s=n.line+1,c=1;c<r;++c,++s)if(f[c]!=l(e.getLine(s)))return;if(l(e.getLine(s).slice(0,h[r].length))==f[r])return{from:g,to:i(s,h[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(r<n)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})})},{"../../lib/codemirror":45}],44:[function(require,module,exports){!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){if(r<0&&0==n.ch)return t.clipPos(h(n.line-1));var o=t.getLine(n.line);if(r>0&&n.ch>=o.length)return t.clipPos(h(n.line+1,0));for(var i,a="start",l=n.ch,s=r<0?0:o.length,c=0;l!=s;l+=r,c++){var f=o.charAt(r<0?l-1:l),u="_"!=f&&e.isWordChar(f)?"w":"o";if("w"==u&&f.toUpperCase()==f&&(u="W"),"start"==a)"o"!=u&&(a="in",i=u);else if("in"==a&&i!=u){if("w"==i&&"W"==u&&r<0&&l--,"W"==i&&"w"==u&&r>0){i="w";continue}break}}return h(n.line,l)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):n<0?r.from():r.to()})}function r(t,n){return t.isReadOnly()?e.Pass:(t.operation(function(){for(var e=t.listSelections().length,r=[],o=-1,i=0;i<e;i++){var a=t.listSelections()[i].head;if(!(a.line<=o)){var l=h(a.line+(n?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),r.push({head:l,anchor:l}),o=a.line+1}}t.setSelections(r)}),void t.execCommand("indentAuto"))}function o(t,n){for(var r=n.ch,o=r,i=t.getLine(n.line);r&&e.isWordChar(i.charAt(r-1));)--r;for(;o<i.length&&e.isWordChar(i.charAt(o));)++o;return{from:h(n.line,r),to:h(n.line,o),word:i.slice(r,o)}}function i(e){var t=e.getCursor(),n=e.scanForBracket(t,-1);if(n)for(;;){var r=e.scanForBracket(t,1);if(!r)return;if(r.ch==v.charAt(v.indexOf(n.ch)+1))return e.setSelection(h(n.pos.line,n.pos.ch+1),r.pos,!1),!0;t=h(r.pos.line,r.pos.ch+1)}}function a(t,n){if(t.isReadOnly())return e.Pass;for(var r,o=t.listSelections(),i=[],a=0;a<o.length;a++){var l=o[a];if(!l.empty()){for(var s=l.from().line,c=l.to().line;a<o.length-1&&o[a+1].from().line==c;)c=l[++a].to().line;i.push(s,c)}}i.length?r=!0:i.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],o=0;o<i.length;o+=2){var a=i[o],l=i[o+1],s=h(a,0),c=h(l),f=t.getRange(s,c,!1);n?f.sort():f.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1}),t.replaceRange(f,s,c),r&&e.push({anchor:s,head:c})}r&&t.setSelections(e,0)})}function l(t,n){t.operation(function(){for(var r=t.listSelections(),i=[],a=[],l=0;l<r.length;l++){var s=r[l];s.empty()?(i.push(l),a.push("")):a.push(n(t.getRange(s.from(),s.to())))}t.replaceSelections(a,"around","case");for(var c,l=i.length-1;l>=0;l--){var s=r[i[l]];if(!(c&&e.cmpPos(s.head,c)>0)){var f=o(t,s.head);c=f.from,t.replaceRange(n(f.word),f.from,f.to)}}})}function s(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function c(e,t){var n=s(e);if(n){var r=n.query,o=e.getSearchCursor(r,t?n.to:n.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(r,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):n.word&&e.setSelection(n.from,n.to))}}var f=e.keyMap.sublime={fallthrough:"default"},u=e.commands,h=e.Pos,d=e.keyMap.default==e.keyMap.macDefault,p=d?"Cmd-":"Ctrl-",m=d?"Ctrl-":"Alt-";u[f[m+"Left"]="goSubwordLeft"]=function(e){n(e,-1)},u[f[m+"Right"]="goSubwordRight"]=function(e){n(e,1)},d&&(f["Cmd-Left"]="goLineStartSmart");var g=d?"Ctrl-Alt-":"Ctrl-";u[f[g+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},u[f[g+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},u[f["Shift-"+p+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var o=t[r].from(),i=t[r].to(),a=o.line;a<=i.line;++a)i.line>o.line&&a==i.line&&0==i.ch||n.push({anchor:a==o.line?o:h(a,0),head:a==i.line?i:h(a)});e.setSelections(n,0)},f["Shift-Tab"]="indentLess",u[f.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},u[f[p+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r];n.push({anchor:h(o.from().line,0),head:h(o.to().line+1,0)})}e.setSelections(n)},f["Shift-Ctrl-K"]="deleteLine",u[f[p+"Enter"]="insertLineAfter"]=function(e){return r(e,!1)},u[f["Shift-"+p+"Enter"]="insertLineBefore"]=function(e){return r(e,!0)},u[f[p+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),i=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var a=o(t,n);if(!a.word)return;t.setSelection(a.from,a.to),i=!0}else{var l=t.getRange(n,r),s=i?new RegExp("\\b"+l+"\\b"):l,c=t.getSearchCursor(s,r);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(s,h(t.firstLine(),0)),c.findNext()&&t.addSelection(c.from(),c.to()))}i&&(t.state.sublimeFindFullWord=t.doc.sel)};var v="(){}[]";u[f["Shift-"+p+"Space"]="selectScope"]=function(e){i(e)||e.execCommand("selectAll")},u[f["Shift-"+p+"M"]="selectBetweenBrackets"]=function(t){if(!i(t))return e.Pass},u[f[p+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var o=t.scanForBracket(n.head,-1);return o&&h(o.pos.line,o.pos.ch+1)||n.head})};var S=d?"Cmd-Ctrl-":"Shift-Ctrl-";u[f[S+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.firstLine()-1,i=[],a=0;a<n.length;a++){var l=n[a],s=l.from().line-1,c=l.to().line;i.push({anchor:h(l.anchor.line-1,l.anchor.ch),head:h(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--c,s>o?r.push(s,c):r.length&&(r[r.length-1]=c),o=c}t.operation(function(){for(var e=0;e<r.length;e+=2){var n=r[e],o=r[e+1],a=t.getLine(n);t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+a,h(t.lastLine()),null,"+swapLine"):t.replaceRange(a+"\n",h(o,0),null,"+swapLine")}t.setSelections(i),t.scrollIntoView()})},u[f[S+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),r=[],o=t.lastLine()+1,i=n.length-1;i>=0;i--){var a=n[i],l=a.to().line+1,s=a.from().line;0!=a.to().ch||a.empty()||l--,l<o?r.push(l,s):r.length&&(r[r.length-1]=s),o=s}t.operation(function(){for(var e=r.length-2;e>=0;e-=2){var n=r[e],o=r[e+1],i=t.getLine(n);n==t.lastLine()?t.replaceRange("",h(n-1),h(n),"+swapLine"):t.replaceRange("",h(n,0),h(n+1,0),"+swapLine"),t.replaceRange(i+"\n",h(o,0),null,"+swapLine")}t.scrollIntoView()})},u[f[p+"/"]="toggleCommentIndented"]=function(e){e.toggleComment({indent:!0})},u[f[p+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var o=t[r],i=o.from(),a=i.line,l=o.to().line;r<t.length-1&&t[r+1].from().line==l;)l=t[++r].to().line;n.push({start:a,end:l,anchor:!o.empty()&&i})}e.operation(function(){for(var t=0,r=[],o=0;o<n.length;o++){for(var i,a=n[o],l=a.anchor&&h(a.anchor.line-t,a.anchor.ch),s=a.start;s<=a.end;s++){var c=s-t;s==a.end&&(i=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:l||i,head:i})}e.setSelections(r,0)})},u[f["Shift-"+p+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",h(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},f[p+"T"]="transposeChars",u[f.F9="sortLines"]=function(e){a(e,!0)},u[f[p+"F9"]="sortLinesInsensitive"]=function(e){a(e,!1)},u[f.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},u[f["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},u[f[p+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var o=t[r].from(),i=t[r].to(),a=e.findMarks(o,i),l=0;l<a.length;l++)if(a[l].sublimeBookmark){a[l].clear();for(var s=0;s<n.length;s++)n[s]==a[l]&&n.splice(s--,1);break}l==a.length&&n.push(e.markText(o,i,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},u[f["Shift-"+p+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},u[f["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var o=t[r].find();o?n.push({anchor:o.from,head:o.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},f["Alt-Q"]="wrapLines";var k=p+"K ";f[k+p+"Backspace"]="delLineLeft",u[f.Backspace="smartBackspace"]=function(t){return t.somethingSelected()?e.Pass:void t.operation(function(){for(var n=t.listSelections(),r=t.getOption("indentUnit"),o=n.length-1;o>=0;o--){var i=n[o].head,a=t.getRange({line:i.line,ch:0},i),l=e.countColumn(a,null,t.getOption("tabSize")),s=t.findPosH(i,-1,"char",!1);if(a&&!/\S/.test(a)&&l%r==0){var c=new h(i.line,e.findColumn(a,l-r,r));c.ch!=i.ch&&(s=c)}t.replaceRange("",s,i,"+delete")}})},u[f[k+p+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},u[f[k+p+"U"]="upcaseAtCursor"]=function(e){l(e,function(e){return e.toUpperCase()})},u[f[k+p+"L"]="downcaseAtCursor"]=function(e){l(e,function(e){return e.toLowerCase()})},u[f[k+p+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},u[f[k+p+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},u[f[k+p+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),o=n;if(e.cmpPos(r,o)>0){var i=o;o=r,r=i}t.state.sublimeKilled=t.getRange(r,o),t.replaceRange("",r,o)}},u[f[k+p+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},u[f[k+p+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},f[k+p+"G"]="clearBookmarks",u[f[k+p+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)};var L=d?"Ctrl-Shift-":"Ctrl-Alt-";u[f[L+"Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(h(r.head.line-1,r.head.ch))}})},u[f[L+"Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(h(r.head.line+1,r.head.ch))}})},u[f[p+"F3"]="findUnder"]=function(e){c(e,!0)},u[f["Shift-"+p+"F3"]="findUnderPrevious"]=function(e){c(e,!1)},u[f["Alt-F3"]="findAllUnder"]=function(e){var t=s(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],o=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&o++;e.setSelections(r,o)}},f["Shift-"+p+"["]="fold",f["Shift-"+p+"]"]="unfold",f[k+p+"0"]=f[k+p+"j"]="unfoldAll",f[p+"I"]="findIncremental",f["Shift-"+p+"I"]="findIncrementalReverse",f[p+"H"]="replace",f.F3="findNext",f["Shift-F3"]="findPrev",e.normalizeKeyMap(f)})},{"../addon/edit/matchbrackets":37,"../addon/search/searchcursor":43,"../lib/codemirror":45}],45:[function(require,module,exports){!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(r,n){if(!(this instanceof e))return new e(r,n);this.options=n=n?Ri(n):{},Ri(rl,n,!1),d(n);var i=n.value;"string"==typeof i&&(i=new kl(i,n.mode,null,n.lineSeparator)),this.doc=i;var o=new e.inputStyles[n.inputStyle](this),l=this.display=new t(r,i,o);l.wrapper.CodeMirror=this,u(this),s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Oo&&l.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Oi,keySeq:null,specialChars:null};var a=this;xo&&Co<11&&setTimeout(function(){a.display.input.reset(!0)},20),Vt(this),Zi(),xt(this),this.curOp.forceUpdate=!0,Zn(this,i),n.autofocus&&!Oo||a.hasFocus()?setTimeout(Bi(mr,this),20):yr(this);for(var c in nl)nl.hasOwnProperty(c)&&nl[c](this,n[c],il);C(this),n.finishInit&&n.finishInit(this);for(var h=0;h<al.length;++h)al[h](this);St(this),So&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(l.lineDiv).textRendering&&(l.lineDiv.style.textRendering="auto")}function t(e,t,r){var n=this;this.input=r,n.scrollbarFiller=Ki("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=Ki("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Ki("div",null,"CodeMirror-code"),n.selectionDiv=Ki("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Ki("div",null,"CodeMirror-cursors"),n.measure=Ki("div",null,"CodeMirror-measure"),n.lineMeasure=Ki("div",null,"CodeMirror-measure"),n.lineSpace=Ki("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Ki("div",[Ki("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Ki("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Ki("div",null,null,"position: absolute; height: "+zl+"px; width: 1px;"),n.gutters=Ki("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Ki("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Ki("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),xo&&Co<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),So||yo&&Oo||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function r(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Re(e,100),e.state.modeGen++,e.curOp&&It(e)}function i(e){e.options.lineWrapping?(es(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Jl(e.display.wrapper,"CodeMirror-wrap"),f(e)),l(e),It(e),at(e),setTimeout(function(){y(e)},100)}function o(e){var t=bt(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/wt(e.display)-3);return function(i){if(Sn(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function l(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&ti(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),at(e)}function a(e){u(e),It(e),setTimeout(function(){x(e)},20)}function u(e){var t=e.display.gutters,r=e.options.gutters;ji(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(Ki("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=vn(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=mn(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function f(e){var t=e.display,r=e.doc;t.maxLine=Qn(r,r.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=h(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function d(e){var t=Pi(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ke(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Xe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function g(e,t,r){this.cm=r;var n=this.vert=Ki("div",[Ki("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Ki("div",[Ki("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),Dl(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Dl(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,xo&&Co<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Jl(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Dl(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?or(t,e):ir(t,e)},t),t.display.scrollbars.addClass&&es(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var r=e.display.barWidth,n=e.display.barHeight;b(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&O(e),b(e,p(e)),r=e.display.barWidth,n=e.display.barHeight}function b(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function w(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Ve(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=ni(t,n),l=ni(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=ni(t,ii(Qn(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=ni(t,ii(Qn(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function x(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=L(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=S(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Ki("div",[Ki("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l)+1,n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,r){var n=e.display;this.viewport=t,this.visible=w(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ye(e),this.force=r,this.dims=H(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Xe(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Xe(e)+"px",t.scrollbarsClipped=!0)}function M(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return Ft(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Ut(e))return!1;C(e)&&(Ft(e),t.dims=H(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),Ro&&(o=xn(e.doc,o),l=Cn(e.doc,l));var s=o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Gt(e,o,l),r.viewOffset=ii(Qn(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var a=Ut(e);if(!s&&0==a&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=Yi();return a>4&&(r.lineDiv.style.display="none"),P(e,r.updateLineNumbers,t.dims),a>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&Yi()!=u&&u.offsetHeight&&u.focus(),ji(r.cursorDiv),ji(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Re(e,400)),r.updateLineNumbers=null,!0}function N(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ye(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Ke(e.display)-_e(e),r.top)}),t.visible=w(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&M(e,t);n=!1){O(e);var i=p(e);Pe(e),y(e,i),A(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function W(e,t){var r=new T(e,t);if(M(e,r)){O(e),N(e,r);var n=p(e);Pe(e),y(e,n),A(e,n),r.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Xe(e)+"px"}function O(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,o=t.view[n];if(!o.hidden){if(xo&&Co<8){var l=o.node.offsetTop+o.node.offsetHeight;i=l-r,r=l}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var a=o.line.height-i;if(i<2&&(i=bt(t)),(a>.001||a<-.001)&&(ti(o.line,i),D(o.line),o.rest))for(var u=0;u<o.rest.length;u++)D(o.rest[u])}}}function D(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function H(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:L(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,r){function n(t){var r=t.nextSibling;return So&&Do&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var i=e.display,o=e.options.lineNumbers,l=i.lineDiv,s=l.firstChild,a=i.view,u=i.viewFrom,c=0;c<a.length;c++){var h=a[c];if(h.hidden);else if(h.node&&h.node.parentNode==l){for(;s!=h.node;)s=n(s);var f=o&&null!=t&&t<=u&&h.lineNumber;h.changes&&(Pi(h.changes,"gutter")>-1&&(f=!1),E(e,h,u,r)),f&&(ji(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),s=h.node.nextSibling}else{var d=V(e,h,u,r);l.insertBefore(d,s)}u+=h.size}for(;s;)s=n(s)}function E(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?R(e,t):"gutter"==o?G(e,t,r,n):"class"==o?B(t):"widget"==o&&U(e,t,n)}t.changes=null}function I(e){return e.node==e.text&&(e.node=Ki("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),xo&&Co<8&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=I(e);e.background=r.insertBefore(Ki("div",null,t),r.firstChild)}}function F(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Rn(e,t)}function R(e,t){var r=t.text.className,n=F(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,B(t)):r&&(t.text.className=r)}function B(e){z(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function G(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=I(t);t.gutterBackground=Ki("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){
var i=I(t),l=t.gutter=Ki("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),i.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(Ki("div",S(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var a=e.options.gutters[s],u=o.hasOwnProperty(a)&&o[a];u&&l.appendChild(Ki("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[a]+"px; width: "+n.gutterWidth[a]+"px"))}}}function U(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}K(e,t,r)}function V(e,t,r,n){var i=F(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),B(t),G(e,t,r,n),K(e,t,n),t.node}function K(e,t,r){if(j(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)j(e,t.rest[n],t,r,!1)}function j(e,t,r,n,i){if(t.widgets)for(var o=I(r),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=Ki("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),X(a,u,r,n),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Ti(a,"redraw")}}function X(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Y(e){return Bo(e.line,e.ch)}function _(e,t){return Go(e,t)<0?t:e}function q(e,t){return Go(e,t)<0?e:t}function $(e){e.state.focused||(e.display.input.focus(),mr(e))}function Z(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),a=null;if(l&&n.ranges.length>1)if(Uo&&Uo.text.join("\n")==t){if(n.ranges.length%Uo.text.length==0){a=[];for(var u=0;u<Uo.text.length;u++)a.push(o.splitLines(Uo.text[u]))}}else s.length==n.ranges.length&&(a=Ei(s,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],h=c.from(),f=c.to();c.empty()&&(r&&r>0?h=Bo(h.line,h.ch-r):e.state.overwrite&&!l?f=Bo(f.line,Math.min(Qn(o,f.line).text.length,f.ch+Hi(s).length)):Uo&&Uo.lineWise&&Uo.text.join("\n")==t&&(h=f=Bo(h.line,0)));var d=e.curOp.updateInput,p={from:h,to:f,text:a?a[u%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};kr(e.doc,p),Ti(e,"inputRead",e,p)}t&&!l&&J(e,t),Fr(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Q(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||At(t,function(){Z(t,r,0,null,"paste")}),!0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Br(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qn(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Br(e,i.head.line,"smart"));l&&Ti(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:Bo(i,0),head:Bo(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function te(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function re(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Oi,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ne(){var e=Ki("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Ki("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return So?e.style.width="1000px":e.setAttribute("wrap","off"),Ao&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Oi,this.gracePeriod=!1}function oe(e,t){var r=Je(e,t.line);if(!r||r.hidden)return null;var n=Qn(e.doc,t.line),i=$e(r,n,t.line),o=oi(n),l="left";if(o){var s=ho(o,t.ch);l=s%2?"right":"left"}var a=rt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function le(e,t){return t&&(e.bad=!0),e}function se(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return le(e.clipPos(Bo(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return ae(o,t,r)}}function ae(e,t,r){function n(t,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?u.map:c[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=ri(i<0?e.line:e.rest[i]),h=o[l]+n;return(n<0||s!=t)&&(h=o[l+(n?1:0)]),Bo(a,h)}}}var i=e.text.firstChild,o=!1;if(!t||!$l(i,t))return le(Bo(ri(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[r],r=0,!t)){var l=e.rest?Hi(e.rest):e.line;return le(Bo(ri(l),l.text.length),o)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var u=e.measure,c=u.maps,h=n(s,a,r);if(h)return le(h,o);for(var f=a.nextSibling,d=s?s.nodeValue.length-r:0;f;f=f.nextSibling){if(h=n(f,f.firstChild,0))return le(Bo(h.line,h.ch-d),o);d+=f.textContent.length}for(var p=a.previousSibling,d=r;p;p=p.previousSibling){if(h=n(p,p.firstChild,-1))return le(Bo(h.line,h.ch+d),o);d+=p.textContent.length}}function ue(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(s+=r);var c,h=t.getAttribute("cm-marker");if(h){var f=e.findMarks(Bo(n,0),Bo(i+1,0),o(+h));return void(f.length&&(c=f[0].find())&&(s+=Jn(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)l(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;a&&(s+=u,a=!1),s+=p}}for(var s="",a=!1,u=e.doc.lineSeparator();l(t),t!=r;)t=t.nextSibling;return s}function ce(e,t){this.ranges=e,this.primIndex=t}function he(e,t){this.anchor=e,this.head=t}function fe(e,t){var r=e[t];e.sort(function(e,t){return Go(e.from(),t.from())}),t=Pi(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(Go(o.to(),i.from())>=0){var l=q(o.from(),i.from()),s=_(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new he(a?s:l,a?l:s))}}return new ce(e,t)}function de(e,t){return new ce([new he(e,t||e)],0)}function pe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ge(e,t){if(t.line<e.first)return Bo(e.first,0);var r=e.first+e.size-1;return t.line>r?Bo(r,Qn(e,r).text.length):ve(t,Qn(e,t.line).text.length)}function ve(e,t){var r=e.ch;return null==r||r>t?Bo(e.line,t):r<0?Bo(e.line,0):e}function me(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ge(e,t[n]);return r}function be(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=Go(r,i)<0;o!=Go(n,i)<0?(i=r,r=n):o!=Go(r,n)<0&&(r=n)}return new he(i,r)}return new he(n||r,r)}function we(e,t,r,n){ke(e,new ce([be(e,e.sel.primary(),t,r)],0),n)}function xe(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=be(e,e.sel.ranges[i],t[i],null);var o=fe(n,e.sel.primIndex);ke(e,o,r)}function Ce(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,ke(e,fe(i,e.sel.primIndex),n)}function Se(e,t,r,n){ke(e,de(t,r),n)}function Le(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new he(ge(e,t[r].anchor),ge(e,t[r].head))},origin:r&&r.origin};return El(e,"beforeSelectionChange",e,n),e.cm&&El(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?fe(n.ranges,n.ranges.length-1):t}function Te(e,t,r){var n=e.history.done,i=Hi(n);i&&i.ranges?(n[n.length-1]=t,Me(e,t,r)):ke(e,t,r)}function ke(e,t,r){Me(e,t,r),fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Me(e,t,r){(Wi(e,"beforeSelectionChange")||e.cm&&Wi(e.cm,"beforeSelectionChange"))&&(t=Le(e,t,r));var n=r&&r.bias||(Go(t.primary().head,e.sel.primary().head)<0?-1:1);Ne(e,Ae(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Fr(e.cm)}function Ne(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ni(e.cm)),Ti(e,"cursorActivity",e))}function We(e){Ne(e,Ae(e,e.sel,null,!1),Rl)}function Ae(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=De(e,l.anchor,s&&s.anchor,r,n),u=De(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new he(a,u))}return i?fe(i,t.primIndex):t}function Oe(e,t,r,n,i){var o=Qn(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(El(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u,c=a.find(n<0?1:-1);if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(c=He(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=Go(c,r))&&(n<0?u<0:u>0))return Oe(e,c,t,n,i)}var h=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(h=He(e,h,n,h.line==t.line?o:null)),h?Oe(e,h,t,n,i):null}}return t}function De(e,t,r,n,i){var o=n||1,l=Oe(e,t,r,o,i)||!i&&Oe(e,t,r,o,!0)||Oe(e,t,r,-o,i)||!i&&Oe(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,Bo(e.first,0))}function He(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ge(e,Bo(t.line-1)):null:r>0&&t.ch==(n||Qn(e,t.line)).text.length?t.line<e.first+e.size-1?Bo(t.line+1,0):null:new Bo(t.line,t.ch+r)}function Pe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ee(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t!==!1||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Ie(e,s.head,i),a||ze(e,s,o)}}return n}function Ie(e,t,r){var n=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Ki("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(Ki("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function ze(e,t,r){function n(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),s.appendChild(Ki("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?c-e:r)+"px; height: "+(n-t)+"px"))}function i(t,r,i){function o(r,n){return dt(e,Bo(t,r),"div",h,n)}var s,a,h=Qn(l,t),f=h.text.length;return ro(oi(h),r||0,null==i?f:i,function(e,t,l){var h,d,p,g=o(e,"left");if(e==t)h=g,d=p=g.left;else{if(h=o(t-1,"right"),"rtl"==l){var v=g;g=h,h=v}d=g.left,p=h.right}null==r&&0==e&&(d=u),h.top-g.top>3&&(n(d,g.top,null,g.bottom),d=u,g.bottom<h.top&&n(d,g.bottom,null,h.top)),null==i&&t==f&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!a||h.bottom>a.bottom||h.bottom==a.bottom&&h.right>a.right)&&(a=h),d<u+1&&(d=u),n(d,h.top,p-d,h.bottom)}),{start:s,end:a}}var o=e.display,l=e.doc,s=document.createDocumentFragment(),a=je(e.display),u=a.left,c=Math.max(o.sizerWidth,Ye(e)-o.sizer.offsetLeft)-a.right,h=t.from(),f=t.to();if(h.line==f.line)i(h.line,h.ch,f.ch);else{var d=Qn(l,h.line),p=Qn(l,f.line),g=bn(d)==bn(p),v=i(h.line,h.ch,g?d.text.length+1:null).end,m=i(f.line,g?0:null,f.ch).start;g&&(v.top<m.top-2?(n(v.right,v.top,null,v.bottom),n(u,m.top,m.left,m.bottom)):n(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&n(u,v.bottom,null,m.top)}r.appendChild(s)}function Fe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Re(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Bi(Be,e))}function Be(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=cl(t.mode,Ue(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength,a=En(e,o,s?cl(t.mode,n):n,!0);o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!h&&f<l.length;++f)h=l[f]!=o.styles[f];h&&i.push(t.frontier),o.stateAfter=s?n:cl(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&zn(e,o.text,n),o.stateAfter=t.frontier%5==0?cl(t.mode,n):null;if(++t.frontier,+new Date>r)return Re(e,e.options.workDelay),!0}),i.length&&At(e,function(){for(var t=0;t<i.length;t++)zt(e,i[t],"text")})}}function Ge(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=Qn(o,s-1);if(a.stateAfter&&(!r||s<=o.frontier))return s;var u=Ul(a.text,null,e.options.tabSize);(null==i||n>u)&&(i=s-1,n=u)}return i}function Ue(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=Ge(e,t,r),l=o>n.first&&Qn(n,o-1).stateAfter;return l=l?cl(n.mode,l):hl(n.mode),n.iter(o,t,function(r){zn(e,r.text,l);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=s?cl(n.mode,l):null,++o}),r&&(n.frontier=o),l}function Ve(e){return e.lineSpace.offsetTop}function Ke(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function je(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Xi(e.measure,Ki("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Xe(e){return zl-e.display.nativeBarWidth}function Ye(e){return e.display.scroller.clientWidth-Xe(e)-e.display.barWidth}function _e(e){return e.display.scroller.clientHeight-Xe(e)-e.display.barHeight}function qe(e,t,r){var n=e.options.lineWrapping,i=n&&Ye(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function $e(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(ri(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function Ze(e,t){t=bn(t);var r=ri(t),n=e.display.externalMeasured=new Pt(e.doc,t,r);n.lineN=r;var i=n.built=Rn(e,n);return n.text=i.pre,Xi(e.display.lineMeasure,i.pre),n}function Qe(e,t,r,n){return tt(e,et(e,t),r,n)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Rt(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function et(e,t){var r=ri(t),n=Je(e,r);n&&!n.text?n=null:n&&n.changes&&(E(e,n,r,H(e)),e.curOp.forceUpdate=!0),n||(n=Ze(e,t));var i=$e(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(qe(e,t.view,t.rect),t.hasHeights=!0),o=it(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function rt(e,t,r){for(var n,i,o,l,s=0;s<e.length;s+=3){var a=e[s],u=e[s+1];if(t<a?(i=0,o=1,l="left"):t<u?(i=t-a,o=i+1):(s==e.length-3||t==u&&e[s+3]>t)&&(o=u-a,i=o-1,t>=u&&(l="right")),null!=i){if(n=e[s+2],a==u&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)n=e[(s-=3)+2],l="left";if("right"==r&&i==u-a)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)n=e[(s+=3)+2],l="right";break}}return{node:n,start:i,end:o,collapse:l,coverStart:a,coverEnd:u}}function nt(e,t){var r=Xo;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var n=e.length-1;n>=0&&(r=e[n]).left==r.right;n--);return r}function it(e,t,r,n){var i,o=rt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&Vi(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&Vi(t.line.text.charAt(o.coverStart+a));)++a;if(i=xo&&Co<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():nt(Xl(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}xo&&Co<11&&(i=ot(e.display.measure,i))}else{s>0&&(u=n="right");var h;i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==n?h.length-1:0]:l.getBoundingClientRect()}if(xo&&Co<9&&!s&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+wt(e.display),top:f.top,bottom:f.bottom}:Xo}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);var m=c?v[c-1]:0,y=v[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!to(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function lt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function st(e){e.display.externalMeasure=null,ji(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)lt(e.display.view[t])}function at(e){st(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ut(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ht(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=kn(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ii(t);if("local"==n?l+=Ve(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:ct());var a=s.left+("window"==n?0:ut());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function ft(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=ut(),i-=ct();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function dt(e,t,r,n,i){return n||(n=Qn(e.doc,t.line)),ht(e,n,Qe(e,n,t.ch,i),r)}function pt(e,t,r,n,i,o){function l(t,l){var s=tt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ht(e,n,s,r)}function s(e,t){var r=a[t],n=r.level%2;return e==no(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=io(r)-(r.level%2?0:1),n=!0):e==io(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=no(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?l(e-1):l(e,n)}n=n||Qn(e.doc,t.line),i||(i=et(e,n));var a=oi(n),u=t.ch;if(!a)return l(u);var c=ho(a,u),h=s(u,c);return null!=as&&(h.other=s(u,as)),h}function gt(e,t){var r=0,t=ge(e.doc,t);e.options.lineWrapping||(r=wt(e.display)*t.ch);var n=Qn(e.doc,t.line),i=ii(n)+Ve(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function vt(e,t,r,n){var i=Bo(e,t);return i.xRel=n,r&&(i.outside=!0),i}function mt(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return vt(n.first,0,!0,-1);var i=ni(n,r),o=n.first+n.size-1;if(i>o)return vt(n.first+n.size-1,Qn(n,o).text.length,!0,1);t<0&&(t=0);for(var l=Qn(n,i);;){var s=yt(e,l,i,t,r),a=mn(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=ri(l=u.to.line)}}function yt(e,t,r,n,i){function o(n){var i=pt(e,Bo(r,n),"line",t,u);return s=!0,l>i.bottom?i.left-a:l<i.top?i.left+a:(s=!1,i.left)}var l=i-ii(t),s=!1,a=2*e.display.wrapper.clientWidth,u=et(e,t),c=oi(t),h=t.text.length,f=oo(t),d=lo(t),p=o(f),g=s,v=o(d),m=s;if(n>v)return vt(r,d,m,1);for(;;){if(c?d==f||d==po(t,f,1):d-f<=1){var y=n<p||n-p<=v-n?f:d,b=y==f?g:m,w=n-(y==f?p:v);if(m&&!c&&!/\s/.test(t.text.charAt(y))&&w>0&&y<t.text.length&&u.view.measure.heights.length>1){var x=tt(e,u,y,"right");l<=x.bottom&&l>=x.top&&Math.abs(n-x.right)<w&&(b=!1,y++,w=n-x.right)}for(;Vi(t.text.charAt(y));)++y;var C=vt(r,y,b,w<-1?-1:w>1?1:0);return C}var S=Math.ceil(h/2),L=f+S;if(c){L=f;for(var T=0;T<S;++T)L=po(t,L,1)}var k=o(L);k>n?(d=L,v=k,(m=s)&&(v+=1e3),h=S):(f=L,p=k,g=s,h-=S)}}function bt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Vo){Vo=Ki("pre");for(var t=0;t<49;++t)Vo.appendChild(document.createTextNode("x")),Vo.appendChild(Ki("br"));Vo.appendChild(document.createTextNode("x"))}Xi(e.measure,Vo);var r=Vo.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),ji(e.measure),r||1}function wt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ki("span","xxxxxxxxxx"),r=Ki("pre",[t]);Xi(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function xt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_o},Yo?Yo.ops.push(e.curOp):e.curOp.ownsGroup=Yo={ops:[e.curOp],delayedCallbacks:[]}}function Ct(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function St(e){var t=e.curOp,r=t.ownsGroup;if(r)try{Ct(r)}finally{Yo=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;Lt(r)}}function Lt(e){for(var t=e.ops,r=0;r<t.length;r++)Tt(t[r]);for(var r=0;r<t.length;r++)kt(t[r]);for(var r=0;r<t.length;r++)Mt(t[r]);for(var r=0;r<t.length;r++)Nt(t[r]);for(var r=0;r<t.length;r++)Wt(t[r])}function Tt(e){var t=e.cm,r=t.display;k(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function kt(e){e.updatedDisplay=e.mustUpdate&&M(e.cm,e.update)}function Mt(e){var t=e.cm,r=t.display;e.updatedDisplay&&O(t),e.barMeasure=p(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qe(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Xe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Ye(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection(e.focus))}function Nt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==Yi()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&A(t,e.barMeasure),e.selectionChanged&&Fe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&$(e.cm)}function Wt(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&N(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,x(t)),e.scrollToPos){var i=Pr(t,ge(n,e.scrollToPos.from),ge(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Hr(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||El(o[s],"hide");if(l)for(var s=0;s<l.length;++s)l[s].lines.length&&El(l[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&El(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();xt(e);try{return t()}finally{St(e)}}function Ot(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xt(e);try{return t.apply(e,arguments)}finally{St(e)}}}function Dt(e){return function(){if(this.curOp)return e.apply(this,arguments);xt(this);try{return e.apply(this,arguments)}finally{St(this)}}}function Ht(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xt(t);try{return e.apply(this,arguments)}finally{St(t)}}}function Pt(e,t,r){this.line=t,this.rest=wn(t),this.size=this.rest?ri(Hi(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Sn(e,t)}function Et(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new Pt(e.doc,Qn(e.doc,o),o);n=o+l.size,i.push(l)}return i}function It(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ro&&xn(e.doc,t)<i.viewTo&&Ft(e);else if(r<=i.viewFrom)Ro&&Cn(e.doc,r+n)>i.viewFrom?Ft(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Ft(e);else if(t<=i.viewFrom){var o=Bt(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Ft(e)}else if(r>=i.viewTo){var o=Bt(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Ft(e)}else{var l=Bt(e,t,t,-1),s=Bt(e,r,r+n,1);l&&s?(i.view=i.view.slice(0,l.index).concat(Et(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):Ft(e)}var a=i.externalMeasured;a&&(r<a.lineN?a.lineN+=n:t<a.lineN+a.size&&(i.externalMeasured=null))}function zt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Rt(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);Pi(l,r)==-1&&l.push(r)}}}function Ft(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Bt(e,t,r,n){var i,o=Rt(e,t),l=e.display.view;if(!Ro||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=0,a=e.display.viewFrom;s<o;s++)a+=l[s].size;if(a!=t){if(n>0){if(o==l.length-1)return null;i=a+l[o].size-t,o++}else i=a-t;t+=i,r+=i}for(;xn(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Gt(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=Et(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Et(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Rt(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Et(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Rt(e,r)))),n.viewTo=r}function Ut(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Vt(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;Dl(i.scroller,"mousedown",Ot(e,_t)),xo&&Co<11?Dl(i.scroller,"dblclick",Ot(e,function(t){if(!Mi(e,t)){var r=Yt(e,t);if(r&&!Jt(e,t)&&!Xt(e.display,t)){Wl(t);var n=e.findWordAt(r);we(e.doc,n.anchor,n.head)}}})):Dl(i.scroller,"dblclick",function(t){Mi(e,t)||Wl(t)}),zo||Dl(i.scroller,"contextmenu",function(t){br(e,t)});var o,l={end:0};Dl(i.scroller,"touchstart",function(t){if(!Mi(e,t)&&!r(t)){clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Dl(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Dl(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Xt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new he(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new he(Bo(s.line,0),ge(e.doc,Bo(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Wl(r)}t()}),Dl(i.scroller,"touchcancel",t),Dl(i.scroller,"scroll",function(){i.scroller.clientHeight&&(ir(e,i.scroller.scrollTop),or(e,i.scroller.scrollLeft,!0),El(e,"scroll",e))}),Dl(i.scroller,"mousewheel",function(t){lr(e,t)}),Dl(i.scroller,"DOMMouseScroll",function(t){lr(e,t)}),Dl(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Mi(e,t)||Ol(t)},over:function(t){Mi(e,t)||(rr(e,t),Ol(t))},start:function(t){tr(e,t)},drop:Ot(e,er),leave:function(t){Mi(e,t)||nr(e)}};var s=i.input.getField();Dl(s,"keyup",function(t){pr.call(e,t)}),Dl(s,"keydown",Ot(e,fr)),Dl(s,"keypress",Ot(e,gr)),Dl(s,"focus",Bi(mr,e)),Dl(s,"blur",Bi(yr,e))}function Kt(t,r,n){var i=n&&n!=e.Init;if(!r!=!i){var o=t.display.dragFunctions,l=r?Dl:Pl;l(t.display.scroller,"dragstart",o.start),l(t.display.scroller,"dragenter",o.enter),l(t.display.scroller,"dragover",o.over),l(t.display.scroller,"dragleave",o.leave),l(t.display.scroller,"drop",o.drop)}}function jt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Xt(e,t){for(var r=Ci(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Yt(e,t,r,n){var i=e.display;if(!r&&"true"==Ci(t).getAttribute("cm-not-content"))return null;
var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(e){return null}var a,u=mt(e,o,l);if(n&&1==u.xRel&&(a=Qn(e.doc,u.line).text).length==u.ch){var c=Ul(a,a.length,e.options.tabSize)-a.length;u=Bo(u.line,Math.max(0,Math.round((o-je(e.display).left)/wt(e.display))-c))}return u}function _t(e){var t=this,r=t.display;if(!(Mi(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.shift=e.shiftKey,Xt(r,e))return void(So||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!Jt(t,e)){var n=Yt(t,e);switch(window.focus(),Si(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?qt(t,e,n):Ci(e)==r.scroller&&Wl(e);break;case 2:So&&(t.state.lastMiddleDown=+new Date),n&&we(t.doc,n),setTimeout(function(){r.input.focus()},20),Wl(e);break;case 3:zo?br(t,e):vr(t)}}}}function qt(e,t,r){xo?setTimeout(Bi($,e),0):e.curOp.focus=Yi();var n,i=+new Date;jo&&jo.time>i-400&&0==Go(jo.pos,r)?n="triple":Ko&&Ko.time>i-400&&0==Go(Ko.pos,r)?(n="double",jo={time:i,pos:r}):(n="single",Ko={time:i,pos:r});var o,l=e.doc.sel,s=Do?t.metaKey:t.ctrlKey;e.options.dragDrop&&rs&&!e.isReadOnly()&&"single"==n&&(o=l.contains(r))>-1&&(Go((o=l.ranges[o]).from(),r)<0||r.xRel>0)&&(Go(o.to(),r)>0||r.xRel<0)?$t(e,t,r,s):Zt(e,t,r,n,s)}function $t(e,t,r,n){var i=e.display,o=+new Date,l=Ot(e,function(s){So&&(i.scroller.draggable=!1),e.state.draggingText=!1,Pl(document,"mouseup",l),Pl(i.scroller,"drop",l),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Wl(s),!n&&+new Date-200<o&&we(e.doc,r),So||xo&&9==Co?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});So&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=Do?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),Dl(document,"mouseup",l),Dl(i.scroller,"drop",l)}function Zt(e,t,r,n,i){function o(t){if(0!=Go(v,t))if(v=t,"rect"==n){for(var i=[],o=e.options.tabSize,l=Ul(Qn(u,r.line).text,r.ch,o),s=Ul(Qn(u,t.line).text,t.ch,o),a=Math.min(l,s),d=Math.max(l,s),p=Math.min(r.line,t.line),g=Math.min(e.lastLine(),Math.max(r.line,t.line));p<=g;p++){var m=Qn(u,p).text,y=Vl(m,a,o);a==d?i.push(new he(Bo(p,y),Bo(p,y))):m.length>y&&i.push(new he(Bo(p,y),Bo(p,Vl(m,d,o))))}i.length||i.push(new he(r,r)),ke(u,fe(f.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=n){if("double"==n)var C=e.findWordAt(t);else var C=new he(Bo(t.line,0),ge(u,Bo(t.line+1,0)));Go(C.anchor,w)>0?(x=C.head,w=q(b.from(),C.anchor)):(x=C.anchor,w=_(b.to(),C.head))}var i=f.ranges.slice(0);i[h]=new he(ge(u,w),x),ke(u,fe(i,h),Bl)}}function l(t){var r=++y,i=Yt(e,t,!0,"rect"==n);if(i)if(0!=Go(i,v)){e.curOp.focus=Yi(),o(i);var s=w(a,u);(i.line>=s.to||i.line<s.from)&&setTimeout(Ot(e,function(){y==r&&l(t)}),150)}else{var c=t.clientY<m.top?-20:t.clientY>m.bottom?20:0;c&&setTimeout(Ot(e,function(){y==r&&(a.scroller.scrollTop+=c,l(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,Wl(t),a.input.focus(),Pl(document,"mousemove",b),Pl(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;Wl(t);var c,h,f=u.sel,d=f.ranges;if(i&&!t.shiftKey?(h=u.sel.contains(r),c=h>-1?d[h]:new he(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),Ho?t.shiftKey&&t.metaKey:t.altKey)n="rect",i||(c=new he(r,r)),r=Yt(e,t,!0,!0),h=-1;else if("double"==n){var p=e.findWordAt(r);c=e.display.shift||u.extend?be(u,c,p.anchor,p.head):p}else if("triple"==n){var g=new he(Bo(r.line,0),ge(u,Bo(r.line+1,0)));c=e.display.shift||u.extend?be(u,c,g.anchor,g.head):g}else c=be(u,c,r);i?h==-1?(h=d.length,ke(u,fe(d.concat([c]),h),{scroll:!1,origin:"*mouse"})):d.length>1&&d[h].empty()&&"single"==n&&!t.shiftKey?(ke(u,fe(d.slice(0,h).concat(d.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),f=u.sel):Ce(u,h,c,Bl):(h=0,ke(u,new ce([c],0),Bl),f=u.sel);var v=r,m=a.wrapper.getBoundingClientRect(),y=0,b=Ot(e,function(e){Si(e)?l(e):s(e)}),x=Ot(e,s);e.state.selectingText=x,Dl(document,"mousemove",b),Dl(document,"mouseup",x)}function Qt(e,t,r,n){try{var i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Wl(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Wi(e,r))return xi(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var c=ni(e.doc,o),h=e.options.gutters[a];return El(e,r,e,c,h,t),xi(t)}}}function Jt(e,t){return Qt(e,t,"gutterClick",!0)}function er(e){var t=this;if(nr(t),!Mi(t,e)&&!Xt(t.display,e)){Wl(e),xo&&(qo=+new Date);var r=Yt(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||Pi(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=Ot(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=ge(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};kr(t.doc,a),Te(t.doc,de(r,tl(a)))}}),s.readAsText(e)}},a=0;a<i;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!t.state.draggingText.copy)var u=t.listSelections();if(Me(t.doc,de(r,r)),u)for(var a=0;a<u.length;++a)Dr(t.doc,"",u[a].anchor,u[a].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function tr(e,t){if(xo&&(!e.state.draggingText||+new Date-qo<100))return void Ol(t);if(!Mi(e,t)&&!Xt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Mo)){var r=Ki("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ko&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),ko&&r.parentNode.removeChild(r)}}function rr(e,t){var r=Yt(e,t);if(r){var n=document.createDocumentFragment();Ie(e,r,n),e.display.dragCursor||(e.display.dragCursor=Ki("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Xi(e.display.dragCursor,n)}}function nr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,yo||W(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),yo&&W(e),Re(e,100))}function or(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function lr(e,t){var r=Qo(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Do&&So)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==u){e.display.currentWheelTarget=u;break e}if(n&&!yo&&!ko&&null!=Zo)return i&&a&&ir(e,Math.max(0,Math.min(l.scrollTop+i*Zo,l.scrollHeight-l.clientHeight))),or(e,Math.max(0,Math.min(l.scrollLeft+n*Zo,l.scrollWidth-l.clientWidth))),(!i||i&&a)&&Wl(t),void(o.wheelStartX=null);if(i&&null!=Zo){var f=i*Zo,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(e.doc.height,p+f+50),W(e,{top:d,bottom:p})}$o<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Zo=(Zo*$o+r)/($o+1),++$o)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function sr(e,t,r){if("string"==typeof t&&(t=fl[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Fl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function ar(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=pl(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&pl(t,e.options.extraKeys,r,e)||pl(t,e.options.keyMap,r,e)}function ur(e,t,r,n){var i=e.state.keySeq;if(i){if(gl(t))return"handled";Jo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=ar(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Ti(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(Wl(r),Fe(e)),i&&!o&&/\'$/.test(t)?(Wl(r),!0):!!o}function cr(e,t){var r=vl(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ur(e,"Shift-"+r,t,function(t){return sr(e,t,!0)})||ur(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return sr(e,t)}):ur(e,r,t,function(t){return sr(e,t)}))}function hr(e,t,r){return ur(e,"'"+r+"'",t,function(t){return sr(e,t,!0)})}function fr(e){var t=this;if(t.curOp.focus=Yi(),!Mi(t,e)){xo&&Co<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=cr(t,e);ko&&(el=n?r:null,!n&&88==r&&!os&&(Do?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||dr(t)}}function dr(e){function t(e){18!=e.keyCode&&e.altKey||(Jl(r,"CodeMirror-crosshair"),Pl(document,"keyup",t),Pl(document,"mouseover",t))}var r=e.display.lineDiv;es(r,"CodeMirror-crosshair"),Dl(document,"keyup",t),Dl(document,"mouseover",t)}function pr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Mi(this,e)}function gr(e){var t=this;if(!(Xt(t.display,e)||Mi(t,e)||e.ctrlKey&&!e.altKey||Do&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(ko&&r==el)return el=null,void Wl(e);if(!ko||e.which&&!(e.which<10)||!cr(t,e)){var i=String.fromCharCode(null==n?r:n);hr(t,e,i)||t.display.input.onKeyPress(e)}}}function vr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yr(e))},100)}function mr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(El(e,"focus",e),e.state.focused=!0,es(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),So&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Fe(e))}function yr(e){e.state.delayingBlurEvent||(e.state.focused&&(El(e,"blur",e),e.state.focused=!1,Jl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function br(e,t){Xt(e.display,t)||wr(e,t)||Mi(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function wr(e,t){return!!Wi(e,"gutterContextMenu")&&Qt(e,t,"gutterContextMenu",!1)}function xr(e,t){if(Go(e,t.from)<0)return e;if(Go(e,t.to)<=0)return tl(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=tl(t).ch-t.to.ch),Bo(r,n)}function Cr(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new he(xr(i.anchor,t),xr(i.head,t)))}return fe(r,e.sel.primIndex)}function Sr(e,t,r){return e.line==t.line?Bo(r.line,e.ch-t.ch+r.ch):Bo(r.line+(e.line-t.line),e.ch)}function Lr(e,t,r){for(var n=[],i=Bo(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Sr(s.from,i,o),u=Sr(tl(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],h=Go(c.head,c.anchor)<0;n[l]=new he(h?u:a,h?a:u)}else n[l]=new he(a,a)}return new ce(n,e.sel.primIndex)}function Tr(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=ge(e,t)),r&&(this.to=ge(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),El(e,"beforeChange",e,n),e.cm&&El(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function kr(e,t,r){if(e.cm){if(!e.cm.curOp)return Ot(e.cm,kr)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Wi(e,"beforeChange")||e.cm&&Wi(e.cm,"beforeChange"))||(t=Tr(e,t,!0))){var n=Fo&&!r&&un(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Mr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else Mr(e,t)}}function Mr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Go(t.from,t.to)){var r=Cr(e,t);ci(e,t,r,e.cm?e.cm.curOp.id:NaN),Ar(e,t,r,ln(e,t));var n=[];$n(e,function(e,r){r||Pi(n,e.history)!=-1||(wi(e.history,t),n.push(e.history)),Ar(e,t,null,ln(e,t))})}}function Nr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;n=l.pop(),n.ranges;){if(di(n,s),r&&!n.equals(e.sel))return void ke(e,n,{clearRedo:!1});o=n}var u=[];di(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Wi(e,"beforeChange")||e.cm&&Wi(e.cm,"beforeChange"),a=n.changes.length-1;a>=0;--a){var h=n.changes[a];if(h.origin=t,c&&!Tr(e,h,!1))return void(l.length=0);u.push(si(e,h));var f=a?Cr(e,h):Hi(l);Ar(e,h,f,an(e,h)),!a&&e.cm&&e.cm.scrollIntoView({from:h.from,to:tl(h)});var d=[];$n(e,function(e,t){t||Pi(d,e.history)!=-1||(wi(e.history,h),d.push(e.history)),Ar(e,h,null,an(e,h))})}}}}function Wr(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(Ei(e.sel.ranges,function(e){return new he(Bo(e.anchor.line+t,e.anchor.ch),Bo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){It(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)zt(e.cm,n,"gutter")}}function Ar(e,t,r,n){if(e.cm&&!e.cm.curOp)return Ot(e.cm,Ar)(e,t,r,n);if(t.to.line<e.first)return void Wr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Wr(e,i),t={from:Bo(e.first,0),to:Bo(t.to.line+i,t.to.ch),text:[Hi(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Bo(o,Qn(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Jn(e,t.from,t.to),r||(r=Cr(e,t)),e.cm?Or(e.cm,t,n):Yn(e,t,n),Me(e,r,Rl)}}function Or(e,t,r){var n=e.doc,i=e.display,l=t.from,s=t.to,a=!1,u=l.line;e.options.lineWrapping||(u=ri(bn(Qn(n,l.line))),n.iter(u,s.line+1,function(e){if(e==i.maxLine)return a=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ni(e),Yn(n,t,r,o(e)),e.options.lineWrapping||(n.iter(u,l.line+t.text.length,function(e){var t=h(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,l.line),Re(e,400);var c=t.text.length-(s.line-l.line)-1;t.full?It(e):l.line!=s.line||1!=t.text.length||Xn(e.doc,t)?It(e,l.line,s.line+1,c):zt(e,l.line,"text");var f=Wi(e,"changes"),d=Wi(e,"change");if(d||f){var p={from:l,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&Ti(e,"change",e,p),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Dr(e,t,r,n,i){if(n||(n=r),Go(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),kr(e,{from:r,to:n,text:t,origin:i})}function Hr(e,t){if(!Mi(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Wo){var o=Ki("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-Ve(e.display))+"px; height: "+(t.bottom-t.top+Xe(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Pr(e,t,r,n){null==n&&(n=0);for(var i=0;i<5;i++){var o=!1,l=pt(e,t),s=r&&r!=t?pt(e,r):l,a=Ir(e,Math.min(l.left,s.left),Math.min(l.top,s.top)-n,Math.max(l.left,s.left),Math.max(l.bottom,s.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(ir(e,a.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=a.scrollLeft&&(or(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return l}function Er(e,t,r,n,i){var o=Ir(e,t,r,n,i);null!=o.scrollTop&&ir(e,o.scrollTop),null!=o.scrollLeft&&or(e,o.scrollLeft)}function Ir(e,t,r,n,i){var o=e.display,l=bt(e.display);r<0&&(r=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,a=_e(e),u={};i-r>a&&(i=r+a);var c=e.doc.height+Ke(o),h=r<l,f=i>c-l;if(r<s)u.scrollTop=h?0:r;else if(i>s+a){var d=Math.min(r,(f?c:i)-a);d!=s&&(u.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Ye(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),t<10?u.scrollLeft=0:t<p?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+p-3&&(u.scrollLeft=n+(v?0:10)-g),u}function zr(e,t,r){null==t&&null==r||Rr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function Fr(e){Rr(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?Bo(t.line,t.ch-1):t,n=Bo(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function Rr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=gt(e,t.from),n=gt(e,t.to),i=Ir(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Br(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ue(e,t):r="prev");var l=e.options.tabSize,s=Qn(o,t),a=Ul(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Fl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?Ul(Qn(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/l);d;--d)f+=l,h+="\t";if(f<u&&(h+=Di(u-f)),h!=c)return Dr(o,h,Bo(t,0),Bo(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==t&&p.head.ch<c.length){var f=Bo(t,c.length);Ce(o,d,new he(f,f));break}}}function Gr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Qn(e,pe(e,t)):i=ri(t),null==i?null:(n(o,i)&&e.cm&&zt(e.cm,i,r),o)}function Ur(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Go(o.from,Hi(n).to)<=0;){var l=n.pop();if(Go(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}At(e,function(){for(var t=n.length-1;t>=0;t--)Dr(e.doc,"",n[t].from,n[t].to,"+delete");Fr(e)})}function Vr(e,t,r,n,i){function o(){var t=s+r;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=Qn(e,t))}function l(e){var t=(i?po:go)(c,a,r,!0);if(null==t){if(e||!o())return!1;a=i?(r<0?lo:oo)(c):r<0?c.text.length:0}else a=t;return!0}var s=t.line,a=t.ch,u=r,c=Qn(e,s);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,f="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||l(!p);p=!1){var g=c.text.charAt(a)||"\n",v=Gi(g,d)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||p||v||(v="s"),h&&h!=v){r<0&&(r=1,l());break}if(v&&(h=v),r>0&&!l(!p))break}var m=De(e,Bo(s,a),t,u,!0);return Go(t,m)||(m.hitSide=!0),m}function Kr(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(s-(r<0?1.5:.5)*bt(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var a=mt(e,l,i);if(!a.outside)break;if(r<0?i<=0:i>=o.height){a.hitSide=!0;break}i+=5*r}return a}function jr(t,r,n,i){e.defaults[t]=r,n&&(nl[t]=i?function(e,t,r){r!=il&&n(e,t,r)}:n)}function Xr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],l=0;l<o.length-1;l++){var s=o[l];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Yr(e){return"string"==typeof e?dl[e]:e}function _r(e,t,r,n,i){if(n&&n.shared)return qr(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Ot(e.cm,_r)(e,t,r,n,i);var o=new bl(e,i),l=Go(t,r);if(n&&Ri(n,o,!1),l>0||0==l&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Ki("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yn(e,t.line,t,r,o)||t.line!=r.line&&yn(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ro=!0}o.addToHistory&&ci(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,a=t.line,u=e.cm;if(e.iter(a,r.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&bn(e)==u.display.maxLine&&(s=!0),o.collapsed&&a!=t.line&&ti(e,0),rn(e,new Jr(o,a==t.line?t.ch:null,a==r.line?r.ch:null)),++a}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Sn(e,t)&&ti(t,0)}),o.clearOnEnter&&Dl(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++yl,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)It(u,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)zt(u,c,"text");o.atomic&&We(u.doc),Ti(u,"markerAdded",u,o)}return o}function qr(e,t,r,n,i){n=Ri(n),n.shared=!1;var o=[_r(e,t,r,n,i)],l=o[0],s=n.widgetNode;return $n(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(_r(e,ge(e,t),ge(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=Hi(o)}),new wl(o,l)}function $r(e){return e.findMarks(Bo(e.first,0),e.clipPos(Bo(e.lastLine())),function(e){return e.parent})}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(Go(o,l)){var s=_r(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Qr(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];$n(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];Pi(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}}}function Jr(e,t,r){this.marker=e,this.from=t,this.to=r}function en(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function tn(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function rn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nn(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Jr(l,o.from,a?null:o.to))}}return n}function on(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Jr(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function ln(e,t){if(t.full)return null;var r=me(e,t.from.line)&&Qn(e,t.from.line).markedSpans,n=me(e,t.to.line)&&Qn(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==Go(t.from,t.to),s=nn(r,i,l),a=on(n,o,l),u=1==t.text.length,c=Hi(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=en(a,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null!=f.to&&(f.to+=c),null==f.from){var d=en(s,f.marker);d||(f.from=c,u&&(s||(s=[])).push(f))}else f.from+=c,u&&(s||(s=[])).push(f)}s&&(s=sn(s)),a&&a!=s&&(a=sn(a));var p=[s];if(!u){var g,v=t.text.length-2;if(v>0&&s)for(var h=0;h<s.length;++h)null==s[h].to&&(g||(g=[])).push(new Jr(s[h].marker,null,null));for(var h=0;h<v;++h)p.push(g);p.push(a)}return p}function sn(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function an(e,t){var r=vi(e,t),n=ln(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function un(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&Pi(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(Go(u.to,s.from)<0||Go(u.from,s.to)>0)){var c=[a,1],h=Go(u.from,s.from),f=Go(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(f>0||!l.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-1}}return i}function cn(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function hn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function fn(e){return e.inclusiveLeft?-1:0}function dn(e){return e.inclusiveRight?1:0}function pn(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Go(n.from,i.from)||fn(e)-fn(t);if(o)return-o;var l=Go(n.to,i.to)||dn(e)-dn(t);return l?l:t.id-e.id}function gn(e,t){var r,n=Ro&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||pn(r,i.marker)<0)&&(r=i.marker);return r}function vn(e){return gn(e,!0)}function mn(e){return gn(e,!1)}function yn(e,t,r,n,i){var o=Qn(e,t),l=Ro&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=Go(u.from,r)||fn(a.marker)-fn(i),h=Go(u.to,n)||dn(a.marker)-dn(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?Go(u.to,r)>=0:Go(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?Go(u.from,n)<=0:Go(u.from,n)<0)))return!0}}}function bn(e){for(var t;t=vn(e);)e=t.find(-1,!0).line;return e}function wn(e){for(var t,r;t=mn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function xn(e,t){var r=Qn(e,t),n=bn(r);return r==n?t:ri(n)}function Cn(e,t){if(t>e.lastLine())return t;var r,n=Qn(e,t);if(!Sn(e,n))return t;for(;r=mn(n);)n=r.find(1,!0).line;return ri(n)+1}function Sn(e,t){var r=Ro&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ln(e,t,n))return!0}}function Ln(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Ln(e,n.line,en(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ln(e,t,i))return!0}function Tn(e,t,r){ii(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zr(e,null,r)}function kn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!$l(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Xi(t.display.measure,Ki("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Mn(e,t,r,n){var i=new xl(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Gr(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Sn(e,t)){var n=ii(t)<e.scrollTop;ti(t,t.height+kn(i)),n&&zr(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Nn(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cn(e),hn(e,r);var i=n?n(e):1;i!=e.height&&ti(e,i)}function Wn(e){e.parent=null,cn(e)}function An(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function On(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var n=e.innerMode(t,r);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Dn(t,r,n,i){for(var o=0;o<10;o++){i&&(i[0]=e.innerMode(t,n).mode);var l=t.token(r,n);if(r.pos>r.start)return l}throw new Error("Mode "+t.name+" failed to advance stream.")}function Hn(e,t,r,n){function i(e){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:e?cl(l.mode,c):c}}var o,l=e.doc,s=l.mode;t=ge(l,t);var a,u=Qn(l,t.line),c=Ue(e,t.line,r),h=new ml(u.text,e.options.tabSize);for(n&&(a=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=Dn(s,h,c),n&&a.push(i(!0));return n?a:i()}function Pn(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,h=new ml(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&An(On(r,n),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&zn(e,t,n,h.pos),h.pos=t.length,a=null):a=An(Dn(r,h,n,f),o),f){var d=f[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<h.start;)u=Math.min(h.start,u+5e4),i(u,c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e4);i(p,c),u=p}}function En(e,t,r,n){var i=[e.state.modeGen],o={};Pn(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},o,n);for(var l=0;l<e.state.overlays.length;++l){var s=e.state.overlays[l],a=1,u=0;Pn(e,t.text,s.mode,!0,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"cm-overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function In(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ue(e,ri(t)),i=En(e,t,t.text.length>e.options.maxHighlightLength?cl(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function zn(e,t,r,n){var i=e.doc.mode,o=new ml(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&On(i,r);!o.eol();)Dn(i,o,r),o.start=o.pos}function Fn(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Ll:Sl;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Rn(e,t){var r=Ki("span",null,null,So?"padding-right: .1px":null),n={pre:Ki("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(xo||So)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,l=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=Gn,eo(e.display.measure)&&(o=oi(l))&&(n.addToken=Vn(n.addToken,o)),n.map=[];var s=t!=e.display.externalMeasured&&ri(l);jn(l,n,In(e,l,s)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=qi(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=qi(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ji(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(So){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return El(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=qi(n.pre.className,n.textClass||"")),n}function Bn(e){var t=Ki("span","•","cm-invalidchar");
return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Gn(e,t,r,n,i,o,l){if(t){var s=e.splitSpaces?Un(t,e.trailingSpace):t,a=e.cm.state.specialChars,u=!1;if(a.test(t))for(var c=document.createDocumentFragment(),h=0;;){a.lastIndex=h;var f=a.exec(t),d=f?f.index-h:t.length-h;if(d){var p=document.createTextNode(s.slice(h,h+d));xo&&Co<9?c.appendChild(Ki("span",[p])):c.appendChild(p),e.map.push(e.pos,e.pos+d,p),e.col+=d,e.pos+=d}if(!f)break;if(h+=d+1,"\t"==f[0]){var g=e.cm.options.tabSize,v=g-e.col%g,p=c.appendChild(Ki("span",Di(v),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=v}else if("\r"==f[0]||"\n"==f[0]){var p=c.appendChild(Ki("span","\r"==f[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",f[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(f[0]);p.setAttribute("cm-text",f[0]),xo&&Co<9?c.appendChild(Ki("span",[p])):c.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),xo&&Co<9&&(u=!0),e.pos+=t.length}if(e.trailingSpace=32==s.charCodeAt(t.length-1),r||n||i||u||l){var m=r||"";n&&(m+=n),i&&(m+=i);var y=Ki("span",[c],m,l);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Un(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function Vn(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=0;h<t.length;h++){var f=t[h];if(f.to>u&&f.from<=u)break}if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function Kn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function jn(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,h,f,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=h=s="",f=null,m=1/0;for(var y,b=[],w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?b.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!h&&(h=C.title),C.collapsed&&(!f||pn(f.marker,C)<0)&&(f=x)):x.from>p&&m>x.from&&(m=x.from)}if(y)for(var w=0;w<y.length;w+=2)y[w+1]==m&&(u+=" "+y[w]);if(!f||f.from==p)for(var w=0;w<b.length;++w)Kn(t,0,b[w]);if(f&&(f.from||0)==p){if(Kn(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var S=Math.min(d,m);;){if(v){var L=p+v.length;if(!f){var T=L>S?v.slice(0,S-p):v;t.addToken(t,T,l?l+a:a,c,p+T.length==m?u:"",h,s)}if(L>=S){v=v.slice(S-p),p=S;break}p=L,c=""}v=i.slice(o,o=r[g++]),l=Fn(r[g++],t.cm.options)}}else for(var g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),Fn(r[g+1],t.cm.options))}function Xn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Hi(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Yn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){Nn(e,r,i,n),Ti(e,"change",e,t)}function l(e,t){for(var r=e,o=[];r<t;++r)o.push(new Cl(u[r],i(r),n));return o}var s=t.from,a=t.to,u=t.text,c=Qn(e,s.line),h=Qn(e,a.line),f=Hi(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Xn(e,t)){var g=l(0,u.length-1);o(h,h.text,d),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(a.ch),d);else{var g=l(1,u.length-1);g.push(new Cl(f+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,f+h.text.slice(a.ch),d);var g=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}Ti(e,"change",e,t)}function _n(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function qn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function $n(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Zn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,l(e),r(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,It(e)}function Qn(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Jn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function ei(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ti(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ri(e){if(null==e.parent)return null;for(var t=e.parent,r=Pi(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ni(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var l=e.lines[n],s=l.height;if(t<s)break;t-=s}return r+n}function ii(e){e=bn(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var l=o.children[n];if(l==r)break;t+=l.height}return t}function oi(e){var t=e.order;return null==t&&(t=e.order=us(e.text)),t}function li(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function si(e,t){var r={from:Y(t.from),to:tl(t),text:Jn(e,t.from,t.to)};return pi(e,r,t.from.line,t.to.line+1),$n(e,function(e){pi(e,r,t.from.line,t.to.line+1)},!0),r}function ai(e){for(;e.length;){var t=Hi(e);if(!t.ranges)break;e.pop()}}function ui(e,t){return t?(ai(e.done),Hi(e.done)):e.done.length&&!Hi(e.done).ranges?Hi(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Hi(e.done)):void 0}function ci(e,t,r,n){var i=e.history;i.undone.length=0;var o,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ui(i,i.lastOp==n))){var s=Hi(o.changes);0==Go(t.from,t.to)&&0==Go(t.from,s.to)?s.to=tl(t):o.changes.push(si(e,t))}else{var a=Hi(i.done);for(a&&a.ranges||di(e.sel,i.done),o={changes:[si(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,s||El(e,"historyAdded")}function hi(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||hi(e,o,Hi(i.done),t))?i.done[i.done.length-1]=t:di(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&ai(i.undone)}function di(e,t){var r=Hi(t);r&&r.ranges&&r.equals(e)||t.push(e)}function pi(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function gi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function vi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(gi(r[n]));return i}function mi(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?ce.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];i.push({changes:s});for(var a=0;a<l.length;++a){var u,c=l[a];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&Pi(t,Number(u[1]))>-1&&(Hi(s)[h]=c[h],delete c[h])}}}return i}function yi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function bi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)yi(o.ranges[s].anchor,t,r,n),yi(o.ranges[s].head,t,r,n)}else{for(var s=0;s<o.changes.length;++s){var a=o.changes[s];if(r<a.from.line)a.from=Bo(a.from.line+n,a.from.ch),a.to=Bo(a.to.line+n,a.to.ch);else if(t<=a.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function wi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;bi(e.done,r,n,i),bi(e.undone,r,n,i)}function xi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ci(e){return e.target||e.srcElement}function Si(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Do&&e.ctrlKey&&1==t&&(t=3),t}function Li(e,t,r){var n=e._handlers&&e._handlers[t];return r?n&&n.length>0?n.slice():Hl:n||Hl}function Ti(e,t){function r(e){return function(){e.apply(null,o)}}var n=Li(e,t,!1);if(n.length){var i,o=Array.prototype.slice.call(arguments,2);Yo?i=Yo.delayedCallbacks:Il?i=Il:(i=Il=[],setTimeout(ki,0));for(var l=0;l<n.length;++l)i.push(r(n[l]))}}function ki(){var e=Il;Il=null;for(var t=0;t<e.length;++t)e[t]()}function Mi(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),El(e,r||t.type,e,t),xi(t)||t.codemirrorIgnore}function Ni(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)Pi(r,t[n])==-1&&r.push(t[n])}function Wi(e,t){return Li(e,t).length>0}function Ai(e){e.prototype.on=function(e,t){Dl(this,e,t)},e.prototype.off=function(e,t){Pl(this,e,t)}}function Oi(){this.id=null}function Di(e){for(;Kl.length<=e;)Kl.push(Hi(Kl)+" ");return Kl[e]}function Hi(e){return e[e.length-1]}function Pi(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Ei(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Ii(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function zi(){}function Fi(e,t){var r;return Object.create?r=Object.create(e):(zi.prototype=e,r=new zi),t&&Ri(t,r),r}function Ri(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Bi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Gi(e,t){return t?!!(t.source.indexOf("\\w")>-1&&_l(e))||t.test(e):_l(e)}function Ui(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Vi(e){return e.charCodeAt(0)>=768&&ql.test(e)}function Ki(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function ji(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Xi(e,t){return ji(e).appendChild(t)}function Yi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function _i(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function qi(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!_i(r[n]).test(t)&&(t+=" "+r[n]);return t}function $i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Zi(){ts||(Qi(),ts=!0)}function Qi(){var e;Dl(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,$i(jt)},100))}),Dl(window,"blur",function(){$i(yr)})}function Ji(e){if(null==Zl){var t=Ki("span","​");Xi(e,Ki("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Zl=t.offsetWidth<=1&&t.offsetHeight>2&&!(xo&&Co<8))}var r=Zl?Ki("span","​"):Ki("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function eo(e){if(null!=Ql)return Ql;var t=Xi(e,document.createTextNode("AخA")),r=Xl(t,0,1).getBoundingClientRect(),n=Xl(t,1,2).getBoundingClientRect();return ji(e),!(!r||r.left==r.right)&&(Ql=n.right-r.right<3)}function to(e){if(null!=ls)return ls;var t=Xi(e,Ki("span","x")),r=t.getBoundingClientRect(),n=Xl(t,0,1).getBoundingClientRect();return ls=Math.abs(r.left-n.left)>1}function ro(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function no(e){return e.level%2?e.to:e.from}function io(e){return e.level%2?e.from:e.to}function oo(e){var t=oi(e);return t?no(t[0]):0}function lo(e){var t=oi(e);return t?io(Hi(t)):e.text.length}function so(e,t){var r=Qn(e.doc,t),n=bn(r);n!=r&&(t=ri(n));var i=oi(n),o=i?i[0].level%2?lo(n):oo(n):0;return Bo(t,o)}function ao(e,t){for(var r,n=Qn(e.doc,t);r=mn(n);)n=r.find(1,!0).line,t=null;var i=oi(n),o=i?i[0].level%2?oo(n):lo(n):n.text.length;return Bo(null==t?ri(n):t,o)}function uo(e,t){var r=so(e,t.line),n=Qn(e.doc,r.line),i=oi(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return Bo(r.line,l?0:o)}return r}function co(e,t,r){var n=e[0].level;return t==n||r!=n&&t<r}function ho(e,t){as=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return co(e,i.level,e[r].level)?(i.from!=i.to&&(as=r),n):(i.from!=i.to&&(as=n),r);r=n}}return r}function fo(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&Vi(e.text.charAt(t)));return t}function po(e,t,r,n){var i=oi(e);if(!i)return go(e,t,r,n);for(var o=ho(i,t),l=i[o],s=fo(e,t,l.level%2?-r:r,n);;){if(s>l.from&&s<l.to)return s;if(s==l.from||s==l.to)return ho(i,s)==o?s:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;s=r>0==l.level%2?fo(e,l.to,-1,n):fo(e,l.from,1,n)}}function go(e,t,r,n){var i=t+r;if(n)for(;i>0&&Vi(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}var vo=navigator.userAgent,mo=navigator.platform,yo=/gecko\/\d/i.test(vo),bo=/MSIE \d/.test(vo),wo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),xo=bo||wo,Co=xo&&(bo?document.documentMode||6:wo[1]),So=/WebKit\//.test(vo),Lo=So&&/Qt\/\d+\.\d+/.test(vo),To=/Chrome\//.test(vo),ko=/Opera\//.test(vo),Mo=/Apple Computer/.test(navigator.vendor),No=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vo),Wo=/PhantomJS/.test(vo),Ao=/AppleWebKit/.test(vo)&&/Mobile\/\w+/.test(vo),Oo=Ao||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vo),Do=Ao||/Mac/.test(mo),Ho=/\bCrOS\b/.test(vo),Po=/win/i.test(mo),Eo=ko&&vo.match(/Version\/(\d*\.\d*)/);Eo&&(Eo=Number(Eo[1])),Eo&&Eo>=15&&(ko=!1,So=!0);var Io=Do&&(Lo||ko&&(null==Eo||Eo<12.11)),zo=yo||xo&&Co>=9,Fo=!1,Ro=!1;g.prototype=Ri({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Do&&!No?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Oi,this.disableVert=new Oi},enableZeroWidthBar:function(e,t){function r(){var n=e.getBoundingClientRect(),i=document.elementFromPoint(n.left+1,n.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),v.prototype=Ri({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),e.scrollbarModel={native:g,null:v},T.prototype.signal=function(e,t){Wi(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)El.apply(null,this.events[e])};var Bo=e.Pos=function(e,t){return this instanceof Bo?(this.line=e,void(this.ch=t)):new Bo(e,t)},Go=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Uo=null;re.prototype=Ri({init:function(e){function t(e){if(!Mi(n,e)){if(n.somethingSelected())Uo={lineWise:!1,text:n.getSelections()},r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=Uo.text.join("\n"),jl(o));else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Uo={lineWise:!0,text:t.text},"cut"==e.type?n.setSelections(t.ranges,null,Rl):(r.prevInput="",o.value=t.text.join("\n"),jl(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}}var r=this,n=this.cm,i=this.wrapper=ne(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Ao&&(o.style.width="0px"),Dl(o,"input",function(){xo&&Co>=9&&r.hasSelection&&(r.hasSelection=null),r.poll()}),Dl(o,"paste",function(e){Mi(n,e)||Q(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),Dl(o,"cut",t),Dl(o,"copy",t),Dl(e.scroller,"paste",function(t){Xt(e,t)||Mi(n,t)||(n.state.pasteIncoming=!0,r.focus())}),Dl(e.lineSpace,"selectstart",function(t){Xt(e,t)||Wl(t)}),Dl(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Dl(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=Ee(e);if(e.options.moveInputWithCursor){var i=pt(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;Xi(r.cursorDiv,e.cursors),Xi(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=os&&(o.to().line-o.from().line>100||(r=n.getSelection()).length>1e3);var l=t?"-":r||n.getSelection();this.textarea.value=l,n.state.focused&&jl(this.textarea),xo&&Co>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",xo&&Co>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Oo||Yi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||is(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(xo&&Co>=9&&this.hasSelection===n||Do&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,n.length);o<l&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var s=this;return At(e,function(){Z(e,n.slice(o),r.length-o,null,s.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=n,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){xo&&Co>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,l.style.cssText=c,xo&&Co<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!xo||xo&&Co<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?Ot(i,fl.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):o.input.reset()};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Yt(i,e),a=o.scroller.scrollTop;if(s&&!ko){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&Ot(i,ke)(i.doc,de(s),Rl);var c=l.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();if(l.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px; z-index: 1000; background: "+(xo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",So)var d=window.scrollY;if(o.input.focus(),So&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),xo&&Co>=9&&t(),zo){Ol(e);var p=function(){Pl(window,"mouseup",p),setTimeout(r,20)};Dl(window,"mouseup",p)}else setTimeout(r,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:zi,needsContentAttribute:!1},re.prototype),ie.prototype=Ri({init:function(e){function t(e){if(!Mi(n,e)){if(n.somethingSelected())Uo={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=ee(n);Uo={lineWise:!0,text:t.text},"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,Rl),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Uo.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var l=ne(),s=l.firstChild;n.display.lineSpace.insertBefore(l,n.display.lineSpace.firstChild),s.value=Uo.text.join("\n");var a=document.activeElement;jl(s),setTimeout(function(){n.display.lineSpace.removeChild(l),a.focus(),a==i&&r.showPrimarySelection()},50)}}var r=this,n=r.cm,i=r.div=e.lineDiv;te(i,n.options.spellcheck),Dl(i,"paste",function(e){Mi(n,e)||Q(e,n)||Co<=11&&setTimeout(Ot(n,function(){r.pollContent()||It(n)}),20)}),Dl(i,"compositionstart",function(e){var t=e.data;if(r.composing={sel:n.doc.sel,data:t,startData:t},t){var i=n.doc.sel.primary(),o=n.getLine(i.head.line),l=o.indexOf(t,Math.max(0,i.head.ch-t.length));l>-1&&l<=i.head.ch&&(r.composing.sel=de(Bo(i.head.line,l),Bo(i.head.line,l+t.length)))}}),Dl(i,"compositionupdate",function(e){r.composing.data=e.data}),Dl(i,"compositionend",function(e){var t=r.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||r.applyComposition(t),r.composing==t&&(r.composing=null)},50))}),Dl(i,"touchstart",function(){r.forceCompositionEnd()}),Dl(i,"input",function(){r.composing||!n.isReadOnly()&&r.pollContent()||At(r.cm,function(){It(n)})}),Dl(i,"copy",t),Dl(i,"cut",t)},prepareSelection:function(){var e=Ee(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=se(this.cm,e.anchorNode,e.anchorOffset),n=se(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=Go(q(r,n),t.from())||0!=Go(_(r,n),t.to())){var i=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(i||o){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var a=l[l.length-1].measure,u=a.maps?a.maps[a.maps.length-1]:a.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:l[0].measure.map[2],offset:0};try{var c=Xl(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!yo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):yo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Xi(this.cm.display.cursorDiv,e.cursors),Xi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return $l(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=se(t,e.anchorNode,e.anchorOffset),n=se(t,e.focusNode,e.focusOffset);r&&n&&At(t,function(){ke(t.doc,de(r,n),Rl),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(n.line==t.viewFrom||0==(o=Rt(e,n.line)))var l=ri(t.view[0].line),s=t.view[0].node;else var l=ri(t.view[o].line),s=t.view[o-1].node.nextSibling;var a=Rt(e,i.line);if(a==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=ri(t.view[a+1].line)-1,c=t.view[a+1].node.previousSibling;for(var h=e.doc.splitLines(ue(e,s,c,l,u)),f=Jn(e.doc,Bo(l,0),Bo(u,Qn(e.doc,u).text.length));h.length>1&&f.length>1;)if(Hi(h)==Hi(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),l++}for(var d=0,p=0,g=h[0],v=f[0],m=Math.min(g.length,v.length);d<m&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=Hi(h),b=Hi(f),w=Math.min(y.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=y.slice(0,y.length-p),h[0]=h[0].slice(d);var x=Bo(l,d),C=Bo(u,f.length?Hi(f).length-p:0);return h.length>1||h[0]||Go(x,C)?(Dr(e.doc,h,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Ot(this.cm,It)(this.cm):e.data&&e.data!=e.startData&&Ot(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Ot(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:zi,resetPosition:zi,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:re,contenteditable:ie},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=Go(r.anchor,n.anchor)||0!=Go(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new he(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Go(t,n.from())>=0&&Go(e,n.to())<=0)return r}return-1}},he.prototype={from:function(){return q(this.anchor,this.head)},to:function(){return _(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Vo,Ko,jo,Xo={left:0,right:0,top:0,bottom:0},Yo=null,_o=0,qo=0,$o=0,Zo=null;xo?Zo=-.53:yo?Zo=15:To?Zo=-.7:Mo&&(Zo=-1/3);var Qo=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};e.wheelEventPixels=function(e){var t=Qo(e);return t.x*=Zo,t.y*=Zo,t};var Jo=new Oi,el=null,tl=e.changeEnd=function(e){return e.text?Bo(e.from.line+e.text.length-1,Hi(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,nl.hasOwnProperty(e)&&Ot(this,nl[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Yr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Dt(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");
Ii(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,It(this)}),removeOverlay:Dt(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void It(this)}}),indentLine:Dt(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),me(this.doc,e)&&Br(this,e,t,r)}),indentSelection:Dt(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Br(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&Fr(this));else{var o=i.from(),l=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;a<r;++a)Br(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&Ce(this.doc,n,new he(o,u[n].to()),Rl)}}}),getTokenAt:function(e,t){return Hn(this,e,t)},getLineTokens:function(e,t){return Hn(this,Bo(e),t,!0)},getTokenTypeAt:function(e){e=ge(this.doc,e);var t,r=In(this,Qn(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!ul.hasOwnProperty(t))return r;var n=ul[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var s=n._global[o];s.pred(i,this)&&Pi(r,s.val)==-1&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=pe(r,null==e?r.first+r.size-1:e),Ue(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?ge(this.doc,e):e?n.from():n.to(),pt(this,r,t||"page")},charCoords:function(e,t){return dt(this,ge(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ft(this,e,t||"page"),mt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ft(this,{top:e,left:0},t||"page").top,ni(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=Qn(this.doc,e)}else r=e;return ht(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-ii(r):0)},defaultTextHeight:function(){return bt(this.display)},defaultCharWidth:function(){return wt(this.display)},setGutterMarker:Dt(function(e,t,r){return Gr(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Ui(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Dt(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,zt(t,n,"gutter"),Ui(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!me(this.doc,e))return null;var t=e;if(e=Qn(this.doc,e),!e)return null}else{var t=ri(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=pt(this,ge(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Er(this,s,l,s+t.offsetWidth,l+t.offsetHeight)},triggerOnKeyDown:Dt(fr),triggerOnKeyPress:Dt(gr),triggerOnKeyUp:pr,execCommand:function(e){if(fl.hasOwnProperty(e))return fl[e].call(null,this)},triggerElectric:Dt(function(e){J(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=0,l=ge(this.doc,e);o<t&&(l=Vr(this.doc,l,i,r,n),!l.hitSide);++o);return l},moveH:Dt(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Vr(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Gl)}),deleteH:Dt(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Ur(this,function(r){var i=Vr(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=0,s=ge(this.doc,e);l<t;++l){var a=pt(this,s,"div");if(null==o?o=a.left:a.left=o,s=Kr(this,a,i,r),s.hitSide)break}return s},moveV:Dt(function(e,t){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=pt(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=Kr(r,s,e,t);return"page"==t&&l==n.sel.primary()&&zr(r,null,dt(r,a,"div").top-s.top),a},Gl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=Qn(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var l=r.charAt(n),s=Gi(l,o)?function(e){return Gi(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Gi(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new he(Bo(e.line,n),Bo(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?es(this.display.cursorDiv,"CodeMirror-overwrite"):Jl(this.display.cursorDiv,"CodeMirror-overwrite"),El(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Yi()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Dt(function(e,t){null==e&&null==t||Rr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Xe(this)-this.display.barHeight,width:e.scrollWidth-Xe(this)-this.display.barWidth,clientHeight:_e(this),clientWidth:Ye(this)}},scrollIntoView:Dt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Bo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Rr(this),this.curOp.scrollToPos=e;else{var r=Ir(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:Dt(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&st(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){zt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,El(n,"refresh",this)}),operation:function(e){return At(this,e)},refresh:Dt(function(){var e=this.display.cachedTextHeight;It(this),this.curOp.forceUpdate=!0,at(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-bt(this.display))>.5)&&l(this),El(this,"refresh",this)}),swapDoc:Dt(function(e){var t=this.doc;return t.cm=null,Zn(this,e),at(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ti(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ai(e);var rl=e.defaults={},nl=e.optionHandlers={},il=e.Init={toString:function(){return"CodeMirror.Init"}};jr("value","",function(e,t){e.setValue(t)},!0),jr("mode",null,function(e,t){e.doc.modeOption=t,r(e)},!0),jr("indentUnit",2,r,!0),jr("indentWithTabs",!1),jr("smartIndent",!0),jr("tabSize",4,function(e){n(e),at(e),It(e)},!0),jr("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(Bo(n,o))}n++});for(var i=r.length-1;i>=0;i--)Dr(e.doc,t,r[i],Bo(r[i].line,r[i].ch+t.length))}}),jr("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,r,n){t.state.specialChars=new RegExp(r.source+(r.test("\t")?"":"|\t"),"g"),n!=e.Init&&t.refresh()}),jr("specialCharPlaceholder",Bn,function(e){e.refresh()},!0),jr("electricChars",!0),jr("inputStyle",Oo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),jr("spellcheck",!1,function(e,t){e.getInputField().spellcheck=t},!0),jr("rtlMoveVisually",!Po),jr("wholeLineUpdateBefore",!0),jr("theme","default",function(e){s(e),a(e)},!0),jr("keyMap","default",function(t,r,n){var i=Yr(r),o=n!=e.Init&&Yr(n);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),jr("extraKeys",null),jr("lineWrapping",!1,i,!0),jr("gutters",[],function(e){d(e.options),a(e)},!0),jr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?L(e.display)+"px":"0",e.refresh()},!0),jr("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),jr("scrollbarStyle","native",function(e){m(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),jr("lineNumbers",!1,function(e){d(e.options),a(e)},!0),jr("firstLineNumber",1,a,!0),jr("lineNumberFormatter",function(e){return e},a,!0),jr("showCursorWhenSelecting",!1,Pe,!0),jr("resetSelectionOnContextMenu",!0),jr("lineWiseCopyCut",!0),jr("readOnly",!1,function(e,t){"nocursor"==t?(yr(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),jr("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),jr("dragDrop",!0,Kt),jr("allowDropFileTypes",null),jr("cursorBlinkRate",530),jr("cursorScrollMargin",0),jr("cursorHeight",1,Pe,!0),jr("singleCursorHeightPerLine",!0,Pe,!0),jr("workTime",100),jr("workDelay",100),jr("flattenSpans",!0,n,!0),jr("addModeClass",!1,n,!0),jr("pollInterval",100),jr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),jr("historyEventDelay",1250),jr("viewportMargin",10,function(e){e.refresh()},!0),jr("maxHighlightLength",1e4,n,!0),jr("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),jr("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),jr("autofocus",null);var ol=e.modes={},ll=e.mimeModes={};e.defineMode=function(t,r){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),ol[t]=r},e.defineMIME=function(e,t){ll[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ll.hasOwnProperty(t))t=ll[t];else if(t&&"string"==typeof t.name&&ll.hasOwnProperty(t.name)){var r=ll[t.name];"string"==typeof r&&(r={name:r}),t=Fi(r,t),t.name=r.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return e.resolveMode("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){var r=e.resolveMode(r),n=ol[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(sl.hasOwnProperty(r.name)){var o=sl[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}if(i.name=r.name,r.helperType&&(i.helperType=r.helperType),r.modeProps)for(var l in r.modeProps)i[l]=r.modeProps[l];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var sl=e.modeExtensions={};e.extendMode=function(e,t){var r=sl.hasOwnProperty(e)?sl[e]:sl[e]={};Ri(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineDocExtension=function(e,t){kl.prototype[e]=t},e.defineOption=jr;var al=[];e.defineInitHook=function(e){al.push(e)};var ul=e.helpers={};e.registerHelper=function(t,r,n){ul.hasOwnProperty(t)||(ul[t]=e[t]={_global:[]}),ul[t][r]=n},e.registerGlobalHelper=function(t,r,n,i){e.registerHelper(t,r,i),ul[t]._global.push({pred:n,val:i})};var cl=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},hl=e.startState=function(e,t,r){return!e.startState||e.startState(t,r)};e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var fl=e.commands={selectAll:function(e){e.setSelection(Bo(e.firstLine(),0),Bo(e.lastLine()),Rl)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Rl)},killLine:function(e){Ur(e,function(t){if(t.empty()){var r=Qn(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Bo(t.head.line+1,0)}:{from:t.head,to:Bo(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Ur(e,function(t){return{from:Bo(t.from().line,0),to:ge(e.doc,Bo(t.to().line+1,0))}})},delLineLeft:function(e){Ur(e,function(e){return{from:Bo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Ur(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){Ur(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Bo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Bo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return uo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Gl)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Gl)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?uo(e,t.head):n},Gl)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=Ul(e.getLine(o.line),o.ch,n);t.push(Di(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,o=Qn(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Bo(i.line,i.ch-1)),i.ch>0)i=new Bo(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Bo(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=Qn(e.doc,i.line-1).text;l&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),Bo(i.line-1,l.length-1),Bo(i.line,1),"+transpose")}r.push(new he(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,r=0;r<t;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}Fr(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},dl=e.keyMap={};dl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},dl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},dl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},dl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},dl.default=Do?dl.macDefault:dl.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Ei(r.split(" "),Xr),o=0;o<i.length;o++){var l,s;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e};var pl=e.lookupKey=function(e,t,r,n){t=Yr(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return pl(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=pl(e,t.fallthrough[o],r,n);if(l)return l}}},gl=e.isModifierKey=function(e){var t="string"==typeof e?e:ss[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},vl=e.keyName=function(e,t){if(ko&&34==e.keyCode&&e.char)return!1;var r=ss[e.keyCode],n=r;return null!=n&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(Io?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(Io?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};e.fromTextArea=function(t,r){function n(){t.value=a.getValue()}if(r=r?Ri(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),null==r.autofocus){var i=Yi();r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Dl(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var o=t.form,l=o.submit;try{var s=o.submit=function(){n(),o.submit=l,o.submit(),o.submit=s}}catch(e){}}r.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Pl(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=l))}},t.style.display="none";var a=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return a};var ml=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ml.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));if(r)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ul(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ul(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ul(this.string,null,this.tabSize)-(this.lineStart?Ul(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var yl=0,bl=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yl};Ai(bl),bl.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xt(e),Wi(this,"clear")){var r=this.find();r&&Ti(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=en(l.markedSpans,this);e&&!this.collapsed?zt(e,ri(l),"text"):e&&(null!=s.to&&(i=ri(l)),null!=s.from&&(n=ri(l))),l.markedSpans=tn(l.markedSpans,s),null==s.from&&this.collapsed&&!Sn(this.doc,l)&&e&&ti(l,bt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var a=bn(this.lines[o]),u=h(a);u>e.display.maxLineLength&&(e.display.maxLine=a,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&It(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&We(e.doc)),e&&Ti(e,"markerCleared",e,this),t&&St(e),this.parent&&this.parent.clear()}},bl.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=en(o.markedSpans,this);if(null!=l.from&&(r=Bo(t?o:ri(o),l.from),e==-1))return r;if(null!=l.to&&(n=Bo(t?o:ri(o),l.to),1==e))return n}return r&&{from:r,to:n}},bl.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&At(r,function(){var n=e.line,i=ri(e.line),o=Je(r,i);if(o&&(lt(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Sn(t.doc,n)&&null!=t.height){var l=t.height;t.height=null;var s=kn(t)-l;s&&ti(n,n.height+s)}})},bl.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&Pi(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},bl.prototype.detachLine=function(e){if(this.lines.splice(Pi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var yl=0,wl=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Ai(wl),wl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ti(this,"clear")}},wl.prototype.find=function(e,t){return this.primary.find(e,t)};var xl=e.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Ai(xl),xl.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ri(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=kn(this);ti(r,Math.max(0,r.height-o)),e&&At(e,function(){Tn(e,r,-o),zt(e,n,"widget")})}},xl.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=kn(this)-e;n&&(ti(r,r.height+n),t&&At(t,function(){t.curOp.forceUpdate=!0,Tn(t,r,n)}))};var Cl=e.Line=function(e,t,r){this.text=e,hn(this,t),this.height=r?r(this):1};Ai(Cl),Cl.prototype.lineNo=function(){return ri(this)};var Sl={},Ll={};_n.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Wn(i),Ti(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},qn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof _n))){var s=[];this.collapse(s),this.children=[new _n(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,s=l;s<i.lines.length;){var a=new _n(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++n,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new qn(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=Pi(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new qn(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var Tl=0,kl=e.Doc=function(e,t,r,n){if(!(this instanceof kl))return new kl(e,t,r,n);null==r&&(r=0),qn.call(this,[new _n([new Cl("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=Bo(r,0);this.sel=de(i),this.history=new li(null),this.id=++Tl,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Yn(this,{from:i,to:i,text:e}),ke(this,de(i),Rl)};kl.prototype=Fi(qn.prototype,{constructor:kl,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ei(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Ht(function(e){var t=Bo(this.first,0),r=this.first+this.size-1;kr(this,{from:t,to:Bo(r,Qn(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ke(this,de(t))}),replaceRange:function(e,t,r,n){t=ge(this,t),r=r?ge(this,r):t,Dr(this,e,t,r,n)},getRange:function(e,t,r){var n=Jn(this,ge(this,e),ge(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(me(this,e))return Qn(this,e)},getLineNumber:function(e){return ri(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qn(this,e)),bn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ge(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ht(function(e,t,r){Se(this,ge(this,"number"==typeof e?Bo(e,t||0):e),null,r)}),setSelection:Ht(function(e,t,r){Se(this,ge(this,e),ge(this,t||e),r)}),extendSelection:Ht(function(e,t,r){we(this,ge(this,e),t&&ge(this,t),r)}),extendSelections:Ht(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:Ht(function(e,t){var r=Ei(this.sel.ranges,e);xe(this,ye(this,r),t)}),setSelections:Ht(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new he(ge(this,e[n].anchor),ge(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ke(this,fe(i,t),r)}}),addSelection:Ht(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new he(ge(this,e),ge(this,t||e))),ke(this,fe(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Jn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Jn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),
t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Ht(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&Lr(this,n,t),o=n.length-1;o>=0;o--)kr(this,n[o]);s?Te(this,s):this.cm&&Fr(this.cm)}),undo:Ht(function(){Nr(this,"undo")}),redo:Ht(function(){Nr(this,"redo")}),undoSelection:Ht(function(){Nr(this,"undo",!0)}),redoSelection:Ht(function(){Nr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new li(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mi(this.history.done),undone:mi(this.history.undone)}},setHistory:function(e){var t=this.history=new li(this.history.maxGeneration);t.done=mi(e.done.slice(0),null,!0),t.undone=mi(e.undone.slice(0),null,!0)},addLineClass:Ht(function(e,t,r){return Gr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(_i(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:Ht(function(e,t,r){return Gr(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(_i(r));if(!o)return!1;var l=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:Ht(function(e,t,r){return Mn(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return _r(this,ge(this,e),ge(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ge(this,e),_r(this,e,e,r,"bookmark")},findMarksAt:function(e){e=ge(this,e);var t=[],r=Qn(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ge(this,e),t=ge(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),ge(this,Bo(r,t))},indexFromPos:function(e){e=ge(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new kl(ei(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new kl(ei(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zr(n,$r(this)),n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),Qr($r(this));break}}if(t.history==this.history){var i=[t.id];$n(t,function(e){i.push(e.id)},!0),t.history=new li(null),t.history.done=mi(this.history.done,i),t.history.undone=mi(this.history.undone,i)}},iterLinkedDocs:function(e){$n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ns(e)},lineSeparator:function(){return this.lineSep||"\n"}}),kl.prototype.eachLine=kl.prototype.iter;var Ml="iter insert remove copy getEditor constructor".split(" ");for(var Nl in kl.prototype)kl.prototype.hasOwnProperty(Nl)&&Pi(Ml,Nl)<0&&(e.prototype[Nl]=function(e){return function(){return e.apply(this.doc,arguments)}}(kl.prototype[Nl]));Ai(kl);var Wl=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Al=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ol=e.e_stop=function(e){Wl(e),Al(e)},Dl=e.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},Hl=[],Pl=e.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else for(var n=Li(e,t,!1),i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}},El=e.signal=function(e,t){var r=Li(e,t,!0);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},Il=null,zl=30,Fl=e.Pass={toString:function(){return"CodeMirror.Pass"}},Rl={scroll:!1},Bl={origin:"*mouse"},Gl={origin:"+move"};Oi.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ul=e.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}},Vl=e.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}},Kl=[""],jl=function(e){e.select()};Ao?jl=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:xo&&(jl=function(e){try{e.select()}catch(e){}});var Xl,Yl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,_l=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Yl.test(e))},ql=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Xl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var $l=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};xo&&Co<11&&(Yi=function(){try{return document.activeElement}catch(e){return document.body}});var Zl,Ql,Jl=e.rmClass=function(e,t){var r=e.className,n=_i(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},es=e.addClass=function(e,t){var r=e.className;_i(t).test(r)||(e.className+=(r?" ":"")+t)},ts=!1,rs=function(){if(xo&&Co<9)return!1;var e=Ki("div");return"draggable"in e||"dragDrop"in e}(),ns=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=Ki("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ls=null,ss=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;e<10;e++)ss[e+48]=ss[e+96]=String(e);for(var e=65;e<=90;e++)ss[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)ss[e+111]=ss[e+63235]="F"+e}();var as,us=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,u="L";return function(r){if(!i.test(r))return!1;for(var n,c=r.length,h=[],f=0;f<c;++f)h.push(n=e(r.charCodeAt(f)));for(var f=0,d=u;f<c;++f){var n=h[f];"m"==n?h[f]=d:d=n}for(var f=0,p=u;f<c;++f){var n=h[f];"1"==n&&"r"==p?h[f]="n":l.test(n)&&(p=n,"r"==n&&(h[f]="R"))}for(var f=1,d=h[0];f<c-1;++f){var n=h[f];"+"==n&&"1"==d&&"1"==h[f+1]?h[f]="1":","!=n||d!=h[f+1]||"1"!=d&&"n"!=d||(h[f]=d),d=n}for(var f=0;f<c;++f){var n=h[f];if(","==n)h[f]="N";else if("%"==n){for(var g=f+1;g<c&&"%"==h[g];++g);for(var v=f&&"!"==h[f-1]||g<c&&"1"==h[g]?"1":"N",m=f;m<g;++m)h[m]=v;f=g-1}}for(var f=0,p=u;f<c;++f){var n=h[f];"L"==p&&"1"==n?h[f]="L":l.test(n)&&(p=n)}for(var f=0;f<c;++f)if(o.test(h[f])){for(var g=f+1;g<c&&o.test(h[g]);++g);for(var y="L"==(f?h[f-1]:u),b="L"==(g<c?h[g]:u),v=y||b?"L":"R",m=f;m<g;++m)h[m]=v;f=g-1}for(var w,x=[],f=0;f<c;)if(s.test(h[f])){var C=f;for(++f;f<c&&s.test(h[f]);++f);x.push(new t(0,C,f))}else{var S=f,L=x.length;for(++f;f<c&&"L"!=h[f];++f);for(var m=S;m<f;)if(a.test(h[m])){S<m&&x.splice(L,0,new t(1,S,m));var T=m;for(++m;m<f&&a.test(h[m]);++m);x.splice(L,0,new t(2,T,m)),S=m}else++m;S<f&&x.splice(L,0,new t(1,S,f))}return 1==x[0].level&&(w=r.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Hi(x).level&&(w=r.match(/\s+$/))&&(Hi(x).to-=w[0].length,x.push(new t(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Hi(x).level&&x.push(new t(x[0].level,c,c)),x}}();return e.version="5.18.2",e})},{}],46:[function(require,module,exports){"use strict";function GraphQLError(r,e,a,o,t,i){i&&i.stack?Object.defineProperty(this,"stack",{value:i.stack,writable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0});var l=a;if(!l&&e&&e.length>0){var c=e[0];l=c&&c.loc&&c.loc.source}var u=o;!u&&e&&(u=e.map(function(r){return r.loc&&r.loc.start}).filter(Boolean)),u&&0===u.length&&(u=void 0);var n=void 0;l&&u&&(n=u.map(function(r){return(0,_language.getLocation)(l,r)})),Object.defineProperties(this,{message:{value:r,enumerable:!0,writable:!0},locations:{value:n||void 0,enumerable:!0},path:{value:t||void 0,enumerable:!0},nodes:{value:e||void 0},source:{value:l||void 0},positions:{value:u||void 0},originalError:{value:i}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLError=GraphQLError;var _language=require("../language");GraphQLError.prototype=Object.create(Error.prototype,{constructor:{value:GraphQLError},name:{value:"GraphQLError"}})},{"../language":63}],47:[function(require,module,exports){"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function formatError(r){return(0,_invariant2.default)(r,"Received null or undefined error."),{message:r.message,locations:r.locations}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatError=formatError;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant)},{"../jsutils/invariant":57}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GraphQLError=require("./GraphQLError");Object.defineProperty(exports,"GraphQLError",{enumerable:!0,get:function(){return _GraphQLError.GraphQLError}});var _syntaxError=require("./syntaxError");Object.defineProperty(exports,"syntaxError",{enumerable:!0,get:function(){return _syntaxError.syntaxError}});var _locatedError=require("./locatedError");Object.defineProperty(exports,"locatedError",{enumerable:!0,get:function(){return _locatedError.locatedError}});var _formatError=require("./formatError");Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return _formatError.formatError}})},{"./GraphQLError":46,"./formatError":47,"./locatedError":49,"./syntaxError":50}],49:[function(require,module,exports){"use strict";function locatedError(r,e,o){if(r&&r.locations)return r;var t=r?r.message||String(r):"An unknown error occurred.";return new _GraphQLError.GraphQLError(t,e,void 0,void 0,o,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.locatedError=locatedError;var _GraphQLError=require("./GraphQLError")},{"./GraphQLError":46}],50:[function(require,module,exports){"use strict";function syntaxError(r,n,o){var t=(0,_location.getLocation)(r,n),e=new _GraphQLError.GraphQLError("Syntax Error "+r.name+" ("+t.line+":"+t.column+") "+o+"\n\n"+highlightSourceAtLocation(r,t),void 0,r,[n]);return e}function highlightSourceAtLocation(r,n){var o=n.line,t=(o-1).toString(),e=o.toString(),a=(o+1).toString(),i=a.length,l=r.body.split(/\r\n|[\n\r]/g);return(o>=2?lpad(i,t)+": "+l[o-2]+"\n":"")+lpad(i,e)+": "+l[o-1]+"\n"+Array(2+i+n.column).join(" ")+"^\n"+(o<l.length?lpad(i,a)+": "+l[o]+"\n":"")}function lpad(r,n){return Array(r-n.length+1).join(" ")+n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.syntaxError=syntaxError;var _location=require("../language/location"),_GraphQLError=require("./GraphQLError")},{"../language/location":66,"./GraphQLError":46}],51:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function execute(e,r,t,n,i,a){(0,_invariant2.default)(e,"Must provide schema"),(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory.");var o=buildExecutionContext(e,r,t,n,i,a);return new Promise(function(e){e(executeOperation(o,o.operation,t))}).catch(function(e){return o.errors.push(e),null}).then(function(e){return o.errors.length?{data:e,errors:o.errors}:{data:e}})}function buildExecutionContext(e,r,t,n,i,a){var o=[],u=void 0,l=Object.create(null);if(r.definitions.forEach(function(e){switch(e.kind){case _language.Kind.OPERATION_DEFINITION:if(!a&&u)throw new _error.GraphQLError("Must provide operation name if query contains multiple operations.");(!a||e.name&&e.name.value===a)&&(u=e);break;case _language.Kind.FRAGMENT_DEFINITION:l[e.name.value]=e;break;default:throw new _error.GraphQLError("GraphQL cannot execute a request containing a "+e.kind+".",[e])}}),!u)throw a?new _error.GraphQLError('Unknown operation named "'+a+'".'):new _error.GraphQLError("Must provide an operation.");var c=(0,_values.getVariableValues)(e,u.variableDefinitions||[],i||{});return{schema:e,fragments:l,rootValue:t,contextValue:n,operation:u,variableValues:c,errors:o}}function executeOperation(e,r,t){var n=getOperationRootType(e.schema,r),i=collectFields(e,n,r.selectionSet,Object.create(null),Object.create(null)),a=[];return"mutation"===r.operation?executeFieldsSerially(e,n,t,a,i):executeFields(e,n,t,a,i)}function getOperationRootType(e,r){switch(r.operation){case"query":return e.getQueryType();case"mutation":var t=e.getMutationType();if(!t)throw new _error.GraphQLError("Schema is not configured for mutations",[r]);return t;case"subscription":var n=e.getSubscriptionType();if(!n)throw new _error.GraphQLError("Schema is not configured for subscriptions",[r]);return n;default:throw new _error.GraphQLError("Can only execute queries, mutations and subscriptions",[r])}}function executeFieldsSerially(e,r,t,n,i){return Object.keys(i).reduce(function(a,o){return a.then(function(a){var u=i[o],l=n.concat([o]),c=resolveField(e,r,t,u,l);return void 0===c?a:isThenable(c)?c.then(function(e){return a[o]=e,a}):(a[o]=c,a)})},Promise.resolve({}))}function executeFields(e,r,t,n,i){var a=!1,o=Object.keys(i).reduce(function(o,u){var l=i[u],c=n.concat([u]),s=resolveField(e,r,t,l,c);return void 0===s?o:(o[u]=s,isThenable(s)&&(a=!0),o)},Object.create(null));return a?promiseForObject(o):o}function collectFields(e,r,t,n,i){for(var a=0;a<t.selections.length;a++){var o=t.selections[a];switch(o.kind){case _language.Kind.FIELD:if(!shouldIncludeNode(e,o.directives))continue;var u=getFieldEntryKey(o);n[u]||(n[u]=[]),n[u].push(o);break;case _language.Kind.INLINE_FRAGMENT:if(!shouldIncludeNode(e,o.directives)||!doesFragmentConditionMatch(e,o,r))continue;collectFields(e,r,o.selectionSet,n,i);break;case _language.Kind.FRAGMENT_SPREAD:var l=o.name.value;if(i[l]||!shouldIncludeNode(e,o.directives))continue;i[l]=!0;var c=e.fragments[l];if(!c||!doesFragmentConditionMatch(e,c,r))continue;collectFields(e,r,c.selectionSet,n,i)}}return n}function shouldIncludeNode(e,r){var t=r&&(0,_find2.default)(r,function(e){return e.name.value===_directives.GraphQLSkipDirective.name});if(t){var n=(0,_values.getArgumentValues)(_directives.GraphQLSkipDirective.args,t.arguments,e.variableValues),i=n.if;if(i===!0)return!1}var a=r&&(0,_find2.default)(r,function(e){return e.name.value===_directives.GraphQLIncludeDirective.name});if(a){var o=(0,_values.getArgumentValues)(_directives.GraphQLIncludeDirective.args,a.arguments,e.variableValues),u=o.if;if(u===!1)return!1}return!0}function doesFragmentConditionMatch(e,r,t){var n=r.typeCondition;if(!n)return!0;var i=(0,_typeFromAST.typeFromAST)(e.schema,n);if(i===t)return!0;if((0,_definition.isAbstractType)(i)){var a=i;return e.schema.isPossibleType(a,t)}return!1}function promiseForObject(e){var r=Object.keys(e),t=r.map(function(r){return e[r]});return Promise.all(t).then(function(e){return e.reduce(function(e,t,n){return e[r[n]]=t,e},Object.create(null))})}function getFieldEntryKey(e){return e.alias?e.alias.value:e.name.value}function resolveField(e,r,t,n,i){var a=n[0],o=a.name.value,u=getFieldDef(e.schema,r,o);if(u){var l=u.type,c=u.resolve||defaultResolveFn,s=(0,_values.getArgumentValues)(u.args,a.arguments,e.variableValues),f=e.contextValue,p={fieldName:o,fieldASTs:n,returnType:l,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues},d=resolveOrError(c,t,s,f,p);return completeValueCatchingError(e,l,n,p,i,d)}}function resolveOrError(e,r,t,n,i){try{return e(r,t,n,i)}catch(e){return e instanceof Error?e:new Error(e)}}function completeValueCatchingError(e,r,t,n,i,a){if(r instanceof _definition.GraphQLNonNull)return completeValueWithLocatedError(e,r,t,n,i,a);try{var o=completeValueWithLocatedError(e,r,t,n,i,a);return isThenable(o)?o.then(void 0,function(r){return e.errors.push(r),Promise.resolve(null)}):o}catch(r){return e.errors.push(r),null}}function completeValueWithLocatedError(e,r,t,n,i,a){try{var o=completeValue(e,r,t,n,i,a);return isThenable(o)?o.catch(function(e){return Promise.reject((0,_error.locatedError)(e,t,i))}):o}catch(e){throw(0,_error.locatedError)(e,t,i)}}function completeValue(e,r,t,n,i,a){if(isThenable(a))return a.then(function(a){return completeValue(e,r,t,n,i,a)});if(a instanceof Error)throw a;if(r instanceof _definition.GraphQLNonNull){var o=completeValue(e,r.ofType,t,n,i,a);if(null===o)throw new Error("Cannot return null for non-nullable field "+n.parentType.name+"."+n.fieldName+".");return o}if((0,_isNullish2.default)(a))return null;if(r instanceof _definition.GraphQLList)return completeListValue(e,r,t,n,i,a);if(r instanceof _definition.GraphQLScalarType||r instanceof _definition.GraphQLEnumType)return completeLeafValue(r,a);if(r instanceof _definition.GraphQLInterfaceType||r instanceof _definition.GraphQLUnionType)return completeAbstractValue(e,r,t,n,i,a);if(r instanceof _definition.GraphQLObjectType)return completeObjectValue(e,r,t,n,i,a);throw new Error('Cannot complete value of unexpected type "'+String(r)+'".')}function completeListValue(e,r,t,n,i,a){(0,_invariant2.default)((0,_iterall.isCollection)(a),"Expected Iterable, but did not find one for field "+n.parentType.name+"."+n.fieldName+".");var o=r.ofType,u=!1,l=[];return(0,_iterall.forEach)(a,function(r,a){var c=i.concat([a]),s=completeValueCatchingError(e,o,t,n,c,r);!u&&isThenable(s)&&(u=!0),l.push(s)}),u?Promise.all(l):l}function completeLeafValue(e,r){(0,_invariant2.default)(e.serialize,"Missing serialize method on type");var t=e.serialize(r);if((0,_isNullish2.default)(t))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(r));return t}function completeAbstractValue(e,r,t,n,i,a){var o=r.resolveType?r.resolveType(a,e.contextValue,n):defaultResolveTypeFn(a,e.contextValue,n,r);if(!(o instanceof _definition.GraphQLObjectType))throw new _error.GraphQLError("Abstract type "+r.name+" must resolve to an Object type at "+("runtime for field "+n.parentType.name+"."+n.fieldName+" with ")+('value "'+String(a)+'", received "'+String(o)+'".'),t);if(!e.schema.isPossibleType(r,o))throw new _error.GraphQLError('Runtime Object type "'+o.name+'" is not a possible type '+('for "'+r.name+'".'),t);return completeObjectValue(e,o,t,n,i,a)}function completeObjectValue(e,r,t,n,i,a){if(r.isTypeOf&&!r.isTypeOf(a,e.contextValue,n))throw new _error.GraphQLError('Expected value of type "'+r.name+'" but got: '+String(a)+".",t);for(var o=Object.create(null),u=Object.create(null),l=0;l<t.length;l++){var c=t[l].selectionSet;c&&(o=collectFields(e,r,c,o,u))}return executeFields(e,r,a,i,o)}function defaultResolveTypeFn(e,r,t,n){for(var i=t.schema.getPossibleTypes(n),a=0;a<i.length;a++){var o=i[a];if(o.isTypeOf&&o.isTypeOf(e,r,t))return o}}function defaultResolveFn(e,r,t,n){var i=n.fieldName;if("object"==typeof e||"function"==typeof e){var a=e[i];return"function"==typeof a?e[i](r,t):a}}function isThenable(e){return"object"==typeof e&&null!==e&&"function"==typeof e.then}function getFieldDef(e,r,t){return t===_introspection.SchemaMetaFieldDef.name&&e.getQueryType()===r?_introspection.SchemaMetaFieldDef:t===_introspection.TypeMetaFieldDef.name&&e.getQueryType()===r?_introspection.TypeMetaFieldDef:t===_introspection.TypeNameMetaFieldDef.name?_introspection.TypeNameMetaFieldDef:r.getFields()[t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.execute=execute;var _iterall=require("iterall"),_error=require("../error"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_typeFromAST=require("../utilities/typeFromAST"),_language=require("../language"),_values=require("./values"),_definition=require("../type/definition"),_schema=require("../type/schema"),_introspection=require("../type/introspection"),_directives=require("../type/directives")},{"../error":48,"../jsutils/find":56,"../jsutils/invariant":57,"../jsutils/isNullish":58,"../language":63,"../type/definition":71,"../type/directives":72,"../type/introspection":74,"../type/schema":76,"../utilities/typeFromAST":92,"./values":53,iterall:121}],52:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _execute=require("./execute");Object.defineProperty(exports,"execute",{enumerable:!0,get:function(){return _execute.execute}})},{"./execute":51}],53:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getVariableValues(e,r,i){return r.reduce(function(r,t){var a=t.variable.name.value;return r[a]=getVariableValue(e,t,i[a]),r},{})}function getArgumentValues(e,r,i){if(!e||!r)return{};var t=(0,_keyMap2.default)(r,function(e){return e.name.value});return e.reduce(function(e,r){var a=r.name,u=t[a]?t[a].value:null,n=(0,_valueFromAST.valueFromAST)(u,r.type,i);return(0,_isNullish2.default)(n)&&(n=r.defaultValue),(0,_isNullish2.default)(n)||(e[a]=n),e},{})}function getVariableValue(e,r,i){var t=(0,_typeFromAST.typeFromAST)(e,r.type),a=r.variable;if(!t||!(0,_definition.isInputType)(t))throw new _error.GraphQLError('Variable "$'+a.name.value+'" expected value of type '+('"'+(0,_printer.print)(r.type)+'" which cannot be used as an input type.'),[r]);var u=t,n=(0,_isValidJSValue.isValidJSValue)(i,u);if(!n.length){if((0,_isNullish2.default)(i)){var l=r.defaultValue;if(l)return(0,_valueFromAST.valueFromAST)(l,u)}return coerceValue(u,i)}if((0,_isNullish2.default)(i))throw new _error.GraphQLError('Variable "$'+a.name.value+'" of required type '+('"'+(0,_printer.print)(r.type)+'" was not provided.'),[r]);var o=n?"\n"+n.join("\n"):"";throw new _error.GraphQLError('Variable "$'+a.name.value+'" got invalid value '+(JSON.stringify(i)+"."+o),[r])}function coerceValue(e,r){var i=r;if(e instanceof _definition.GraphQLNonNull)return coerceValue(e.ofType,i);if((0,_isNullish2.default)(i))return null;if(e instanceof _definition.GraphQLList){var t=function(){var r=e.ofType;if((0,_iterall.isCollection)(i)){var t=function(){var e=[];return(0,_iterall.forEach)(i,function(i){e.push(coerceValue(r,i))}),{v:{v:e}}}();if("object"==typeof t)return t.v}return{v:[coerceValue(r,i)]}}();if("object"==typeof t)return t.v}if(e instanceof _definition.GraphQLInputObjectType){var a=function(){if("object"!=typeof i||null===i)return{v:null};var r=e.getFields();return{v:Object.keys(r).reduce(function(e,t){var a=r[t],u=coerceValue(a.type,i[t]);return(0,_isNullish2.default)(u)&&(u=a.defaultValue),(0,_isNullish2.default)(u)||(e[t]=u),e},{})}}();if("object"==typeof a)return a.v}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must be input type");var u=e.parseValue(i);return(0,_isNullish2.default)(u)?void 0:u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVariableValues=getVariableValues,exports.getArgumentValues=getArgumentValues;var _iterall=require("iterall"),_error=require("../error"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_typeFromAST=require("../utilities/typeFromAST"),_valueFromAST=require("../utilities/valueFromAST"),_isValidJSValue=require("../utilities/isValidJSValue"),_printer=require("../language/printer"),_definition=require("../type/definition")},{"../error":48,"../jsutils/invariant":57,"../jsutils/isNullish":58,"../jsutils/keyMap":59,"../language/printer":68,"../type/definition":71,"../utilities/isValidJSValue":87,"../utilities/typeFromAST":92,"../utilities/valueFromAST":93,iterall:121}],54:[function(require,module,exports){"use strict";function graphql(e,r,a,t,u,i){return new Promise(function(c){var n=new _source.Source(r||"","GraphQL request"),o=(0,_parser.parse)(n),s=(0,_validate.validate)(e,o);c(s.length>0?{errors:s}:(0,_execute.execute)(e,o,a,t,u,i))}).catch(function(e){return{errors:[e]}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.graphql=graphql;var _source=require("./language/source"),_parser=require("./language/parser"),_validate=require("./validation/validate"),_execute=require("./execution/execute")},{"./execution/execute":51,"./language/parser":67,"./language/source":69,"./validation/validate":120}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _graphql=require("./graphql");Object.defineProperty(exports,"graphql",{enumerable:!0,get:function(){return _graphql.graphql}});var _type=require("./type");Object.defineProperty(exports,"GraphQLSchema",{enumerable:!0,get:function(){return _type.GraphQLSchema}}),Object.defineProperty(exports,"GraphQLScalarType",{enumerable:!0,get:function(){return _type.GraphQLScalarType}}),Object.defineProperty(exports,"GraphQLObjectType",{enumerable:!0,get:function(){return _type.GraphQLObjectType}}),Object.defineProperty(exports,"GraphQLInterfaceType",{enumerable:!0,get:function(){return _type.GraphQLInterfaceType}}),Object.defineProperty(exports,"GraphQLUnionType",{enumerable:!0,get:function(){return _type.GraphQLUnionType}}),Object.defineProperty(exports,"GraphQLEnumType",{enumerable:!0,get:function(){return _type.GraphQLEnumType}}),Object.defineProperty(exports,"GraphQLInputObjectType",{enumerable:!0,get:function(){return _type.GraphQLInputObjectType}}),Object.defineProperty(exports,"GraphQLList",{enumerable:!0,get:function(){return _type.GraphQLList;
}}),Object.defineProperty(exports,"GraphQLNonNull",{enumerable:!0,get:function(){return _type.GraphQLNonNull}}),Object.defineProperty(exports,"GraphQLDirective",{enumerable:!0,get:function(){return _type.GraphQLDirective}}),Object.defineProperty(exports,"TypeKind",{enumerable:!0,get:function(){return _type.TypeKind}}),Object.defineProperty(exports,"DirectiveLocation",{enumerable:!0,get:function(){return _type.DirectiveLocation}}),Object.defineProperty(exports,"GraphQLInt",{enumerable:!0,get:function(){return _type.GraphQLInt}}),Object.defineProperty(exports,"GraphQLFloat",{enumerable:!0,get:function(){return _type.GraphQLFloat}}),Object.defineProperty(exports,"GraphQLString",{enumerable:!0,get:function(){return _type.GraphQLString}}),Object.defineProperty(exports,"GraphQLBoolean",{enumerable:!0,get:function(){return _type.GraphQLBoolean}}),Object.defineProperty(exports,"GraphQLID",{enumerable:!0,get:function(){return _type.GraphQLID}}),Object.defineProperty(exports,"specifiedDirectives",{enumerable:!0,get:function(){return _type.specifiedDirectives}}),Object.defineProperty(exports,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return _type.GraphQLIncludeDirective}}),Object.defineProperty(exports,"GraphQLSkipDirective",{enumerable:!0,get:function(){return _type.GraphQLSkipDirective}}),Object.defineProperty(exports,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return _type.GraphQLDeprecatedDirective}}),Object.defineProperty(exports,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return _type.DEFAULT_DEPRECATION_REASON}}),Object.defineProperty(exports,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return _type.SchemaMetaFieldDef}}),Object.defineProperty(exports,"TypeMetaFieldDef",{enumerable:!0,get:function(){return _type.TypeMetaFieldDef}}),Object.defineProperty(exports,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return _type.TypeNameMetaFieldDef}}),Object.defineProperty(exports,"__Schema",{enumerable:!0,get:function(){return _type.__Schema}}),Object.defineProperty(exports,"__Directive",{enumerable:!0,get:function(){return _type.__Directive}}),Object.defineProperty(exports,"__DirectiveLocation",{enumerable:!0,get:function(){return _type.__DirectiveLocation}}),Object.defineProperty(exports,"__Type",{enumerable:!0,get:function(){return _type.__Type}}),Object.defineProperty(exports,"__Field",{enumerable:!0,get:function(){return _type.__Field}}),Object.defineProperty(exports,"__InputValue",{enumerable:!0,get:function(){return _type.__InputValue}}),Object.defineProperty(exports,"__EnumValue",{enumerable:!0,get:function(){return _type.__EnumValue}}),Object.defineProperty(exports,"__TypeKind",{enumerable:!0,get:function(){return _type.__TypeKind}}),Object.defineProperty(exports,"isType",{enumerable:!0,get:function(){return _type.isType}}),Object.defineProperty(exports,"isInputType",{enumerable:!0,get:function(){return _type.isInputType}}),Object.defineProperty(exports,"isOutputType",{enumerable:!0,get:function(){return _type.isOutputType}}),Object.defineProperty(exports,"isLeafType",{enumerable:!0,get:function(){return _type.isLeafType}}),Object.defineProperty(exports,"isCompositeType",{enumerable:!0,get:function(){return _type.isCompositeType}}),Object.defineProperty(exports,"isAbstractType",{enumerable:!0,get:function(){return _type.isAbstractType}}),Object.defineProperty(exports,"getNullableType",{enumerable:!0,get:function(){return _type.getNullableType}}),Object.defineProperty(exports,"getNamedType",{enumerable:!0,get:function(){return _type.getNamedType}});var _language=require("./language");Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return _language.Source}}),Object.defineProperty(exports,"getLocation",{enumerable:!0,get:function(){return _language.getLocation}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _language.parse}}),Object.defineProperty(exports,"parseValue",{enumerable:!0,get:function(){return _language.parseValue}}),Object.defineProperty(exports,"print",{enumerable:!0,get:function(){return _language.print}}),Object.defineProperty(exports,"visit",{enumerable:!0,get:function(){return _language.visit}}),Object.defineProperty(exports,"visitInParallel",{enumerable:!0,get:function(){return _language.visitInParallel}}),Object.defineProperty(exports,"visitWithTypeInfo",{enumerable:!0,get:function(){return _language.visitWithTypeInfo}}),Object.defineProperty(exports,"Kind",{enumerable:!0,get:function(){return _language.Kind}}),Object.defineProperty(exports,"TokenKind",{enumerable:!0,get:function(){return _language.TokenKind}}),Object.defineProperty(exports,"BREAK",{enumerable:!0,get:function(){return _language.BREAK}});var _execution=require("./execution");Object.defineProperty(exports,"execute",{enumerable:!0,get:function(){return _execution.execute}});var _validation=require("./validation");Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validation.validate}}),Object.defineProperty(exports,"specifiedRules",{enumerable:!0,get:function(){return _validation.specifiedRules}});var _error=require("./error");Object.defineProperty(exports,"GraphQLError",{enumerable:!0,get:function(){return _error.GraphQLError}}),Object.defineProperty(exports,"formatError",{enumerable:!0,get:function(){return _error.formatError}});var _utilities=require("./utilities");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _utilities.introspectionQuery}}),Object.defineProperty(exports,"getOperationAST",{enumerable:!0,get:function(){return _utilities.getOperationAST}}),Object.defineProperty(exports,"buildClientSchema",{enumerable:!0,get:function(){return _utilities.buildClientSchema}}),Object.defineProperty(exports,"buildASTSchema",{enumerable:!0,get:function(){return _utilities.buildASTSchema}}),Object.defineProperty(exports,"buildSchema",{enumerable:!0,get:function(){return _utilities.buildSchema}}),Object.defineProperty(exports,"extendSchema",{enumerable:!0,get:function(){return _utilities.extendSchema}}),Object.defineProperty(exports,"printSchema",{enumerable:!0,get:function(){return _utilities.printSchema}}),Object.defineProperty(exports,"typeFromAST",{enumerable:!0,get:function(){return _utilities.typeFromAST}}),Object.defineProperty(exports,"valueFromAST",{enumerable:!0,get:function(){return _utilities.valueFromAST}}),Object.defineProperty(exports,"astFromValue",{enumerable:!0,get:function(){return _utilities.astFromValue}}),Object.defineProperty(exports,"TypeInfo",{enumerable:!0,get:function(){return _utilities.TypeInfo}}),Object.defineProperty(exports,"isValidJSValue",{enumerable:!0,get:function(){return _utilities.isValidJSValue}}),Object.defineProperty(exports,"isValidLiteralValue",{enumerable:!0,get:function(){return _utilities.isValidLiteralValue}}),Object.defineProperty(exports,"concatAST",{enumerable:!0,get:function(){return _utilities.concatAST}}),Object.defineProperty(exports,"separateOperations",{enumerable:!0,get:function(){return _utilities.separateOperations}}),Object.defineProperty(exports,"isEqualType",{enumerable:!0,get:function(){return _utilities.isEqualType}}),Object.defineProperty(exports,"isTypeSubTypeOf",{enumerable:!0,get:function(){return _utilities.isTypeSubTypeOf}}),Object.defineProperty(exports,"doTypesOverlap",{enumerable:!0,get:function(){return _utilities.doTypesOverlap}}),Object.defineProperty(exports,"assertValidName",{enumerable:!0,get:function(){return _utilities.assertValidName}})},{"./error":48,"./execution":52,"./graphql":54,"./language":63,"./type":73,"./utilities":85,"./validation":94}],56:[function(require,module,exports){"use strict";function find(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=find},{}],57:[function(require,module,exports){"use strict";function invariant(e,r){if(!e)throw new Error(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=invariant},{}],58:[function(require,module,exports){"use strict";function isNullish(e){return null===e||void 0===e||e!==e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isNullish},{}],59:[function(require,module,exports){"use strict";function keyMap(e,t){return e.reduce(function(e,r){return e[t(r)]=r,e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyMap},{}],60:[function(require,module,exports){"use strict";function keyValMap(e,t,r){return e.reduce(function(e,u){return e[t(u)]=r(u),e},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=keyValMap},{}],61:[function(require,module,exports){"use strict";function quotedOrList(e){var t=e.slice(0,MAX_LENGTH);return t.map(function(e){return'"'+e+'"'}).reduce(function(e,r,u){return e+(t.length>2?", ":" ")+(u===t.length-1?"or ":"")+r})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=quotedOrList;var MAX_LENGTH=5},{}],62:[function(require,module,exports){"use strict";function suggestionList(t,e){for(var n=Object.create(null),r=e.length,i=t.length/2,o=0;o<r;o++){var a=lexicalDistance(t,e[o]),s=Math.max(i,e[o].length/2,1);a<=s&&(n[e[o]]=a)}return Object.keys(n).sort(function(t,e){return n[t]-n[e]})}function lexicalDistance(t,e){var n=void 0,r=void 0,i=[],o=t.length,a=e.length;for(n=0;n<=o;n++)i[n]=[n];for(r=1;r<=a;r++)i[0][r]=r;for(n=1;n<=o;n++)for(r=1;r<=a;r++){var s=t[n-1]===e[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+s),n>1&&r>1&&t[n-1]===e[r-2]&&t[n-2]===e[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+s))}return i[o][a]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=suggestionList},{}],63:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BREAK=exports.visitWithTypeInfo=exports.visitInParallel=exports.visit=exports.Source=exports.print=exports.parseValue=exports.parse=exports.TokenKind=exports.createLexer=exports.Kind=exports.getLocation=void 0;var _location=require("./location");Object.defineProperty(exports,"getLocation",{enumerable:!0,get:function(){return _location.getLocation}});var _lexer=require("./lexer");Object.defineProperty(exports,"createLexer",{enumerable:!0,get:function(){return _lexer.createLexer}}),Object.defineProperty(exports,"TokenKind",{enumerable:!0,get:function(){return _lexer.TokenKind}});var _parser=require("./parser");Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _parser.parse}}),Object.defineProperty(exports,"parseValue",{enumerable:!0,get:function(){return _parser.parseValue}});var _printer=require("./printer");Object.defineProperty(exports,"print",{enumerable:!0,get:function(){return _printer.print}});var _source=require("./source");Object.defineProperty(exports,"Source",{enumerable:!0,get:function(){return _source.Source}});var _visitor=require("./visitor");Object.defineProperty(exports,"visit",{enumerable:!0,get:function(){return _visitor.visit}}),Object.defineProperty(exports,"visitInParallel",{enumerable:!0,get:function(){return _visitor.visitInParallel}}),Object.defineProperty(exports,"visitWithTypeInfo",{enumerable:!0,get:function(){return _visitor.visitWithTypeInfo}}),Object.defineProperty(exports,"BREAK",{enumerable:!0,get:function(){return _visitor.BREAK}});var _kinds=require("./kinds"),Kind=_interopRequireWildcard(_kinds);exports.Kind=Kind},{"./kinds":64,"./lexer":65,"./location":66,"./parser":67,"./printer":68,"./source":69,"./visitor":70}],64:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.NAME="Name",exports.DOCUMENT="Document",exports.OPERATION_DEFINITION="OperationDefinition",exports.VARIABLE_DEFINITION="VariableDefinition",exports.VARIABLE="Variable",exports.SELECTION_SET="SelectionSet",exports.FIELD="Field",exports.ARGUMENT="Argument",exports.FRAGMENT_SPREAD="FragmentSpread",exports.INLINE_FRAGMENT="InlineFragment",exports.FRAGMENT_DEFINITION="FragmentDefinition",exports.INT="IntValue",exports.FLOAT="FloatValue",exports.STRING="StringValue",exports.BOOLEAN="BooleanValue",exports.ENUM="EnumValue",exports.LIST="ListValue",exports.OBJECT="ObjectValue",exports.OBJECT_FIELD="ObjectField",exports.DIRECTIVE="Directive",exports.NAMED_TYPE="NamedType",exports.LIST_TYPE="ListType",exports.NON_NULL_TYPE="NonNullType",exports.SCHEMA_DEFINITION="SchemaDefinition",exports.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",exports.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",exports.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",exports.FIELD_DEFINITION="FieldDefinition",exports.INPUT_VALUE_DEFINITION="InputValueDefinition",exports.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",exports.UNION_TYPE_DEFINITION="UnionTypeDefinition",exports.ENUM_TYPE_DEFINITION="EnumTypeDefinition",exports.ENUM_VALUE_DEFINITION="EnumValueDefinition",exports.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",exports.TYPE_EXTENSION_DEFINITION="TypeExtensionDefinition",exports.DIRECTIVE_DEFINITION="DirectiveDefinition"},{}],65:[function(require,module,exports){"use strict";function createLexer(e,r){var a=new Tok(SOF,0,0,0,0,null),c={source:e,options:r,lastToken:a,token:a,line:1,lineStart:0,advance:advanceLexer};return c}function advanceLexer(){var e=this.lastToken=this.token;if(e.kind!==EOF){do e=e.next=readToken(this,e);while(e.kind===COMMENT);this.token=e}return e}function getTokenDesc(e){var r=e.value;return r?e.kind+' "'+r+'"':e.kind}function Tok(e,r,a,c,t,n,o){this.kind=e,this.start=r,this.end=a,this.line=c,this.column=t,this.value=o,this.prev=n,this.next=null}function printCharCode(e){return isNaN(e)?EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function readToken(e,r){var a=e.source,c=a.body,t=c.length,n=positionAfterWhitespace(c,r.end,e),o=e.line,s=1+n-e.lineStart;if(n>=t)return new Tok(EOF,t,t,o,s,r);var i=charCodeAt.call(c,n);if(i<32&&9!==i&&10!==i&&13!==i)throw(0,_error.syntaxError)(a,n,"Invalid character "+printCharCode(i)+".");switch(i){case 33:return new Tok(BANG,n,n+1,o,s,r);case 35:return readComment(a,n,o,s,r);case 36:return new Tok(DOLLAR,n,n+1,o,s,r);case 40:return new Tok(PAREN_L,n,n+1,o,s,r);case 41:return new Tok(PAREN_R,n,n+1,o,s,r);case 46:if(46===charCodeAt.call(c,n+1)&&46===charCodeAt.call(c,n+2))return new Tok(SPREAD,n,n+3,o,s,r);break;case 58:return new Tok(COLON,n,n+1,o,s,r);case 61:return new Tok(EQUALS,n,n+1,o,s,r);case 64:return new Tok(AT,n,n+1,o,s,r);case 91:return new Tok(BRACKET_L,n,n+1,o,s,r);case 93:return new Tok(BRACKET_R,n,n+1,o,s,r);case 123:return new Tok(BRACE_L,n,n+1,o,s,r);case 124:return new Tok(PIPE,n,n+1,o,s,r);case 125:return new Tok(BRACE_R,n,n+1,o,s,r);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return readName(a,n,o,s,r);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return readNumber(a,n,i,o,s,r);case 34:return readString(a,n,o,s,r)}throw(0,_error.syntaxError)(a,n,"Unexpected character "+printCharCode(i)+".")}function positionAfterWhitespace(e,r,a){for(var c=e.length,t=r;t<c;){var n=charCodeAt.call(e,t);if(9===n||32===n||44===n||65279===n)++t;else if(10===n)++t,++a.line,a.lineStart=t;else{if(13!==n)break;10===charCodeAt.call(e,t+1)?t+=2:++t,++a.line,a.lineStart=t}}return t}function readComment(e,r,a,c,t){var n=e.body,o=void 0,s=r;do o=charCodeAt.call(n,++s);while(null!==o&&(o>31||9===o));return new Tok(COMMENT,r,s,a,c,t,slice.call(n,r+1,s))}function readNumber(e,r,a,c,t,n){var o=e.body,s=a,i=r,l=!1;if(45===s&&(s=charCodeAt.call(o,++i)),48===s){if(s=charCodeAt.call(o,++i),s>=48&&s<=57)throw(0,_error.syntaxError)(e,i,"Invalid number, unexpected digit after 0: "+printCharCode(s)+".")}else i=readDigits(e,i,s),s=charCodeAt.call(o,i);return 46===s&&(l=!0,s=charCodeAt.call(o,++i),i=readDigits(e,i,s),s=charCodeAt.call(o,i)),69!==s&&101!==s||(l=!0,s=charCodeAt.call(o,++i),43!==s&&45!==s||(s=charCodeAt.call(o,++i)),i=readDigits(e,i,s)),new Tok(l?FLOAT:INT,r,i,c,t,n,slice.call(o,r,i))}function readDigits(e,r,a){var c=e.body,t=r,n=a;if(n>=48&&n<=57){do n=charCodeAt.call(c,++t);while(n>=48&&n<=57);return t}throw(0,_error.syntaxError)(e,t,"Invalid number, expected digit but got: "+printCharCode(n)+".")}function readString(e,r,a,c,t){for(var n=e.body,o=r+1,s=o,i=0,l="";o<n.length&&null!==(i=charCodeAt.call(n,o))&&10!==i&&13!==i&&34!==i;){if(i<32&&9!==i)throw(0,_error.syntaxError)(e,o,"Invalid character within String: "+printCharCode(i)+".");if(++o,92===i){switch(l+=slice.call(n,s,o-1),i=charCodeAt.call(n,o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var d=uniCharCode(charCodeAt.call(n,o+1),charCodeAt.call(n,o+2),charCodeAt.call(n,o+3),charCodeAt.call(n,o+4));if(d<0)throw(0,_error.syntaxError)(e,o,"Invalid character escape sequence: "+("\\u"+n.slice(o+1,o+5)+"."));l+=String.fromCharCode(d),o+=4;break;default:throw(0,_error.syntaxError)(e,o,"Invalid character escape sequence: \\"+String.fromCharCode(i)+".")}++o,s=o}}if(34!==i)throw(0,_error.syntaxError)(e,o,"Unterminated string.");return l+=slice.call(n,s,o),new Tok(STRING,r,o+1,a,c,t,l)}function uniCharCode(e,r,a,c){return char2hex(e)<<12|char2hex(r)<<8|char2hex(a)<<4|char2hex(c)}function char2hex(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function readName(e,r,a,c,t){for(var n=e.body,o=n.length,s=r+1,i=0;s!==o&&null!==(i=charCodeAt.call(n,s))&&(95===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122);)++s;return new Tok(NAME,r,s,a,c,t,slice.call(n,r,s))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenKind=void 0,exports.createLexer=createLexer,exports.getTokenDesc=getTokenDesc;var _error=require("../error"),SOF="<SOF>",EOF="<EOF>",BANG="!",DOLLAR="$",PAREN_L="(",PAREN_R=")",SPREAD="...",COLON=":",EQUALS="=",AT="@",BRACKET_L="[",BRACKET_R="]",BRACE_L="{",PIPE="|",BRACE_R="}",NAME="Name",INT="Int",FLOAT="Float",STRING="String",COMMENT="Comment",charCodeAt=(exports.TokenKind={SOF:SOF,EOF:EOF,BANG:BANG,DOLLAR:DOLLAR,PAREN_L:PAREN_L,PAREN_R:PAREN_R,SPREAD:SPREAD,COLON:COLON,EQUALS:EQUALS,AT:AT,BRACKET_L:BRACKET_L,BRACKET_R:BRACKET_R,BRACE_L:BRACE_L,PIPE:PIPE,BRACE_R:BRACE_R,NAME:NAME,INT:INT,FLOAT:FLOAT,STRING:STRING,COMMENT:COMMENT},String.prototype.charCodeAt),slice=String.prototype.slice;Tok.prototype.toJSON=Tok.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},{"../error":48}],66:[function(require,module,exports){"use strict";function getLocation(e,o){for(var t=/\r\n|[\n\r]/g,n=1,r=o+1,i=void 0;(i=t.exec(e.body))&&i.index<o;)n+=1,r=o+1-(i.index+i[0].length);return{line:n,column:r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocation=getLocation},{}],67:[function(require,module,exports){"use strict";function parse(e,n){var r="string"==typeof e?new _source.Source(e):e,i=(0,_lexer.createLexer)(r,n||{});return parseDocument(i)}function parseValue(e,n){var r="string"==typeof e?new _source.Source(e):e,i=(0,_lexer.createLexer)(r,n||{});expect(i,_lexer.TokenKind.SOF);var t=parseValueLiteral(i,!1);return expect(i,_lexer.TokenKind.EOF),t}function parseName(e){var n=expect(e,_lexer.TokenKind.NAME);return{kind:_kinds.NAME,value:n.value,loc:loc(e,n)}}function parseDocument(e){var n=e.token;expect(e,_lexer.TokenKind.SOF);var r=[];do r.push(parseDefinition(e));while(!skip(e,_lexer.TokenKind.EOF));return{kind:_kinds.DOCUMENT,definitions:r,loc:loc(e,n)}}function parseDefinition(e){if(peek(e,_lexer.TokenKind.BRACE_L))return parseOperationDefinition(e);if(peek(e,_lexer.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return parseOperationDefinition(e);case"fragment":return parseFragmentDefinition(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return parseTypeSystemDefinition(e)}throw unexpected(e)}function parseOperationDefinition(e){var n=e.token;if(peek(e,_lexer.TokenKind.BRACE_L))return{kind:_kinds.OPERATION_DEFINITION,operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:parseSelectionSet(e),loc:loc(e,n)};var r=parseOperationType(e),i=void 0;return peek(e,_lexer.TokenKind.NAME)&&(i=parseName(e)),{kind:_kinds.OPERATION_DEFINITION,operation:r,name:i,variableDefinitions:parseVariableDefinitions(e),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseOperationType(e){var n=expect(e,_lexer.TokenKind.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw unexpected(e,n)}function parseVariableDefinitions(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseVariableDefinition,_lexer.TokenKind.PAREN_R):[]}function parseVariableDefinition(e){var n=e.token;return{kind:_kinds.VARIABLE_DEFINITION,variable:parseVariable(e),type:(expect(e,_lexer.TokenKind.COLON),parseType(e)),defaultValue:skip(e,_lexer.TokenKind.EQUALS)?parseValueLiteral(e,!0):null,loc:loc(e,n)}}function parseVariable(e){var n=e.token;return expect(e,_lexer.TokenKind.DOLLAR),{kind:_kinds.VARIABLE,name:parseName(e),loc:loc(e,n)}}function parseSelectionSet(e){var n=e.token;return{kind:_kinds.SELECTION_SET,selections:many(e,_lexer.TokenKind.BRACE_L,parseSelection,_lexer.TokenKind.BRACE_R),loc:loc(e,n)}}function parseSelection(e){return peek(e,_lexer.TokenKind.SPREAD)?parseFragment(e):parseField(e)}function parseField(e){var n=e.token,r=parseName(e),i=void 0,t=void 0;return skip(e,_lexer.TokenKind.COLON)?(i=r,t=parseName(e)):(i=null,t=r),{kind:_kinds.FIELD,alias:i,name:t,arguments:parseArguments(e),directives:parseDirectives(e),selectionSet:peek(e,_lexer.TokenKind.BRACE_L)?parseSelectionSet(e):null,loc:loc(e,n)}}function parseArguments(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseArgument,_lexer.TokenKind.PAREN_R):[]}function parseArgument(e){var n=e.token;return{kind:_kinds.ARGUMENT,name:parseName(e),value:(expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,!1)),loc:loc(e,n)}}function parseFragment(e){var n=e.token;if(expect(e,_lexer.TokenKind.SPREAD),peek(e,_lexer.TokenKind.NAME)&&"on"!==e.token.value)return{kind:_kinds.FRAGMENT_SPREAD,name:parseFragmentName(e),directives:parseDirectives(e),loc:loc(e,n)};var r=null;return"on"===e.token.value&&(e.advance(),r=parseNamedType(e)),{kind:_kinds.INLINE_FRAGMENT,typeCondition:r,directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseFragmentDefinition(e){var n=e.token;return expectKeyword(e,"fragment"),{kind:_kinds.FRAGMENT_DEFINITION,name:parseFragmentName(e),typeCondition:(expectKeyword(e,"on"),parseNamedType(e)),directives:parseDirectives(e),selectionSet:parseSelectionSet(e),loc:loc(e,n)}}function parseFragmentName(e){if("on"===e.token.value)throw unexpected(e);return parseName(e)}function parseValueLiteral(e,n){var r=e.token;switch(r.kind){case _lexer.TokenKind.BRACKET_L:return parseList(e,n);case _lexer.TokenKind.BRACE_L:return parseObject(e,n);case _lexer.TokenKind.INT:return e.advance(),{kind:_kinds.INT,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.FLOAT:return e.advance(),{kind:_kinds.FLOAT,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.STRING:return e.advance(),{kind:_kinds.STRING,value:r.value,loc:loc(e,r)};case _lexer.TokenKind.NAME:if("true"===r.value||"false"===r.value)return e.advance(),{kind:_kinds.BOOLEAN,value:"true"===r.value,loc:loc(e,r)};if("null"!==r.value)return e.advance(),{kind:_kinds.ENUM,value:r.value,loc:loc(e,r)};break;case _lexer.TokenKind.DOLLAR:if(!n)return parseVariable(e)}throw unexpected(e)}function parseConstValue(e){return parseValueLiteral(e,!0)}function parseValueValue(e){return parseValueLiteral(e,!1)}function parseList(e,n){var r=e.token,i=n?parseConstValue:parseValueValue;return{kind:_kinds.LIST,values:any(e,_lexer.TokenKind.BRACKET_L,i,_lexer.TokenKind.BRACKET_R),loc:loc(e,r)}}function parseObject(e,n){var r=e.token;expect(e,_lexer.TokenKind.BRACE_L);for(var i=[];!skip(e,_lexer.TokenKind.BRACE_R);)i.push(parseObjectField(e,n));return{kind:_kinds.OBJECT,fields:i,loc:loc(e,r)}}function parseObjectField(e,n){var r=e.token;return{kind:_kinds.OBJECT_FIELD,name:parseName(e),value:(expect(e,_lexer.TokenKind.COLON),parseValueLiteral(e,n)),loc:loc(e,r)}}function parseDirectives(e){for(var n=[];peek(e,_lexer.TokenKind.AT);)n.push(parseDirective(e));return n}function parseDirective(e){var n=e.token;return expect(e,_lexer.TokenKind.AT),{kind:_kinds.DIRECTIVE,name:parseName(e),arguments:parseArguments(e),loc:loc(e,n)}}function parseType(e){var n=e.token,r=void 0;return skip(e,_lexer.TokenKind.BRACKET_L)?(r=parseType(e),expect(e,_lexer.TokenKind.BRACKET_R),r={kind:_kinds.LIST_TYPE,type:r,loc:loc(e,n)}):r=parseNamedType(e),skip(e,_lexer.TokenKind.BANG)?{kind:_kinds.NON_NULL_TYPE,type:r,loc:loc(e,n)}:r}function parseNamedType(e){var n=e.token;return{kind:_kinds.NAMED_TYPE,name:parseName(e),loc:loc(e,n)}}function parseTypeSystemDefinition(e){if(peek(e,_lexer.TokenKind.NAME))switch(e.token.value){case"schema":return parseSchemaDefinition(e);case"scalar":return parseScalarTypeDefinition(e);case"type":return parseObjectTypeDefinition(e);case"interface":return parseInterfaceTypeDefinition(e);case"union":return parseUnionTypeDefinition(e);case"enum":return parseEnumTypeDefinition(e);case"input":return parseInputObjectTypeDefinition(e);case"extend":return parseTypeExtensionDefinition(e);case"directive":return parseDirectiveDefinition(e)}throw unexpected(e)}function parseSchemaDefinition(e){var n=e.token;expectKeyword(e,"schema");var r=parseDirectives(e),i=many(e,_lexer.TokenKind.BRACE_L,parseOperationTypeDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.SCHEMA_DEFINITION,directives:r,operationTypes:i,loc:loc(e,n)}}function parseOperationTypeDefinition(e){var n=e.token,r=parseOperationType(e);expect(e,_lexer.TokenKind.COLON);var i=parseNamedType(e);return{kind:_kinds.OPERATION_TYPE_DEFINITION,operation:r,type:i,loc:loc(e,n)}}function parseScalarTypeDefinition(e){var n=e.token;expectKeyword(e,"scalar");var r=parseName(e),i=parseDirectives(e);return{kind:_kinds.SCALAR_TYPE_DEFINITION,name:r,directives:i,loc:loc(e,n)}}function parseObjectTypeDefinition(e){var n=e.token;expectKeyword(e,"type");var r=parseName(e),i=parseImplementsInterfaces(e),t=parseDirectives(e),a=any(e,_lexer.TokenKind.BRACE_L,parseFieldDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.OBJECT_TYPE_DEFINITION,name:r,interfaces:i,directives:t,fields:a,loc:loc(e,n)}}function parseImplementsInterfaces(e){var n=[];if("implements"===e.token.value){e.advance();do n.push(parseNamedType(e));while(peek(e,_lexer.TokenKind.NAME))}return n}function parseFieldDefinition(e){var n=e.token,r=parseName(e),i=parseArgumentDefs(e);expect(e,_lexer.TokenKind.COLON);var t=parseType(e),a=parseDirectives(e);return{kind:_kinds.FIELD_DEFINITION,name:r,arguments:i,type:t,directives:a,loc:loc(e,n)}}function parseArgumentDefs(e){return peek(e,_lexer.TokenKind.PAREN_L)?many(e,_lexer.TokenKind.PAREN_L,parseInputValueDef,_lexer.TokenKind.PAREN_R):[]}function parseInputValueDef(e){var n=e.token,r=parseName(e);expect(e,_lexer.TokenKind.COLON);var i=parseType(e),t=null;skip(e,_lexer.TokenKind.EQUALS)&&(t=parseConstValue(e));var a=parseDirectives(e);return{kind:_kinds.INPUT_VALUE_DEFINITION,name:r,type:i,defaultValue:t,directives:a,loc:loc(e,n)}}function parseInterfaceTypeDefinition(e){var n=e.token;expectKeyword(e,"interface");var r=parseName(e),i=parseDirectives(e),t=any(e,_lexer.TokenKind.BRACE_L,parseFieldDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.INTERFACE_TYPE_DEFINITION,name:r,directives:i,fields:t,loc:loc(e,n)}}function parseUnionTypeDefinition(e){var n=e.token;expectKeyword(e,"union");var r=parseName(e),i=parseDirectives(e);expect(e,_lexer.TokenKind.EQUALS);var t=parseUnionMembers(e);return{kind:_kinds.UNION_TYPE_DEFINITION,name:r,directives:i,types:t,loc:loc(e,n)}}function parseUnionMembers(e){var n=[];do n.push(parseNamedType(e));while(skip(e,_lexer.TokenKind.PIPE));return n}function parseEnumTypeDefinition(e){var n=e.token;expectKeyword(e,"enum");var r=parseName(e),i=parseDirectives(e),t=many(e,_lexer.TokenKind.BRACE_L,parseEnumValueDefinition,_lexer.TokenKind.BRACE_R);return{kind:_kinds.ENUM_TYPE_DEFINITION,name:r,directives:i,values:t,loc:loc(e,n)}}function parseEnumValueDefinition(e){var n=e.token,r=parseName(e),i=parseDirectives(e);return{kind:_kinds.ENUM_VALUE_DEFINITION,name:r,directives:i,loc:loc(e,n)}}function parseInputObjectTypeDefinition(e){var n=e.token;expectKeyword(e,"input");var r=parseName(e),i=parseDirectives(e),t=any(e,_lexer.TokenKind.BRACE_L,parseInputValueDef,_lexer.TokenKind.BRACE_R);return{kind:_kinds.INPUT_OBJECT_TYPE_DEFINITION,name:r,directives:i,fields:t,loc:loc(e,n)}}function parseTypeExtensionDefinition(e){var n=e.token;expectKeyword(e,"extend");var r=parseObjectTypeDefinition(e);return{kind:_kinds.TYPE_EXTENSION_DEFINITION,definition:r,loc:loc(e,n)}}function parseDirectiveDefinition(e){var n=e.token;expectKeyword(e,"directive"),expect(e,_lexer.TokenKind.AT);var r=parseName(e),i=parseArgumentDefs(e);expectKeyword(e,"on");var t=parseDirectiveLocations(e);return{kind:_kinds.DIRECTIVE_DEFINITION,name:r,arguments:i,locations:t,loc:loc(e,n)}}function parseDirectiveLocations(e){var n=[];do n.push(parseName(e));while(skip(e,_lexer.TokenKind.PIPE));return n}function loc(e,n){if(!e.options.noLocation)return new Loc(n,e.lastToken,e.source)}function Loc(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}function peek(e,n){return e.token.kind===n}function skip(e,n){var r=e.token.kind===n;return r&&e.advance(),r}function expect(e,n){var r=e.token;if(r.kind===n)return e.advance(),r;throw(0,_error.syntaxError)(e.source,r.start,"Expected "+n+", found "+(0,_lexer.getTokenDesc)(r))}function expectKeyword(e,n){var r=e.token;if(r.kind===_lexer.TokenKind.NAME&&r.value===n)return e.advance(),r;throw(0,_error.syntaxError)(e.source,r.start,'Expected "'+n+'", found '+(0,_lexer.getTokenDesc)(r))}function unexpected(e,n){var r=n||e.token;return(0,_error.syntaxError)(e.source,r.start,"Unexpected "+(0,_lexer.getTokenDesc)(r))}function any(e,n,r,i){expect(e,n);for(var t=[];!skip(e,i);)t.push(r(e));return t}function many(e,n,r,i){expect(e,n);for(var t=[r(e)];!skip(e,i);)t.push(r(e));return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=parse,exports.parseValue=parseValue,exports.parseConstValue=parseConstValue,exports.parseType=parseType,exports.parseNamedType=parseNamedType;var _source=require("./source"),_error=require("../error"),_lexer=require("./lexer"),_kinds=require("./kinds");Loc.prototype.toJSON=Loc.prototype.inspect=function(){return{start:this.start,end:this.end}}},{"../error":48,"./kinds":64,"./lexer":65,"./source":69}],68:[function(require,module,exports){"use strict";function print(n){return(0,_visitor.visit)(n,{leave:printDocASTReducer})}function join(n,e){return n?n.filter(function(n){return n}).join(e||""):""}function block(n){return n&&0!==n.length?indent("{\n"+join(n,"\n"))+"\n}":"{}"}function wrap(n,e,i){return e?n+e+(i||""):""}function indent(n){return n&&n.replace(/\n/g,"\n  ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.print=print;var _visitor=require("./visitor"),printDocASTReducer={Name:function(n){
return n.value},Variable:function(n){return"$"+n.name},Document:function(n){return join(n.definitions,"\n\n")+"\n"},OperationDefinition:function(n){var e=n.operation,i=n.name,t=wrap("(",join(n.variableDefinitions,", "),")"),r=join(n.directives," "),o=n.selectionSet;return i||r||t||"query"!==e?join([e,join([i,t]),r,o]," "):o},VariableDefinition:function(n){var e=n.variable,i=n.type,t=n.defaultValue;return e+": "+i+wrap(" = ",t)},SelectionSet:function(n){var e=n.selections;return block(e)},Field:function(n){var e=n.alias,i=n.name,t=n.arguments,r=n.directives,o=n.selectionSet;return join([wrap("",e,": ")+i+wrap("(",join(t,", "),")"),join(r," "),o]," ")},Argument:function(n){var e=n.name,i=n.value;return e+": "+i},FragmentSpread:function(n){var e=n.name,i=n.directives;return"..."+e+wrap(" ",join(i," "))},InlineFragment:function(n){var e=n.typeCondition,i=n.directives,t=n.selectionSet;return join(["...",wrap("on ",e),join(i," "),t]," ")},FragmentDefinition:function(n){var e=n.name,i=n.typeCondition,t=n.directives,r=n.selectionSet;return"fragment "+e+" on "+i+" "+wrap("",join(t," ")," ")+r},IntValue:function(n){var e=n.value;return e},FloatValue:function(n){var e=n.value;return e},StringValue:function(n){var e=n.value;return JSON.stringify(e)},BooleanValue:function(n){var e=n.value;return JSON.stringify(e)},EnumValue:function(n){var e=n.value;return e},ListValue:function(n){var e=n.values;return"["+join(e,", ")+"]"},ObjectValue:function(n){var e=n.fields;return"{"+join(e,", ")+"}"},ObjectField:function(n){var e=n.name,i=n.value;return e+": "+i},Directive:function(n){var e=n.name,i=n.arguments;return"@"+e+wrap("(",join(i,", "),")")},NamedType:function(n){var e=n.name;return e},ListType:function(n){var e=n.type;return"["+e+"]"},NonNullType:function(n){var e=n.type;return e+"!"},SchemaDefinition:function(n){var e=n.directives,i=n.operationTypes;return join(["schema",join(e," "),block(i)]," ")},OperationTypeDefinition:function(n){var e=n.operation,i=n.type;return e+": "+i},ScalarTypeDefinition:function(n){var e=n.name,i=n.directives;return join(["scalar",e,join(i," ")]," ")},ObjectTypeDefinition:function(n){var e=n.name,i=n.interfaces,t=n.directives,r=n.fields;return join(["type",e,wrap("implements ",join(i,", ")),join(t," "),block(r)]," ")},FieldDefinition:function(n){var e=n.name,i=n.arguments,t=n.type,r=n.directives;return e+wrap("(",join(i,", "),")")+": "+t+wrap(" ",join(r," "))},InputValueDefinition:function(n){var e=n.name,i=n.type,t=n.defaultValue,r=n.directives;return join([e+": "+i,wrap("= ",t),join(r," ")]," ")},InterfaceTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.fields;return join(["interface",e,join(i," "),block(t)]," ")},UnionTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.types;return join(["union",e,join(i," "),"= "+join(t," | ")]," ")},EnumTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.values;return join(["enum",e,join(i," "),block(t)]," ")},EnumValueDefinition:function(n){var e=n.name,i=n.directives;return join([e,join(i," ")]," ")},InputObjectTypeDefinition:function(n){var e=n.name,i=n.directives,t=n.fields;return join(["input",e,join(i," "),block(t)]," ")},TypeExtensionDefinition:function(n){var e=n.definition;return"extend "+e},DirectiveDefinition:function(n){var e=n.name,i=n.arguments,t=n.locations;return"directive @"+e+wrap("(",join(i,", "),")")+" on "+join(t," | ")}}},{"./visitor":70}],69:[function(require,module,exports){"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.Source=function e(s,a){_classCallCheck(this,e),this.body=s,this.name=a||"GraphQL"}},{}],70:[function(require,module,exports){"use strict";function visit(e,i,n){var t=n||QueryDocumentKeys,r=void 0,a=Array.isArray(e),o=[e],s=-1,l=[],f=void 0,v=[],u=[],p=e;do{s++;var d=s===o.length,c=void 0,y=void 0,m=d&&0!==l.length;if(d){if(c=0===u.length?void 0:v.pop(),y=f,f=u.pop(),m){if(a)y=y.slice();else{var g={};for(var D in y)y.hasOwnProperty(D)&&(g[D]=y[D]);y=g}for(var h=0,V=0;V<l.length;V++){var A=l[V][0],T=l[V][1];a&&(A-=h),a&&null===T?(y.splice(A,1),h++):y[A]=T}}s=r.index,o=r.keys,l=r.edits,a=r.inArray,r=r.prev}else{if(c=f?a?s:o[s]:void 0,y=f?f[c]:p,null===y||void 0===y)continue;f&&v.push(c)}var F=void 0;if(!Array.isArray(y)){if(!isNode(y))throw new Error("Invalid AST Node: "+JSON.stringify(y));var E=getVisitFn(i,y.kind,d);if(E){if(F=E.call(i,y,c,f,v,u),F===BREAK)break;if(F===!1){if(!d){v.pop();continue}}else if(void 0!==F&&(l.push([c,F]),!d)){if(!isNode(F)){v.pop();continue}y=F}}}void 0===F&&m&&l.push([c,y]),d||(r={inArray:a,index:s,keys:o,edits:l,prev:r},a=Array.isArray(y),o=a?y:t[y.kind]||[],s=-1,l=[],f&&u.push(f),f=y)}while(void 0!==r);return 0!==l.length&&(p=l[l.length-1][1]),p}function isNode(e){return e&&"string"==typeof e.kind}function visitInParallel(e){var i=new Array(e.length);return{enter:function(n){for(var t=0;t<e.length;t++)if(!i[t]){var r=getVisitFn(e[t],n.kind,!1);if(r){var a=r.apply(e[t],arguments);if(a===!1)i[t]=n;else if(a===BREAK)i[t]=BREAK;else if(void 0!==a)return a}}},leave:function(n){for(var t=0;t<e.length;t++)if(i[t])i[t]===n&&(i[t]=null);else{var r=getVisitFn(e[t],n.kind,!0);if(r){var a=r.apply(e[t],arguments);if(a===BREAK)i[t]=BREAK;else if(void 0!==a&&a!==!1)return a}}}}}function visitWithTypeInfo(e,i){return{enter:function(n){e.enter(n);var t=getVisitFn(i,n.kind,!1);if(t){var r=t.apply(i,arguments);return void 0!==r&&(e.leave(n),isNode(r)&&e.enter(r)),r}},leave:function(n){var t=getVisitFn(i,n.kind,!0),r=void 0;return t&&(r=t.apply(i,arguments)),e.leave(n),r}}}function getVisitFn(e,i,n){var t=e[i];if(t){if(!n&&"function"==typeof t)return t;var r=n?t.leave:t.enter;if("function"==typeof r)return r}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[i];if("function"==typeof o)return o}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.visit=visit,exports.visitInParallel=visitInParallel,exports.visitWithTypeInfo=visitWithTypeInfo;var QueryDocumentKeys=exports.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},BREAK=exports.BREAK={}},{}],71:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function isType(e){return e instanceof GraphQLScalarType||e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType||e instanceof GraphQLEnumType||e instanceof GraphQLInputObjectType||e instanceof GraphQLList||e instanceof GraphQLNonNull}function isInputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType||t instanceof GraphQLInputObjectType}function isOutputType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLObjectType||t instanceof GraphQLInterfaceType||t instanceof GraphQLUnionType||t instanceof GraphQLEnumType}function isLeafType(e){var t=getNamedType(e);return t instanceof GraphQLScalarType||t instanceof GraphQLEnumType}function isCompositeType(e){return e instanceof GraphQLObjectType||e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function isAbstractType(e){return e instanceof GraphQLInterfaceType||e instanceof GraphQLUnionType}function getNullableType(e){return e instanceof GraphQLNonNull?e.ofType:e}function getNamedType(e){for(var t=e;t instanceof GraphQLList||t instanceof GraphQLNonNull;)t=t.ofType;return t}function resolveThunk(e){return"function"==typeof e?e():e}function defineInterfaces(e,t){var n=resolveThunk(t);return n?((0,_invariant2.default)(Array.isArray(n),e.name+" interfaces must be an Array or a function which returns an Array."),n.forEach(function(t){(0,_invariant2.default)(t instanceof GraphQLInterfaceType,e.name+" may only implement Interface types, it cannot "+("implement: "+String(t)+".")),"function"!=typeof t.resolveType&&(0,_invariant2.default)("function"==typeof e.isTypeOf,"Interface Type "+t.name+' does not provide a "resolveType" '+("function and implementing Type "+e.name+" does not provide a ")+'"isTypeOf" function. There is no way to resolve this implementing type during execution.')}),n):[]}function defineFieldMap(e,t){var n=resolveThunk(t);(0,_invariant2.default)(isPlainObj(n),e.name+" fields must be an object with field names as keys or a function which returns such an object.");var a=Object.keys(n);(0,_invariant2.default)(a.length>0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var i={};return a.forEach(function(t){(0,_assertValidName.assertValidName)(t);var a=n[t],r=_extends({},a,{name:t});(0,_invariant2.default)(!r.hasOwnProperty("isDeprecated"),e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".'),(0,_invariant2.default)(isOutputType(r.type),e.name+"."+t+" field type must be Output Type but "+("got: "+String(r.type)+"."));var s=a.args;s?((0,_invariant2.default)(isPlainObj(s),e.name+"."+t+" args must be an object with argument names as keys."),r.args=Object.keys(s).map(function(n){(0,_assertValidName.assertValidName)(n);var a=s[n];return(0,_invariant2.default)(isInputType(a.type),e.name+"."+t+"("+n+":) argument type must be "+("Input Type but got: "+String(a.type)+".")),{name:n,description:void 0===a.description?null:a.description,type:a.type,defaultValue:void 0===a.defaultValue?null:a.defaultValue}})):r.args=[],i[t]=r}),i}function isPlainObj(e){return e&&"object"==typeof e&&!Array.isArray(e)}function defineTypes(e,t){var n=resolveThunk(t);return(0,_invariant2.default)(Array.isArray(n)&&n.length>0,"Must provide Array of types or a function which returns "+("such an array for Union "+e.name+".")),n.forEach(function(t){(0,_invariant2.default)(t instanceof GraphQLObjectType,e.name+" may only contain Object types, it cannot contain: "+(String(t)+".")),"function"!=typeof e.resolveType&&(0,_invariant2.default)("function"==typeof t.isTypeOf,'Union type "'+e.name+'" does not provide a "resolveType" '+('function and possible type "'+t.name+'" does not provide an ')+'"isTypeOf" function. There is no way to resolve this possible type during execution.')}),n}function defineEnumValues(e,t){(0,_invariant2.default)(isPlainObj(t),e.name+" values must be an object with value names as keys.");var n=Object.keys(t);return(0,_invariant2.default)(n.length>0,e.name+" values must be an object with value names as keys."),n.map(function(n){(0,_assertValidName.assertValidName)(n);var a=t[n];return(0,_invariant2.default)(isPlainObj(a),e.name+"."+n+' must refer to an object with a "value" key '+("representing an internal value but got: "+String(a)+".")),(0,_invariant2.default)(!a.hasOwnProperty("isDeprecated"),e.name+"."+n+' should provide "deprecationReason" instead of "isDeprecated".'),{name:n,description:a.description,deprecationReason:a.deprecationReason,value:(0,_isNullish2.default)(a.value)?n:a.value}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLNonNull=exports.GraphQLList=exports.GraphQLInputObjectType=exports.GraphQLEnumType=exports.GraphQLUnionType=exports.GraphQLInterfaceType=exports.GraphQLObjectType=exports.GraphQLScalarType=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};exports.isType=isType,exports.isInputType=isInputType,exports.isOutputType=isOutputType,exports.isLeafType=isLeafType,exports.isCompositeType=isCompositeType,exports.isAbstractType=isAbstractType,exports.getNullableType=getNullableType,exports.getNamedType=getNamedType;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_kinds=require("../language/kinds"),_assertValidName=require("../utilities/assertValidName"),GraphQLScalarType=exports.GraphQLScalarType=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(t.name,"Type must be named."),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,(0,_invariant2.default)("function"==typeof t.serialize,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&(0,_invariant2.default)("function"==typeof t.parseValue&&"function"==typeof t.parseLiteral,this.name+' must provide both "parseValue" and "parseLiteral" functions.'),this._scalarConfig=t}return e.prototype.serialize=function(e){var t=this._scalarConfig.serialize;return t(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;return t?t(e):null},e.prototype.parseLiteral=function(e){var t=this._scalarConfig.parseLiteral;return t?t(e):null},e.prototype.toString=function(){return this.name},e}(),GraphQLObjectType=exports.GraphQLObjectType=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(t.name,"Type must be named."),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,t.isTypeOf&&(0,_invariant2.default)("function"==typeof t.isTypeOf,this.name+' must provide "isTypeOf" as a function.'),this.isTypeOf=t.isTypeOf,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=defineInterfaces(this,this._typeConfig.interfaces))},e.prototype.toString=function(){return this.name},e}(),GraphQLInterfaceType=exports.GraphQLInterfaceType=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(t.name,"Type must be named."),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,t.resolveType&&(0,_invariant2.default)("function"==typeof t.resolveType,this.name+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=defineFieldMap(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}(),GraphQLUnionType=exports.GraphQLUnionType=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(t.name,"Type must be named."),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,t.resolveType&&(0,_invariant2.default)("function"==typeof t.resolveType,this.name+' must provide "resolveType" as a function.'),this.resolveType=t.resolveType,this._typeConfig=t}return e.prototype.getTypes=function(){return this._types||(this._types=defineTypes(this,this._typeConfig.types))},e.prototype.toString=function(){return this.name},e}(),GraphQLEnumType=exports.GraphQLEnumType=function(){function e(t){_classCallCheck(this,e),this.name=t.name,(0,_assertValidName.assertValidName)(t.name),this.description=t.description,this._values=defineEnumValues(this,t.values),this._enumConfig=t}return e.prototype.getValues=function(){return this._values},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);return t?t.name:null},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e){if(e.kind===_kinds.ENUM){var t=this._getNameLookup()[e.value];if(t)return t.value}},e.prototype._getValueLookup=function(){var e=this;return this._valueLookup||!function(){var t=new Map;e.getValues().forEach(function(e){t.set(e.value,e)}),e._valueLookup=t}(),this._valueLookup},e.prototype._getNameLookup=function(){var e=this;return this._nameLookup||!function(){var t=Object.create(null);e.getValues().forEach(function(e){t[e.name]=e}),e._nameLookup=t}(),this._nameLookup},e.prototype.toString=function(){return this.name},e}(),GraphQLInputObjectType=exports.GraphQLInputObjectType=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(t.name,"Type must be named."),(0,_assertValidName.assertValidName)(t.name),this.name=t.name,this.description=t.description,this._typeConfig=t}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=resolveThunk(this._typeConfig.fields);(0,_invariant2.default)(isPlainObj(t),this.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.keys(t);(0,_invariant2.default)(n.length>0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var a={};return n.forEach(function(n){(0,_assertValidName.assertValidName)(n);var i=_extends({},t[n],{name:n});(0,_invariant2.default)(isInputType(i.type),e.name+"."+n+" field type must be Input Type but "+("got: "+String(i.type)+".")),a[n]=i}),a},e.prototype.toString=function(){return this.name},e}(),GraphQLList=exports.GraphQLList=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(isType(t),"Can only create List of a GraphQLType but got: "+String(t)+"."),this.ofType=t}return e.prototype.toString=function(){return"["+String(this.ofType)+"]"},e}(),GraphQLNonNull=exports.GraphQLNonNull=function(){function e(t){_classCallCheck(this,e),(0,_invariant2.default)(isType(t)&&!(t instanceof e),"Can only create NonNull of a Nullable GraphQLType but got: "+(String(t)+".")),this.ofType=t}return e.prototype.toString=function(){return this.ofType.toString()+"!"},e}()},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../language/kinds":64,"../utilities/assertValidName":78}],72:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.specifiedDirectives=exports.GraphQLDeprecatedDirective=exports.DEFAULT_DEPRECATION_REASON=exports.GraphQLSkipDirective=exports.GraphQLIncludeDirective=exports.GraphQLDirective=exports.DirectiveLocation=void 0;var _definition=require("./definition"),_scalars=require("./scalars"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_assertValidName=require("../utilities/assertValidName"),DirectiveLocation=exports.DirectiveLocation={QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"},GraphQLDirective=exports.GraphQLDirective=function e(i){_classCallCheck(this,e),(0,_invariant2.default)(i.name,"Directive must be named."),(0,_assertValidName.assertValidName)(i.name),(0,_invariant2.default)(Array.isArray(i.locations),"Must provide locations for directive."),this.name=i.name,this.description=i.description,this.locations=i.locations;var t=i.args;t?((0,_invariant2.default)(!Array.isArray(t),"@"+i.name+" args must be an object with argument names as keys."),this.args=Object.keys(t).map(function(e){(0,_assertValidName.assertValidName)(e);var r=t[e];return(0,_invariant2.default)((0,_definition.isInputType)(r.type),"@"+i.name+"("+e+":) argument type must be "+("Input Type but got: "+String(r.type)+".")),{name:e,description:void 0===r.description?null:r.description,type:r.type,defaultValue:void 0===r.defaultValue?null:r.defaultValue}})):this.args=[]},GraphQLIncludeDirective=exports.GraphQLIncludeDirective=new GraphQLDirective({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[DirectiveLocation.FIELD,DirectiveLocation.FRAGMENT_SPREAD,DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Included when true."}}}),GraphQLSkipDirective=exports.GraphQLSkipDirective=new GraphQLDirective({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[DirectiveLocation.FIELD,DirectiveLocation.FRAGMENT_SPREAD,DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),description:"Skipped when true."}}}),DEFAULT_DEPRECATION_REASON=exports.DEFAULT_DEPRECATION_REASON="No longer supported",GraphQLDeprecatedDirective=exports.GraphQLDeprecatedDirective=new GraphQLDirective({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[DirectiveLocation.FIELD_DEFINITION,DirectiveLocation.ENUM_VALUE],args:{reason:{type:_scalars.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:DEFAULT_DEPRECATION_REASON}}});exports.specifiedDirectives=[GraphQLIncludeDirective,GraphQLSkipDirective,GraphQLDeprecatedDirective]},{"../jsutils/invariant":57,"../utilities/assertValidName":78,"./definition":71,"./scalars":75}],73:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _schema=require("./schema");Object.defineProperty(exports,"GraphQLSchema",{enumerable:!0,get:function(){return _schema.GraphQLSchema}});var _definition=require("./definition");Object.defineProperty(exports,"isType",{enumerable:!0,get:function(){return _definition.isType}}),Object.defineProperty(exports,"isInputType",{enumerable:!0,get:function(){return _definition.isInputType}}),Object.defineProperty(exports,"isOutputType",{enumerable:!0,get:function(){return _definition.isOutputType}}),Object.defineProperty(exports,"isLeafType",{enumerable:!0,get:function(){return _definition.isLeafType}}),Object.defineProperty(exports,"isCompositeType",{enumerable:!0,get:function(){return _definition.isCompositeType}}),Object.defineProperty(exports,"isAbstractType",{enumerable:!0,get:function(){return _definition.isAbstractType}}),Object.defineProperty(exports,"getNullableType",{enumerable:!0,get:function(){return _definition.getNullableType}}),Object.defineProperty(exports,"getNamedType",{enumerable:!0,get:function(){return _definition.getNamedType}}),Object.defineProperty(exports,"GraphQLScalarType",{enumerable:!0,get:function(){return _definition.GraphQLScalarType}}),Object.defineProperty(exports,"GraphQLObjectType",{enumerable:!0,get:function(){return _definition.GraphQLObjectType}}),Object.defineProperty(exports,"GraphQLInterfaceType",{enumerable:!0,get:function(){return _definition.GraphQLInterfaceType}}),Object.defineProperty(exports,"GraphQLUnionType",{enumerable:!0,get:function(){return _definition.GraphQLUnionType}}),Object.defineProperty(exports,"GraphQLEnumType",{enumerable:!0,get:function(){return _definition.GraphQLEnumType}}),Object.defineProperty(exports,"GraphQLInputObjectType",{enumerable:!0,get:function(){return _definition.GraphQLInputObjectType}}),Object.defineProperty(exports,"GraphQLList",{enumerable:!0,get:function(){return _definition.GraphQLList}}),Object.defineProperty(exports,"GraphQLNonNull",{enumerable:!0,get:function(){return _definition.GraphQLNonNull}});var _directives=require("./directives");Object.defineProperty(exports,"DirectiveLocation",{enumerable:!0,get:function(){return _directives.DirectiveLocation}}),Object.defineProperty(exports,"GraphQLDirective",{enumerable:!0,get:function(){return _directives.GraphQLDirective}}),Object.defineProperty(exports,"specifiedDirectives",{enumerable:!0,get:function(){return _directives.specifiedDirectives}}),Object.defineProperty(exports,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return _directives.GraphQLIncludeDirective}}),Object.defineProperty(exports,"GraphQLSkipDirective",{enumerable:!0,get:function(){return _directives.GraphQLSkipDirective}}),Object.defineProperty(exports,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return _directives.GraphQLDeprecatedDirective}}),Object.defineProperty(exports,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return _directives.DEFAULT_DEPRECATION_REASON}});var _scalars=require("./scalars");Object.defineProperty(exports,"GraphQLInt",{enumerable:!0,get:function(){return _scalars.GraphQLInt}}),Object.defineProperty(exports,"GraphQLFloat",{enumerable:!0,get:function(){return _scalars.GraphQLFloat}}),Object.defineProperty(exports,"GraphQLString",{enumerable:!0,get:function(){return _scalars.GraphQLString}}),Object.defineProperty(exports,"GraphQLBoolean",{enumerable:!0,get:function(){return _scalars.GraphQLBoolean}}),Object.defineProperty(exports,"GraphQLID",{enumerable:!0,get:function(){return _scalars.GraphQLID}});var _introspection=require("./introspection");Object.defineProperty(exports,"TypeKind",{enumerable:!0,get:function(){return _introspection.TypeKind}}),Object.defineProperty(exports,"__Schema",{enumerable:!0,get:function(){return _introspection.__Schema}}),Object.defineProperty(exports,"__Directive",{enumerable:!0,get:function(){return _introspection.__Directive}}),Object.defineProperty(exports,"__DirectiveLocation",{enumerable:!0,get:function(){return _introspection.__DirectiveLocation}}),Object.defineProperty(exports,"__Type",{enumerable:!0,get:function(){return _introspection.__Type}}),Object.defineProperty(exports,"__Field",{enumerable:!0,get:function(){return _introspection.__Field}}),Object.defineProperty(exports,"__InputValue",{enumerable:!0,get:function(){return _introspection.__InputValue}}),Object.defineProperty(exports,"__EnumValue",{enumerable:!0,get:function(){return _introspection.__EnumValue}}),Object.defineProperty(exports,"__TypeKind",{enumerable:!0,get:function(){return _introspection.__TypeKind}}),Object.defineProperty(exports,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return _introspection.SchemaMetaFieldDef}}),Object.defineProperty(exports,"TypeMetaFieldDef",{enumerable:!0,get:function(){return _introspection.TypeMetaFieldDef}}),Object.defineProperty(exports,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return _introspection.TypeNameMetaFieldDef}})},{"./definition":71,"./directives":72,"./introspection":74,"./scalars":75,"./schema":76}],74:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeNameMetaFieldDef=exports.TypeMetaFieldDef=exports.SchemaMetaFieldDef=exports.__TypeKind=exports.TypeKind=exports.__EnumValue=exports.__InputValue=exports.__Field=exports.__Type=exports.__DirectiveLocation=exports.__Directive=exports.__Schema=void 0;var _isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_astFromValue=require("../utilities/astFromValue"),_printer=require("../language/printer"),_definition=require("./definition"),_scalars=require("./scalars"),_directives=require("./directives"),__Schema=exports.__Schema=new _definition.GraphQLObjectType({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type))),resolve:function(e){var i=e.getTypeMap();return Object.keys(i).map(function(e){return i[e]})}},queryType:{description:"The type that query operations will be rooted at.",type:new _definition.GraphQLNonNull(__Type),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:__Type,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:__Type,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__Directive))),resolve:function(e){return e.getDirectives()}}}}}),__Directive=exports.__Directive=new _definition.GraphQLObjectType({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},locations:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__DirectiveLocation)))},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.QUERY)!==-1||e.locations.indexOf(_directives.DirectiveLocation.MUTATION)!==-1||e.locations.indexOf(_directives.DirectiveLocation.SUBSCRIPTION)!==-1}},onFragment:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.FRAGMENT_SPREAD)!==-1||e.locations.indexOf(_directives.DirectiveLocation.INLINE_FRAGMENT)!==-1||e.locations.indexOf(_directives.DirectiveLocation.FRAGMENT_DEFINITION)!==-1}},onField:{deprecationReason:"Use `locations`.",type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return e.locations.indexOf(_directives.DirectiveLocation.FIELD)!==-1}}}}}),__DirectiveLocation=exports.__DirectiveLocation=new _definition.GraphQLEnumType({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",
values:{QUERY:{value:_directives.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:_directives.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:_directives.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:_directives.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:_directives.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:_directives.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:_directives.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:_directives.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:_directives.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:_directives.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:_directives.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:_directives.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:_directives.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:_directives.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:_directives.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:_directives.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:_directives.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:_directives.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),__Type=exports.__Type=new _definition.GraphQLObjectType({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:new _definition.GraphQLNonNull(__TypeKind),resolve:function(e){if(e instanceof _definition.GraphQLScalarType)return TypeKind.SCALAR;if(e instanceof _definition.GraphQLObjectType)return TypeKind.OBJECT;if(e instanceof _definition.GraphQLInterfaceType)return TypeKind.INTERFACE;if(e instanceof _definition.GraphQLUnionType)return TypeKind.UNION;if(e instanceof _definition.GraphQLEnumType)return TypeKind.ENUM;if(e instanceof _definition.GraphQLInputObjectType)return TypeKind.INPUT_OBJECT;if(e instanceof _definition.GraphQLList)return TypeKind.LIST;if(e instanceof _definition.GraphQLNonNull)return TypeKind.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:_scalars.GraphQLString},description:{type:_scalars.GraphQLString},fields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Field)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,i){var n=i.includeDeprecated;if(e instanceof _definition.GraphQLObjectType||e instanceof _definition.GraphQLInterfaceType){var t=function(){var i=e.getFields(),t=Object.keys(i).map(function(e){return i[e]});return n||(t=t.filter(function(e){return!e.deprecationReason})),{v:t}}();if("object"==typeof t)return t.v}return null}},interfaces:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e){if(e instanceof _definition.GraphQLObjectType)return e.getInterfaces()}},possibleTypes:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__Type)),resolve:function(e,i,n,t){var a=t.schema;if(e instanceof _definition.GraphQLInterfaceType||e instanceof _definition.GraphQLUnionType)return a.getPossibleTypes(e)}},enumValues:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__EnumValue)),args:{includeDeprecated:{type:_scalars.GraphQLBoolean,defaultValue:!1}},resolve:function(e,i){var n=i.includeDeprecated;if(e instanceof _definition.GraphQLEnumType){var t=e.getValues();return n||(t=t.filter(function(e){return!e.deprecationReason})),t}}},inputFields:{type:new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue)),resolve:function(e){if(e instanceof _definition.GraphQLInputObjectType){var i=function(){var i=e.getFields();return{v:Object.keys(i).map(function(e){return i[e]})}}();if("object"==typeof i)return i.v}}},ofType:{type:__Type}}}}),__Field=exports.__Field=new _definition.GraphQLObjectType({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},args:{type:new _definition.GraphQLNonNull(new _definition.GraphQLList(new _definition.GraphQLNonNull(__InputValue))),resolve:function(e){return e.args||[]}},type:{type:new _definition.GraphQLNonNull(__Type)},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return!(0,_isNullish2.default)(e.deprecationReason)}},deprecationReason:{type:_scalars.GraphQLString}}}}),__InputValue=exports.__InputValue=new _definition.GraphQLObjectType({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},type:{type:new _definition.GraphQLNonNull(__Type)},defaultValue:{type:_scalars.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return(0,_isNullish2.default)(e.defaultValue)?null:(0,_printer.print)((0,_astFromValue.astFromValue)(e.defaultValue,e.type))}}}}}),__EnumValue=exports.__EnumValue=new _definition.GraphQLObjectType({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:new _definition.GraphQLNonNull(_scalars.GraphQLString)},description:{type:_scalars.GraphQLString},isDeprecated:{type:new _definition.GraphQLNonNull(_scalars.GraphQLBoolean),resolve:function(e){return!(0,_isNullish2.default)(e.deprecationReason)}},deprecationReason:{type:_scalars.GraphQLString}}}}),TypeKind=exports.TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},__TypeKind=exports.__TypeKind=new _definition.GraphQLEnumType({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:TypeKind.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:TypeKind.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:TypeKind.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:TypeKind.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:TypeKind.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:TypeKind.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:TypeKind.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:TypeKind.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});exports.SchemaMetaFieldDef={name:"__schema",type:new _definition.GraphQLNonNull(__Schema),description:"Access the current type schema of this server.",args:[],resolve:function(e,i,n,t){var a=t.schema;return a}},exports.TypeMetaFieldDef={name:"__type",type:__Type,description:"Request the type information of a single type.",args:[{name:"name",type:new _definition.GraphQLNonNull(_scalars.GraphQLString)}],resolve:function(e,i,n,t){var a=i.name,r=t.schema;return r.getType(a)}},exports.TypeNameMetaFieldDef={name:"__typename",type:new _definition.GraphQLNonNull(_scalars.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,i,n,t){var a=t.parentType;return a.name}}},{"../jsutils/isNullish":58,"../language/printer":68,"../utilities/astFromValue":79,"./definition":71,"./directives":72,"./scalars":75}],75:[function(require,module,exports){"use strict";function coerceInt(e){var r=Number(e);if(r===r&&r<=MAX_INT&&r>=MIN_INT)return(r<0?Math.ceil:Math.floor)(r);throw new TypeError("Int cannot represent non 32-bit signed integer value: "+e)}function coerceFloat(e){var r=Number(e);if(r===r)return r;throw new TypeError("Float cannot represent non numeric value: "+e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLID=exports.GraphQLBoolean=exports.GraphQLString=exports.GraphQLFloat=exports.GraphQLInt=void 0;var _definition=require("./definition"),_language=require("../language"),MAX_INT=2147483647,MIN_INT=-2147483648;exports.GraphQLInt=new _definition.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:coerceInt,parseValue:coerceInt,parseLiteral:function(e){if(e.kind===_language.Kind.INT){var r=parseInt(e.value,10);if(r<=MAX_INT&&r>=MIN_INT)return r}return null}}),exports.GraphQLFloat=new _definition.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:coerceFloat,parseValue:coerceFloat,parseLiteral:function(e){return e.kind===_language.Kind.FLOAT||e.kind===_language.Kind.INT?parseFloat(e.value):null}}),exports.GraphQLString=new _definition.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===_language.Kind.STRING?e.value:null}}),exports.GraphQLBoolean=new _definition.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===_language.Kind.BOOLEAN?e.value:null}}),exports.GraphQLID=new _definition.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===_language.Kind.STRING||e.kind===_language.Kind.INT?e.value:null}})},{"../language":63,"./definition":71}],76:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function typeMapReducer(e,t){if(!t)return e;if(t instanceof _definition.GraphQLList||t instanceof _definition.GraphQLNonNull)return typeMapReducer(e,t.ofType);if(e[t.name])return(0,_invariant2.default)(e[t.name]===t,"Schema must contain unique named types but contains multiple "+('types named "'+t.name+'".')),e;e[t.name]=t;var i=e;return t instanceof _definition.GraphQLUnionType&&(i=t.getTypes().reduce(typeMapReducer,i)),t instanceof _definition.GraphQLObjectType&&(i=t.getInterfaces().reduce(typeMapReducer,i)),(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType||t instanceof _definition.GraphQLInputObjectType)&&!function(){var e=t.getFields();Object.keys(e).forEach(function(t){var n=e[t];if(n.args){var r=n.args.map(function(e){return e.type});i=r.reduce(typeMapReducer,i)}i=typeMapReducer(i,n.type)})}(),i}function assertObjectImplementsInterface(e,t,i){var n=t.getFields(),r=i.getFields();Object.keys(r).forEach(function(a){var p=n[a],o=r[a];(0,_invariant2.default)(p,'"'+i.name+'" expects field "'+a+'" but "'+t.name+'" does not provide it.'),(0,_invariant2.default)((0,_typeComparators.isTypeSubTypeOf)(e,p.type,o.type),i.name+"."+a+' expects type "'+String(o.type)+'" but '+(t.name+"."+a+' provides type "'+String(p.type)+'".')),o.args.forEach(function(e){var n=e.name,r=(0,_find2.default)(p.args,function(e){return e.name===n});(0,_invariant2.default)(r,i.name+"."+a+' expects argument "'+n+'" but '+(t.name+"."+a+" does not provide it.")),(0,_invariant2.default)((0,_typeComparators.isEqualType)(e.type,r.type),i.name+"."+a+"("+n+":) expects type "+('"'+String(e.type)+'" but ')+(t.name+"."+a+"("+n+":) provides type ")+('"'+String(r.type)+'".'))}),p.args.forEach(function(e){var n=e.name,r=(0,_find2.default)(o.args,function(e){return e.name===n});r||(0,_invariant2.default)(!(e.type instanceof _definition.GraphQLNonNull),t.name+"."+a+"("+n+":) is of required type "+('"'+String(e.type)+'" but is not also provided by the ')+("interface "+i.name+"."+a+"."))})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQLSchema=void 0;var _definition=require("./definition"),_directives=require("./directives"),_introspection=require("./introspection"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_typeComparators=require("../utilities/typeComparators");exports.GraphQLSchema=function(){function e(t){var i=this;_classCallCheck(this,e),(0,_invariant2.default)("object"==typeof t,"Must provide configuration object."),(0,_invariant2.default)(t.query instanceof _definition.GraphQLObjectType,"Schema query must be Object Type but got: "+String(t.query)+"."),this._queryType=t.query,(0,_invariant2.default)(!t.mutation||t.mutation instanceof _definition.GraphQLObjectType,"Schema mutation must be Object Type if provided but got: "+String(t.mutation)+"."),this._mutationType=t.mutation,(0,_invariant2.default)(!t.subscription||t.subscription instanceof _definition.GraphQLObjectType,"Schema subscription must be Object Type if provided but got: "+String(t.subscription)+"."),this._subscriptionType=t.subscription,(0,_invariant2.default)(!t.types||Array.isArray(t.types),"Schema types must be Array if provided but got: "+String(t.types)+"."),(0,_invariant2.default)(!t.directives||Array.isArray(t.directives)&&t.directives.every(function(e){return e instanceof _directives.GraphQLDirective}),"Schema directives must be Array<GraphQLDirective> if provided but got: "+String(t.directives)+"."),this._directives=t.directives||_directives.specifiedDirectives;var n=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),_introspection.__Schema],r=t.types;r&&(n=n.concat(r)),this._typeMap=n.reduce(typeMapReducer,Object.create(null)),this._implementations=Object.create(null),Object.keys(this._typeMap).forEach(function(e){var t=i._typeMap[e];t instanceof _definition.GraphQLObjectType&&t.getInterfaces().forEach(function(e){var n=i._implementations[e.name];n?n.push(t):i._implementations[e.name]=[t]})}),Object.keys(this._typeMap).forEach(function(e){var t=i._typeMap[e];t instanceof _definition.GraphQLObjectType&&t.getInterfaces().forEach(function(e){return assertObjectImplementsInterface(i,t,e)})})}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return e instanceof _definition.GraphQLUnionType?e.getTypes():((0,_invariant2.default)(e instanceof _definition.GraphQLInterfaceType),this._implementations[e.name])},e.prototype.isPossibleType=function(e,t){var i=this._possibleTypeMap;if(i||(this._possibleTypeMap=i=Object.create(null)),!i[e.name]){var n=this.getPossibleTypes(e);(0,_invariant2.default)(Array.isArray(n),"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),i[e.name]=n.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(i[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return(0,_find2.default)(this.getDirectives(),function(t){return t.name===e})},e}()},{"../jsutils/find":56,"../jsutils/invariant":57,"../utilities/typeComparators":91,"./definition":71,"./directives":72,"./introspection":74}],77:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function getFieldDef(e,t,i){var n=i.name.value;return n===_introspection.SchemaMetaFieldDef.name&&e.getQueryType()===t?_introspection.SchemaMetaFieldDef:n===_introspection.TypeMetaFieldDef.name&&e.getQueryType()===t?_introspection.TypeMetaFieldDef:n===_introspection.TypeNameMetaFieldDef.name&&(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType||t instanceof _definition.GraphQLUnionType)?_introspection.TypeNameMetaFieldDef:t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType?t.getFields()[n]:void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeInfo=void 0;var _kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_definition=require("../type/definition"),_introspection=require("../type/introspection"),_typeFromAST=require("./typeFromAST"),_find=require("../jsutils/find"),_find2=_interopRequireDefault(_find);exports.TypeInfo=function(){function e(t,i){_classCallCheck(this,e),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._getFieldDef=i||getFieldDef}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case Kind.SELECTION_SET:var i=(0,_definition.getNamedType)(this.getType()),n=void 0;(0,_definition.isCompositeType)(i)&&(n=i),this._parentTypeStack.push(n);break;case Kind.FIELD:var a=this.getParentType(),p=void 0;a&&(p=this._getFieldDef(t,a,e)),this._fieldDefStack.push(p),this._typeStack.push(p&&p.type);break;case Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case Kind.OPERATION_DEFINITION:var r=void 0;"query"===e.operation?r=t.getQueryType():"mutation"===e.operation?r=t.getMutationType():"subscription"===e.operation&&(r=t.getSubscriptionType()),this._typeStack.push(r);break;case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:var s=e.typeCondition,o=s?(0,_typeFromAST.typeFromAST)(t,s):this.getType();this._typeStack.push(o);break;case Kind.VARIABLE_DEFINITION:var c=(0,_typeFromAST.typeFromAST)(t,e.type);this._inputTypeStack.push(c);break;case Kind.ARGUMENT:var u=void 0,_=void 0,d=this.getDirective()||this.getFieldDef();d&&(u=(0,_find2.default)(d.args,function(t){return t.name===e.name.value}),u&&(_=u.type)),this._argument=u,this._inputTypeStack.push(_);break;case Kind.LIST:var f=(0,_definition.getNullableType)(this.getInputType());this._inputTypeStack.push(f instanceof _definition.GraphQLList?f.ofType:void 0);break;case Kind.OBJECT_FIELD:var h=(0,_definition.getNamedType)(this.getInputType()),y=void 0;if(h instanceof _definition.GraphQLInputObjectType){var T=h.getFields()[e.name.value];y=T?T.type:void 0}this._inputTypeStack.push(y)}},e.prototype.leave=function(e){switch(e.kind){case Kind.SELECTION_SET:this._parentTypeStack.pop();break;case Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case Kind.DIRECTIVE:this._directive=null;break;case Kind.OPERATION_DEFINITION:case Kind.INLINE_FRAGMENT:case Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case Kind.LIST:case Kind.OBJECT_FIELD:this._inputTypeStack.pop()}},e}()},{"../jsutils/find":56,"../language/kinds":64,"../type/definition":71,"../type/introspection":74,"./typeFromAST":92}],78:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function assertValidName(e){(0,_invariant2.default)(NAME_RX.test(e),'Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.')}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertValidName=assertValidName;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),NAME_RX=/^[_a-zA-Z][_a-zA-Z0-9]*$/},{"../jsutils/invariant":57}],79:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function astFromValue(e,i){var n=e;if(i instanceof _definition.GraphQLNonNull)return astFromValue(n,i.ofType);if((0,_isNullish2.default)(n))return null;if(i instanceof _definition.GraphQLList){var r=function(){var e=i.ofType;if((0,_iterall.isCollection)(n)){var r=function(){var i=[];return(0,_iterall.forEach)(n,function(n){var r=astFromValue(n,e);r&&i.push(r)}),{v:{v:{kind:_kinds.LIST,values:i}}}}();if("object"==typeof r)return r.v}return{v:astFromValue(n,e)}}();if("object"==typeof r)return r.v}if(i instanceof _definition.GraphQLInputObjectType){var t=function(){if(null===n||"object"!=typeof n)return{v:null};var e=i.getFields(),r=[];return Object.keys(e).forEach(function(i){var t=e[i].type,a=astFromValue(n[i],t);a&&r.push({kind:_kinds.OBJECT_FIELD,name:{kind:_kinds.NAME,value:i},value:a})}),{v:{kind:_kinds.OBJECT,fields:r}}}();if("object"==typeof t)return t.v}(0,_invariant2.default)(i instanceof _definition.GraphQLScalarType||i instanceof _definition.GraphQLEnumType,"Must provide Input Type, cannot use: "+String(i));var a=i.serialize(n);if((0,_isNullish2.default)(a))return null;if("boolean"==typeof a)return{kind:_kinds.BOOLEAN,value:a};if("number"==typeof a){var u=String(a);return/^[0-9]+$/.test(u)?{kind:_kinds.INT,value:u}:{kind:_kinds.FLOAT,value:u}}if("string"==typeof a)return i instanceof _definition.GraphQLEnumType?{kind:_kinds.ENUM,value:a}:i===_scalars.GraphQLID&&/^[0-9]+$/.test(a)?{kind:_kinds.INT,value:a}:{kind:_kinds.STRING,value:JSON.stringify(a).slice(1,-1)};throw new TypeError("Cannot convert value to AST: "+String(a))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.astFromValue=astFromValue;var _iterall=require("iterall"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_kinds=require("../language/kinds"),_definition=require("../type/definition"),_scalars=require("../type/scalars")},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../language/kinds":64,"../type/definition":71,"../type/scalars":75,iterall:121}],80:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildWrappedType(e,n){if(n.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(buildWrappedType(e,n.type));if(n.kind===_kinds.NON_NULL_TYPE){var i=buildWrappedType(e,n.type);return(0,_invariant2.default)(!(i instanceof _definition.GraphQLNonNull),"No nesting nonnull."),new _definition.GraphQLNonNull(i)}return e}function getNamedTypeAST(e){for(var n=e;n.kind===_kinds.LIST_TYPE||n.kind===_kinds.NON_NULL_TYPE;)n=n.type;return n}function buildASTSchema(e){function n(e){return new _directives.GraphQLDirective({name:e.name.value,description:getDescription(e),locations:e.locations.map(function(e){return e.value}),args:e.arguments&&f(e.arguments)})}function i(e){var n=c(e.name.value);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"AST must provide object type."),n}function r(e){var n=getNamedTypeAST(e).name.value,i=c(n);return buildWrappedType(i,e)}function t(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isInputType)(n),"Expected Input type."),n}function a(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isOutputType)(n),"Expected Output type."),n}function o(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"Expected Object type."),n}function u(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLInterfaceType,"Expected Object type."),n}function c(e){if(L[e])return L[e];if(!I[e])throw new Error('Type "'+e+'" not found in document.');var n=s(I[e]);if(!n)throw new Error('Nothing constructed for "'+e+'".');return L[e]=n,n}function s(e){if(!e)throw new Error("def must be defined");switch(e.kind){case _kinds.OBJECT_TYPE_DEFINITION:return p(e);case _kinds.INTERFACE_TYPE_DEFINITION:return l(e);case _kinds.ENUM_TYPE_DEFINITION:return v(e);case _kinds.UNION_TYPE_DEFINITION:return m(e);case _kinds.SCALAR_TYPE_DEFINITION:return T(e);case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return y(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}}function p(e){var n=e.name.value;return new _definition.GraphQLObjectType({name:n,description:getDescription(e),fields:function(){return d(e)},interfaces:function(){return _(e)}})}function d(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name.value},function(e){return{type:a(e.type),description:getDescription(e),args:f(e.arguments),deprecationReason:getDeprecationReason(e.directives)}})}function _(e){return e.interfaces&&e.interfaces.map(function(e){return u(e)})}function f(e){return(0,_keyValMap2.default)(e,function(e){return e.name.value},function(e){var n=t(e.type);return{type:n,description:getDescription(e),defaultValue:(0,_valueFromAST.valueFromAST)(e.defaultValue,n)}})}function l(e){var n=e.name.value;return new _definition.GraphQLInterfaceType({name:n,description:getDescription(e),fields:function(){return d(e)},resolveType:cannotExecuteSchema})}function v(e){var n=new _definition.GraphQLEnumType({name:e.name.value,description:getDescription(e),values:(0,_keyValMap2.default)(e.values,function(e){return e.name.value},function(e){return{description:getDescription(e),deprecationReason:getDeprecationReason(e.directives)}})});return n}function m(e){return new _definition.GraphQLUnionType({name:e.name.value,description:getDescription(e),types:e.types.map(function(e){return o(e)}),resolveType:cannotExecuteSchema})}function T(e){return new _definition.GraphQLScalarType({name:e.name.value,description:getDescription(e),serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function y(e){return new _definition.GraphQLInputObjectType({name:e.name.value,description:getDescription(e),fields:function(){return f(e.fields)}})}if(!e||e.kind!==_kinds.DOCUMENT)throw new Error("Must provide a document ast.");for(var h=void 0,E=[],I=Object.create(null),N=[],D=0;D<e.definitions.length;D++){var k=e.definitions[D];switch(k.kind){case _kinds.SCHEMA_DEFINITION:if(h)throw new Error("Must provide only one schema definition.");h=k;break;case _kinds.SCALAR_TYPE_DEFINITION:case _kinds.OBJECT_TYPE_DEFINITION:case _kinds.INTERFACE_TYPE_DEFINITION:case _kinds.ENUM_TYPE_DEFINITION:case _kinds.UNION_TYPE_DEFINITION:case _kinds.INPUT_OBJECT_TYPE_DEFINITION:E.push(k),I[k.name.value]=k;break;case _kinds.DIRECTIVE_DEFINITION:N.push(k)}}var g=void 0,S=void 0,w=void 0;if(h?h.operationTypes.forEach(function(e){var n=e.type.name.value;if("query"===e.operation){if(g)throw new Error("Must provide only one query type in schema.");if(!I[n])throw new Error('Specified query type "'+n+'" not found in document.');g=n}else if("mutation"===e.operation){if(S)throw new Error("Must provide only one mutation type in schema.");if(!I[n])throw new Error('Specified mutation type "'+n+'" not found in document.');S=n}else if("subscription"===e.operation){if(w)throw new Error("Must provide only one subscription type in schema.");if(!I[n])throw new Error('Specified subscription type "'+n+'" not found in document.');w=n}}):(I.Query&&(g="Query"),I.Mutation&&(S="Mutation"),I.Subscription&&(w="Subscription")),!g)throw new Error("Must provide schema definition with query type or a type named Query.");var L={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},O=E.map(function(e){return c(e.name.value)}),b=N.map(n);return b.some(function(e){return"skip"===e.name})||b.push(_directives.GraphQLSkipDirective),b.some(function(e){return"include"===e.name})||b.push(_directives.GraphQLIncludeDirective),b.some(function(e){return"deprecated"===e.name})||b.push(_directives.GraphQLDeprecatedDirective),new _schema.GraphQLSchema({query:i(I[g]),mutation:S?i(I[S]):null,subscription:w?i(I[w]):null,types:O,directives:b})}function getDeprecationReason(e){var n=e&&(0,_find2.default)(e,function(e){return e.name.value===_directives.GraphQLDeprecatedDirective.name});if(n){var i=(0,_values.getArgumentValues)(_directives.GraphQLDeprecatedDirective.args,n.arguments),r=i.reason;return r}}function getDescription(e){var n=e.loc;if(n){for(var i=[],r=void 0,t=n.startToken.prev;t&&t.kind===_lexer.TokenKind.COMMENT&&t.next&&t.prev&&t.line+1===t.next.line&&t.line!==t.prev.line;){var a=String(t.value),o=leadingSpaces(a);(void 0===r||o<r)&&(r=o),i.push(a),t=t.prev}return i.reverse().map(function(e){return e.slice(r)}).join("\n")}}function buildSchema(e){return buildASTSchema((0,_parser.parse)(e))}function leadingSpaces(e){for(var n=0;n<e.length&&" "===e[n];n++);return n}function cannotExecuteSchema(){throw new Error("Generated Schema cannot use Interface or Union types for execution.");
}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildASTSchema=buildASTSchema,exports.getDescription=getDescription,exports.buildSchema=buildSchema;var _find=require("../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_valueFromAST=require("./valueFromAST"),_lexer=require("../language/lexer"),_parser=require("../language/parser"),_values=require("../execution/values"),_kinds=require("../language/kinds"),_schema=require("../type/schema"),_scalars=require("../type/scalars"),_definition=require("../type/definition"),_directives=require("../type/directives"),_introspection=require("../type/introspection")},{"../execution/values":53,"../jsutils/find":56,"../jsutils/invariant":57,"../jsutils/keyValMap":60,"../language/kinds":64,"../language/lexer":65,"../language/parser":67,"../type/definition":71,"../type/directives":72,"../type/introspection":74,"../type/scalars":75,"../type/schema":76,"./valueFromAST":93}],81:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildClientSchema(e){function n(e){if(e.kind===_introspection.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return new _definition.GraphQLList(n(t))}if(e.kind===_introspection.TypeKind.NON_NULL){var r=e.ofType;if(!r)throw new Error("Decorated type deeper than introspection query.");var a=n(r);return(0,_invariant2.default)(!(a instanceof _definition.GraphQLNonNull),"No nesting nonnull."),new _definition.GraphQLNonNull(a)}return i(e.name)}function i(e){if(L[e])return L[e];var n=h[e];if(!n)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var i=c(n);return L[e]=i,i}function t(e){var i=n(e);return(0,_invariant2.default)((0,_definition.isInputType)(i),"Introspection must provide input type for arguments."),i}function r(e){var i=n(e);return(0,_invariant2.default)((0,_definition.isOutputType)(i),"Introspection must provide output type for fields."),i}function a(e){var i=n(e);return(0,_invariant2.default)(i instanceof _definition.GraphQLObjectType,"Introspection must provide object type for possibleTypes."),i}function o(e){var i=n(e);return(0,_invariant2.default)(i instanceof _definition.GraphQLInterfaceType,"Introspection must provide interface type for interfaces."),i}function c(e){switch(e.kind){case _introspection.TypeKind.SCALAR:return u(e);case _introspection.TypeKind.OBJECT:return p(e);case _introspection.TypeKind.INTERFACE:return s(e);case _introspection.TypeKind.UNION:return _(e);case _introspection.TypeKind.ENUM:return d(e);case _introspection.TypeKind.INPUT_OBJECT:return l(e);default:throw new Error("Invalid or incomplete schema, unknown kind: "+e.kind+". Ensure that a full introspection query is used in order to build a client schema.")}}function u(e){return new _definition.GraphQLScalarType({name:e.name,description:e.description,serialize:function(e){return e},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function p(e){return new _definition.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(o),fields:function(){return f(e)}})}function s(e){return new _definition.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return f(e)},resolveType:cannotExecuteClientSchema})}function _(e){return new _definition.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(a),resolveType:cannotExecuteClientSchema})}function d(e){return new _definition.GraphQLEnumType({name:e.name,description:e.description,values:(0,_keyValMap2.default)(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}function l(e){return new _definition.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return y(e.inputFields)}})}function f(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason,type:r(e.type),args:y(e.args)}})}function y(e){return(0,_keyValMap2.default)(e,function(e){return e.name},m)}function m(e){var n=t(e.type),i=e.defaultValue?(0,_valueFromAST.valueFromAST)((0,_parser.parseValue)(e.defaultValue),n):null;return{name:e.name,description:e.description,type:n,defaultValue:i}}function v(e){var n=e.locations?e.locations.slice():[].concat(e.onField?[_directives.DirectiveLocation.FIELD]:[],e.onOperation?[_directives.DirectiveLocation.QUERY,_directives.DirectiveLocation.MUTATION,_directives.DirectiveLocation.SUBSCRIPTION]:[],e.onFragment?[_directives.DirectiveLocation.FRAGMENT_DEFINITION,_directives.DirectiveLocation.FRAGMENT_SPREAD,_directives.DirectiveLocation.INLINE_FRAGMENT]:[]);return new _directives.GraphQLDirective({name:e.name,description:e.description,locations:n,args:y(e.args)})}var T=e.__schema,h=(0,_keyMap2.default)(T.types,function(e){return e.name}),L={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},I=T.types.map(function(e){return i(e.name)}),E=a(T.queryType),w=T.mutationType?a(T.mutationType):null,D=T.subscriptionType?a(T.subscriptionType):null,N=T.directives?T.directives.map(v):[];return new _schema.GraphQLSchema({query:E,mutation:w,subscription:D,types:I,directives:N})}function cannotExecuteClientSchema(){throw new Error("Client Schema cannot use Interface or Union types for execution.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildClientSchema=buildClientSchema;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_valueFromAST=require("./valueFromAST"),_parser=require("../language/parser"),_schema=require("../type/schema"),_definition=require("../type/definition"),_introspection=require("../type/introspection"),_scalars=require("../type/scalars"),_directives=require("../type/directives")},{"../jsutils/invariant":57,"../jsutils/keyMap":59,"../jsutils/keyValMap":60,"../language/parser":67,"../type/definition":71,"../type/directives":72,"../type/introspection":74,"../type/scalars":75,"../type/schema":76,"./valueFromAST":93}],82:[function(require,module,exports){"use strict";function concatAST(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].definitions,r=0;r<o.length;r++)t.push(o[r]);return{kind:"Document",definitions:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatAST=concatAST},{}],83:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function extendSchema(e,n){function i(){var n=e.getDirectives();(0,_invariant2.default)(n,"schema must have default directives");var i=w.map(function(e){return k(e)});return n.concat(i)}function t(e){var n=s(e.name);return(0,_invariant2.default)(n,"Missing type from schema"),n}function r(e){var n=s(e.name.value);if(!n)throw new _GraphQLError.GraphQLError('Unknown type: "'+e.name.value+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[e]);return n}function a(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLObjectType,"Must be Object type."),n}function o(e){var n=r(e);return(0,_invariant2.default)(n instanceof _definition.GraphQLInterfaceType,"Must be Interface type."),n}function u(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isInputType)(n),"Must be Input type."),n}function c(e){var n=r(e);return(0,_invariant2.default)((0,_definition.isOutputType)(n),"Must be Output type."),n}function s(n){var i=U[n];if(i)return i;var t=e.getType(n);if(t){var r=p(t);return U[n]=r,r}var a=O[n];if(a){var o=T(a);return U[n]=o,o}}function p(e){return e instanceof _definition.GraphQLObjectType?_(e):e instanceof _definition.GraphQLInterfaceType?f(e):e instanceof _definition.GraphQLUnionType?d(e):e}function _(e){return new _definition.GraphQLObjectType({name:e.name,description:e.description,interfaces:function(){return l(e)},fields:function(){return h(e)},isTypeOf:e.isTypeOf})}function f(e){return new _definition.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return h(e)},resolveType:e.resolveType})}function d(e){return new _definition.GraphQLUnionType({name:e.name,description:e.description,types:e.getTypes().map(t),resolveType:e.resolveType})}function l(e){var n=e.getInterfaces().map(t),i=D[e.name];return i&&i.forEach(function(i){i.definition.interfaces.forEach(function(i){var t=i.name.value;if(n.some(function(e){return e.name===t}))throw new _GraphQLError.GraphQLError('Type "'+e.name+'" already implements "'+t+'". It cannot also be implemented in this type extension.',[i]);n.push(o(i))})}),n}function h(e){var n={},i=e.getFields();Object.keys(i).forEach(function(e){var t=i[e];n[e]={description:t.description,deprecationReason:t.deprecationReason,type:y(t.type),args:(0,_keyMap2.default)(t.args,function(e){return e.name}),resolve:t.resolve}});var t=D[e.name];return t&&t.forEach(function(t){t.definition.fields.forEach(function(t){var r=t.name.value;if(i[r])throw new _GraphQLError.GraphQLError('Field "'+e.name+"."+r+'" already exists in the schema. It cannot also be defined in this type extension.',[t]);n[r]={description:(0,_buildASTSchema.getDescription)(t),type:g(t.type),args:S(t.arguments)}})}),n}function y(e){return e instanceof _definition.GraphQLList?new _definition.GraphQLList(y(e.ofType)):e instanceof _definition.GraphQLNonNull?new _definition.GraphQLNonNull(y(e.ofType)):t(e)}function T(e){switch(e.kind){case _kinds.OBJECT_TYPE_DEFINITION:return m(e);case _kinds.INTERFACE_TYPE_DEFINITION:return v(e);case _kinds.UNION_TYPE_DEFINITION:return E(e);case _kinds.SCALAR_TYPE_DEFINITION:return I(e);case _kinds.ENUM_TYPE_DEFINITION:return L(e);case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return N(e)}throw new TypeError("Unknown type kind "+e.kind)}function m(e){return new _definition.GraphQLObjectType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),interfaces:function(){return Q(e)},fields:function(){return G(e)}})}function v(e){return new _definition.GraphQLInterfaceType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),fields:function(){return G(e)},resolveType:cannotExecuteExtendedSchema})}function E(e){return new _definition.GraphQLUnionType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),types:e.types.map(a),resolveType:cannotExecuteExtendedSchema})}function I(e){return new _definition.GraphQLScalarType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),serialize:function(e){return e},parseValue:function(){return!1},parseLiteral:function(){return!1}})}function L(e){return new _definition.GraphQLEnumType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),values:(0,_keyValMap2.default)(e.values,function(e){return e.name.value},function(){return{}})})}function N(e){return new _definition.GraphQLInputObjectType({name:e.name.value,description:(0,_buildASTSchema.getDescription)(e),fields:function(){return S(e.fields)}})}function k(e){return new _directives.GraphQLDirective({name:e.name.value,locations:e.locations.map(function(e){return e.value}),args:e.arguments&&S(e.arguments)})}function Q(e){return e.interfaces&&e.interfaces.map(o)}function G(e){return(0,_keyValMap2.default)(e.fields,function(e){return e.name.value},function(e){return{type:g(e.type),description:(0,_buildASTSchema.getDescription)(e),args:S(e.arguments)}})}function S(e){return(0,_keyValMap2.default)(e,function(e){return e.name.value},function(e){var n=b(e.type);return{type:n,description:(0,_buildASTSchema.getDescription)(e),defaultValue:(0,_valueFromAST.valueFromAST)(e.defaultValue,n)}})}function b(e){if(e.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(b(e.type));if(e.kind===_kinds.NON_NULL_TYPE){var n=b(e.type);return(0,_invariant2.default)(!(n instanceof _definition.GraphQLNonNull),"Must be nullable"),new _definition.GraphQLNonNull(n)}return u(e)}function g(e){if(e.kind===_kinds.LIST_TYPE)return new _definition.GraphQLList(g(e.type));if(e.kind===_kinds.NON_NULL_TYPE){var n=g(e.type);return(0,_invariant2.default)(!(n instanceof _definition.GraphQLNonNull),"Must be nullable"),new _definition.GraphQLNonNull(n)}return c(e)}(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Must provide valid GraphQLSchema"),(0,_invariant2.default)(n&&n.kind===_kinds.DOCUMENT,"Must provide valid Document AST");for(var O={},D={},w=[],M=0;M<n.definitions.length;M++){var F=n.definitions[M];switch(F.kind){case _kinds.OBJECT_TYPE_DEFINITION:case _kinds.INTERFACE_TYPE_DEFINITION:case _kinds.ENUM_TYPE_DEFINITION:case _kinds.UNION_TYPE_DEFINITION:case _kinds.SCALAR_TYPE_DEFINITION:case _kinds.INPUT_OBJECT_TYPE_DEFINITION:var x=F.name.value;if(e.getType(x))throw new _GraphQLError.GraphQLError('Type "'+x+'" already exists in the schema. It cannot also be defined in this type definition.',[F]);O[x]=F;break;case _kinds.TYPE_EXTENSION_DEFINITION:var A=F.definition.name.value,P=e.getType(A);if(!P)throw new _GraphQLError.GraphQLError('Cannot extend type "'+A+'" because it does not exist in the existing schema.',[F.definition]);if(!(P instanceof _definition.GraphQLObjectType))throw new _GraphQLError.GraphQLError('Cannot extend non-object type "'+A+'".',[F.definition]);var j=D[A];j?j.push(F):j=[F],D[A]=j;break;case _kinds.DIRECTIVE_DEFINITION:var q=F.name.value,Y=e.getDirective(q);if(Y)throw new _GraphQLError.GraphQLError('Directive "'+q+'" already exists in the schema. It cannot be redefined.',[F]);w.push(F)}}if(0===Object.keys(D).length&&0===Object.keys(O).length&&0===w.length)return e;var U={String:_scalars.GraphQLString,Int:_scalars.GraphQLInt,Float:_scalars.GraphQLFloat,Boolean:_scalars.GraphQLBoolean,ID:_scalars.GraphQLID,__Schema:_introspection.__Schema,__Directive:_introspection.__Directive,__DirectiveLocation:_introspection.__DirectiveLocation,__Type:_introspection.__Type,__Field:_introspection.__Field,__InputValue:_introspection.__InputValue,__EnumValue:_introspection.__EnumValue,__TypeKind:_introspection.__TypeKind},V=t(e.getQueryType()),C=e.getMutationType(),R=C?t(C):null,B=e.getSubscriptionType(),J=B?t(B):null,K=e.getTypeMap(),z=Object.keys(K).map(function(e){return t(K[e])});return Object.keys(O).forEach(function(e){z.push(r(O[e]))}),new _schema.GraphQLSchema({query:V,mutation:R,subscription:J,types:z,directives:i()})}function cannotExecuteExtendedSchema(){throw new Error("Extended Schema cannot use Interface or Union types for execution.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSchema=extendSchema;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_keyValMap=require("../jsutils/keyValMap"),_keyValMap2=_interopRequireDefault(_keyValMap),_buildASTSchema=require("./buildASTSchema"),_valueFromAST=require("./valueFromAST"),_GraphQLError=require("../error/GraphQLError"),_schema=require("../type/schema"),_definition=require("../type/definition"),_directives=require("../type/directives"),_introspection=require("../type/introspection"),_scalars=require("../type/scalars"),_kinds=require("../language/kinds")},{"../error/GraphQLError":46,"../jsutils/invariant":57,"../jsutils/keyMap":59,"../jsutils/keyValMap":60,"../language/kinds":64,"../type/definition":71,"../type/directives":72,"../type/introspection":74,"../type/scalars":75,"../type/schema":76,"./buildASTSchema":80,"./valueFromAST":93}],84:[function(require,module,exports){"use strict";function getOperationAST(e,n){for(var i=null,r=0;r<e.definitions.length;r++){var t=e.definitions[r];if(t.kind===_kinds.OPERATION_DEFINITION)if(n){if(t.name&&t.name.value===n)return t}else{if(i)return null;i=t}}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOperationAST=getOperationAST;var _kinds=require("../language/kinds")},{"../language/kinds":64}],85:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _introspectionQuery=require("./introspectionQuery");Object.defineProperty(exports,"introspectionQuery",{enumerable:!0,get:function(){return _introspectionQuery.introspectionQuery}});var _getOperationAST=require("./getOperationAST");Object.defineProperty(exports,"getOperationAST",{enumerable:!0,get:function(){return _getOperationAST.getOperationAST}});var _buildClientSchema=require("./buildClientSchema");Object.defineProperty(exports,"buildClientSchema",{enumerable:!0,get:function(){return _buildClientSchema.buildClientSchema}});var _buildASTSchema=require("./buildASTSchema");Object.defineProperty(exports,"buildASTSchema",{enumerable:!0,get:function(){return _buildASTSchema.buildASTSchema}}),Object.defineProperty(exports,"buildSchema",{enumerable:!0,get:function(){return _buildASTSchema.buildSchema}});var _extendSchema=require("./extendSchema");Object.defineProperty(exports,"extendSchema",{enumerable:!0,get:function(){return _extendSchema.extendSchema}});var _schemaPrinter=require("./schemaPrinter");Object.defineProperty(exports,"printSchema",{enumerable:!0,get:function(){return _schemaPrinter.printSchema}}),Object.defineProperty(exports,"printIntrospectionSchema",{enumerable:!0,get:function(){return _schemaPrinter.printIntrospectionSchema}});var _typeFromAST=require("./typeFromAST");Object.defineProperty(exports,"typeFromAST",{enumerable:!0,get:function(){return _typeFromAST.typeFromAST}});var _valueFromAST=require("./valueFromAST");Object.defineProperty(exports,"valueFromAST",{enumerable:!0,get:function(){return _valueFromAST.valueFromAST}});var _astFromValue=require("./astFromValue");Object.defineProperty(exports,"astFromValue",{enumerable:!0,get:function(){return _astFromValue.astFromValue}});var _TypeInfo=require("./TypeInfo");Object.defineProperty(exports,"TypeInfo",{enumerable:!0,get:function(){return _TypeInfo.TypeInfo}});var _isValidJSValue=require("./isValidJSValue");Object.defineProperty(exports,"isValidJSValue",{enumerable:!0,get:function(){return _isValidJSValue.isValidJSValue}});var _isValidLiteralValue=require("./isValidLiteralValue");Object.defineProperty(exports,"isValidLiteralValue",{enumerable:!0,get:function(){return _isValidLiteralValue.isValidLiteralValue}});var _concatAST=require("./concatAST");Object.defineProperty(exports,"concatAST",{enumerable:!0,get:function(){return _concatAST.concatAST}});var _separateOperations=require("./separateOperations");Object.defineProperty(exports,"separateOperations",{enumerable:!0,get:function(){return _separateOperations.separateOperations}});var _typeComparators=require("./typeComparators");Object.defineProperty(exports,"isEqualType",{enumerable:!0,get:function(){return _typeComparators.isEqualType}}),Object.defineProperty(exports,"isTypeSubTypeOf",{enumerable:!0,get:function(){return _typeComparators.isTypeSubTypeOf}}),Object.defineProperty(exports,"doTypesOverlap",{enumerable:!0,get:function(){return _typeComparators.doTypesOverlap}});var _assertValidName=require("./assertValidName");Object.defineProperty(exports,"assertValidName",{enumerable:!0,get:function(){return _assertValidName.assertValidName}})},{"./TypeInfo":77,"./assertValidName":78,"./astFromValue":79,"./buildASTSchema":80,"./buildClientSchema":81,"./concatAST":82,"./extendSchema":83,"./getOperationAST":84,"./introspectionQuery":86,"./isValidJSValue":87,"./isValidLiteralValue":88,"./schemaPrinter":89,"./separateOperations":90,"./typeComparators":91,"./typeFromAST":92,"./valueFromAST":93}],86:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.introspectionQuery="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      subscriptionType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        description\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    description\n    fields(includeDeprecated: true) {\n      name\n      description\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      description\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    description\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"},{}],87:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isValidJSValue(e,i){if(i instanceof _definition.GraphQLNonNull)return(0,_isNullish2.default)(e)?i.ofType.name?['Expected "'+i.ofType.name+'!", found null.']:["Expected non-null value, found null."]:isValidJSValue(e,i.ofType);if((0,_isNullish2.default)(e))return[];if(i instanceof _definition.GraphQLList){var n=function(){var n=i.ofType;if((0,_iterall.isCollection)(e)){var t=function(){var i=[];return(0,_iterall.forEach)(e,function(e,t){i.push.apply(i,isValidJSValue(e,n).map(function(e){return"In element #"+t+": "+e}))}),{v:{v:i}}}();if("object"==typeof t)return t.v}return{v:isValidJSValue(e,n)}}();if("object"==typeof n)return n.v}if(i instanceof _definition.GraphQLInputObjectType){var t=function(){if("object"!=typeof e||null===e)return{v:['Expected "'+i.name+'", found not an object.']};var n=i.getFields(),t=[];return Object.keys(e).forEach(function(e){n[e]||t.push('In field "'+e+'": Unknown field.')}),Object.keys(n).forEach(function(i){var u=isValidJSValue(e[i],n[i].type);t.push.apply(t,u.map(function(e){return'In field "'+i+'": '+e}))}),{v:t}}();if("object"==typeof t)return t.v}(0,_invariant2.default)(i instanceof _definition.GraphQLScalarType||i instanceof _definition.GraphQLEnumType,"Must be input type");var u=i.parseValue(e);return(0,_isNullish2.default)(u)?['Expected type "'+i.name+'", found '+JSON.stringify(e)+"."]:[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidJSValue=isValidJSValue;var _iterall=require("iterall"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_definition=require("../type/definition")},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../type/definition":71,iterall:121}],88:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isValidLiteralValue(e,i){if(e instanceof _definition.GraphQLNonNull)return i?isValidLiteralValue(e.ofType,i):e.ofType.name?['Expected "'+e.ofType.name+'!", found null.']:["Expected non-null value, found null."];if(!i)return[];if(i.kind===_kinds.VARIABLE)return[];if(e instanceof _definition.GraphQLList){var n=function(){var n=e.ofType;return i.kind===_kinds.LIST?{v:i.values.reduce(function(e,i,t){var a=isValidLiteralValue(n,i);return e.concat(a.map(function(e){return"In element #"+t+": "+e}))},[])}:{v:isValidLiteralValue(n,i)}}();if("object"==typeof n)return n.v}if(e instanceof _definition.GraphQLInputObjectType){var t=function(){if(i.kind!==_kinds.OBJECT)return{v:['Expected "'+e.name+'", found not an object.']};var n=e.getFields(),t=[],a=i.fields;a.forEach(function(e){n[e.name.value]||t.push('In field "'+e.name.value+'": Unknown field.')});var r=(0,_keyMap2.default)(a,function(e){return e.name.value});return Object.keys(n).forEach(function(e){var i=isValidLiteralValue(n[e].type,r[e]&&r[e].value);t.push.apply(t,i.map(function(i){return'In field "'+e+'": '+i}))}),{v:t}}();if("object"==typeof t)return t.v}(0,_invariant2.default)(e instanceof _definition.GraphQLScalarType||e instanceof _definition.GraphQLEnumType,"Must be input type");var a=e.parseLiteral(i);return(0,_isNullish2.default)(a)?['Expected type "'+e.name+'", found '+(0,_printer.print)(i)+"."]:[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidLiteralValue=isValidLiteralValue;var _printer=require("../language/printer"),_kinds=require("../language/kinds"),_definition=require("../type/definition"),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish)},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../jsutils/keyMap":59,"../language/kinds":64,"../language/printer":68,"../type/definition":71}],89:[function(require,module,exports){"use strict";function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}function printSchema(n){return printFilteredSchema(n,function(n){return!isSpecDirective(n)},isDefinedType)}function printIntrospectionSchema(n){return printFilteredSchema(n,isSpecDirective,isIntrospectionType)}function isSpecDirective(n){return"skip"===n||"include"===n||"deprecated"===n}function isDefinedType(n){return!isIntrospectionType(n)&&!isBuiltInScalar(n)}function isIntrospectionType(n){return 0===n.indexOf("__")}function isBuiltInScalar(n){return"String"===n||"Boolean"===n||"Int"===n||"Float"===n||"ID"===n}function printFilteredSchema(n,e,t){var i=n.getDirectives().filter(function(n){return e(n.name)}),r=n.getTypeMap(),a=Object.keys(r).filter(t).sort(function(n,e){return n.localeCompare(e)}).map(function(n){return r[n]});return[printSchemaDefinition(n)].concat(i.map(printDirective),a.map(printType)).filter(Boolean).join("\n\n")+"\n"}function printSchemaDefinition(n){if(!isSchemaOfCommonNames(n)){var e=[],t=n.getQueryType();t&&e.push("  query: "+t.name);var i=n.getMutationType();i&&e.push("  mutation: "+i.name);var r=n.getSubscriptionType();return r&&e.push("  subscription: "+r.name),"schema {\n"+e.join("\n")+"\n}"}}function isSchemaOfCommonNames(n){var e=n.getQueryType();if(e&&"Query"!==e.name)return!1;var t=n.getMutationType();if(t&&"Mutation"!==t.name)return!1;var i=n.getSubscriptionType();return!i||"Subscription"===i.name}function printType(n){return n instanceof _definition.GraphQLScalarType?printScalar(n):n instanceof _definition.GraphQLObjectType?printObject(n):n instanceof _definition.GraphQLInterfaceType?printInterface(n):n instanceof _definition.GraphQLUnionType?printUnion(n):n instanceof _definition.GraphQLEnumType?printEnum(n):((0,_invariant2.default)(n instanceof _definition.GraphQLInputObjectType),printInputObject(n))}function printScalar(n){return printDescription(n)+("scalar "+n.name)}function printObject(n){var e=n.getInterfaces(),t=e.length?" implements "+e.map(function(n){return n.name}).join(", "):"";return printDescription(n)+("type "+n.name+t+" {\n")+printFields(n)+"\n}"}function printInterface(n){return printDescription(n)+("interface "+n.name+" {\n")+printFields(n)+"\n}"}function printUnion(n){return printDescription(n)+("union "+n.name+" = "+n.getTypes().join(" | "))}function printEnum(n){return printDescription(n)+("enum "+n.name+" {\n")+printEnumValues(n.getValues())+"\n}"}function printEnumValues(n){return n.map(function(n,e){return printDescription(n,"  ",!e)+"  "+n.name+printDeprecated(n)}).join("\n")}function printInputObject(n){var e=n.getFields(),t=Object.keys(e).map(function(n){return e[n]});return printDescription(n)+("input "+n.name+" {\n")+t.map(function(n,e){return printDescription(n,"  ",!e)+"  "+printInputValue(n)}).join("\n")+"\n}"}function printFields(n){var e=n.getFields(),t=Object.keys(e).map(function(n){return e[n]});return t.map(function(n,e){return printDescription(n,"  ",!e)+"  "+n.name+printArgs(n.args,"  ")+": "+String(n.type)+printDeprecated(n)}).join("\n")}function printArgs(n){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return 0===n.length?"":n.every(function(n){return!n.description})?"("+n.map(printInputValue).join(", ")+")":"(\n"+n.map(function(n,t){return printDescription(n,"  "+e,!t)+"  "+e+printInputValue(n)}).join("\n")+"\n"+e+")"}function printInputValue(n){var e=n.name+": "+String(n.type);return(0,_isNullish2.default)(n.defaultValue)||(e+=" = "+(0,_printer.print)((0,_astFromValue.astFromValue)(n.defaultValue,n.type))),e}function printDirective(n){return printDescription(n)+"directive @"+n.name+printArgs(n.args)+" on "+n.locations.join(" | ")}function printDeprecated(n){var e=n.deprecationReason;return(0,_isNullish2.default)(e)?"":""===e||e===_directives.DEFAULT_DEPRECATION_REASON?" @deprecated":" @deprecated(reason: "+(0,_printer.print)((0,_astFromValue.astFromValue)(e,_scalars.GraphQLString))+")"}function printDescription(n){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],t=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!n.description)return"";for(var i=n.description.split("\n"),r=e&&!t?"\n":"",a=0;a<i.length;a++)if(""===i[a])r+=e+"#\n";else for(var p=breakLine(i[a],120-e.length),u=0;u<p.length;u++)r+=e+"# "+p[u]+"\n";return r}function breakLine(n,e){if(n.length<e+5)return[n];var t=n.split(new RegExp("((?: |^).{15,"+(e-40)+"}(?= |$))"));if(t.length<4)return[n];for(var i=[t[0]+t[1]+t[2]],r=3;r<t.length;r+=2)i.push(t[r].slice(1)+t[r+1]);return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.printSchema=printSchema,exports.printIntrospectionSchema=printIntrospectionSchema;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_astFromValue=require("../utilities/astFromValue"),_printer=require("../language/printer"),_definition=require("../type/definition"),_scalars=require("../type/scalars"),_directives=require("../type/directives")},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../language/printer":68,"../type/definition":71,"../type/directives":72,"../type/scalars":75,"../utilities/astFromValue":79}],90:[function(require,module,exports){"use strict";function separateOperations(e){var n=[],t=Object.create(null),i=void 0;(0,_visitor.visit)(e,{OperationDefinition:function(e){n.push(e),i=opName(e)},FragmentDefinition:function(e){i=e.name.value},FragmentSpread:function(e){var n=e.name.value;(t[i]||(t[i]=Object.create(null)))[n]=!0}});var a=Object.create(null);return n.forEach(function(n){var i=opName(n),r=Object.create(null);collectTransitiveDependencies(r,t,i),a[i]={kind:"Document",definitions:e.definitions.filter(function(e){return e===n||"FragmentDefinition"===e.kind&&r[e.name.value]})}}),a}function opName(e){return e.name?e.name.value:""}function collectTransitiveDependencies(e,n,t){
var i=n[t];i&&Object.keys(i).forEach(function(t){e[t]||(e[t]=!0,collectTransitiveDependencies(e,n,t))})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.separateOperations=separateOperations;var _visitor=require("../language/visitor")},{"../language/visitor":70}],91:[function(require,module,exports){"use strict";function isEqualType(e,i){return e===i||(e instanceof _definition.GraphQLNonNull&&i instanceof _definition.GraphQLNonNull?isEqualType(e.ofType,i.ofType):e instanceof _definition.GraphQLList&&i instanceof _definition.GraphQLList&&isEqualType(e.ofType,i.ofType))}function isTypeSubTypeOf(e,i,n){return i===n||(n instanceof _definition.GraphQLNonNull?i instanceof _definition.GraphQLNonNull&&isTypeSubTypeOf(e,i.ofType,n.ofType):i instanceof _definition.GraphQLNonNull?isTypeSubTypeOf(e,i.ofType,n):n instanceof _definition.GraphQLList?i instanceof _definition.GraphQLList&&isTypeSubTypeOf(e,i.ofType,n.ofType):!(i instanceof _definition.GraphQLList||!((0,_definition.isAbstractType)(n)&&i instanceof _definition.GraphQLObjectType&&e.isPossibleType(n,i))))}function doTypesOverlap(e,i,n){var o=n;return i===o||(i instanceof _definition.GraphQLInterfaceType||i instanceof _definition.GraphQLUnionType?o instanceof _definition.GraphQLInterfaceType||o instanceof _definition.GraphQLUnionType?e.getPossibleTypes(i).some(function(i){return e.isPossibleType(o,i)}):e.isPossibleType(i,o):(o instanceof _definition.GraphQLInterfaceType||o instanceof _definition.GraphQLUnionType)&&e.isPossibleType(o,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEqualType=isEqualType,exports.isTypeSubTypeOf=isTypeSubTypeOf,exports.doTypesOverlap=doTypesOverlap;var _definition=require("../type/definition")},{"../type/definition":71}],92:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function typeFromAST(e,i){var n=void 0;return i.kind===_kinds.LIST_TYPE?(n=typeFromAST(e,i.type),n&&new _definition.GraphQLList(n)):i.kind===_kinds.NON_NULL_TYPE?(n=typeFromAST(e,i.type),n&&new _definition.GraphQLNonNull(n)):((0,_invariant2.default)(i.kind===_kinds.NAMED_TYPE,"Must be a named type."),e.getType(i.name.value))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeFromAST=typeFromAST;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_kinds=require("../language/kinds"),_definition=require("../type/definition")},{"../jsutils/invariant":57,"../language/kinds":64,"../type/definition":71}],93:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i.default=e,i}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function valueFromAST(e,i,n){if(i instanceof _definition.GraphQLNonNull)return valueFromAST(e,i.ofType,n);if(!e)return null;if(e.kind===Kind.VARIABLE){var r=e.name.value;return n&&n.hasOwnProperty(r)?n[r]:null}if(i instanceof _definition.GraphQLList){var t=function(){var r=i.ofType;return e.kind===Kind.LIST?{v:e.values.map(function(e){return valueFromAST(e,r,n)})}:{v:[valueFromAST(e,r,n)]}}();if("object"==typeof t)return t.v}if(i instanceof _definition.GraphQLInputObjectType){var u=function(){if(e.kind!==Kind.OBJECT)return{v:null};var r=i.getFields(),t=(0,_keyMap2.default)(e.fields,function(e){return e.name.value});return{v:Object.keys(r).reduce(function(e,i){var u=r[i],a=t[i],l=valueFromAST(a&&a.value,u.type,n);return(0,_isNullish2.default)(l)&&(l=u.defaultValue),(0,_isNullish2.default)(l)||(e[i]=l),e},{})}}();if("object"==typeof u)return u.v}(0,_invariant2.default)(i instanceof _definition.GraphQLScalarType||i instanceof _definition.GraphQLEnumType,"Must be input type");var a=i.parseLiteral(e);return(0,_isNullish2.default)(a)?void 0:a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.valueFromAST=valueFromAST;var _keyMap=require("../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_isNullish=require("../jsutils/isNullish"),_isNullish2=_interopRequireDefault(_isNullish),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_definition=require("../type/definition")},{"../jsutils/invariant":57,"../jsutils/isNullish":58,"../jsutils/keyMap":59,"../language/kinds":64,"../type/definition":71}],94:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _validate=require("./validate");Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validate.validate}});var _specifiedRules=require("./specifiedRules");Object.defineProperty(exports,"specifiedRules",{enumerable:!0,get:function(){return _specifiedRules.specifiedRules}})},{"./specifiedRules":119,"./validate":120}],95:[function(require,module,exports){"use strict";function badValueMessage(e,r,a,t){var u=t?"\n"+t.join("\n"):"";return'Argument "'+e+'" has invalid value '+a+"."+u}function ArgumentsOfCorrectType(e){return{Argument:function(r){var a=e.getArgument();if(a){var t=(0,_isValidLiteralValue.isValidLiteralValue)(a.type,r.value);t&&t.length>0&&e.reportError(new _error.GraphQLError(badValueMessage(r.name.value,a.type,(0,_printer.print)(r.value),t),[r.value]))}return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badValueMessage=badValueMessage,exports.ArgumentsOfCorrectType=ArgumentsOfCorrectType;var _error=require("../../error"),_printer=require("../../language/printer"),_isValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":48,"../../language/printer":68,"../../utilities/isValidLiteralValue":88}],96:[function(require,module,exports){"use strict";function defaultForNonNullArgMessage(e,r,a){return'Variable "$'+e+'" of type "'+String(r)+'" is required and will not use the default value. '+('Perhaps you meant to use type "'+String(a)+'".')}function badValueForDefaultArgMessage(e,r,a,t){var i=t?"\n"+t.join("\n"):"";return'Variable "$'+e+'" of type "'+String(r)+'" has invalid '+("default value "+a+"."+i)}function DefaultValuesOfCorrectType(e){return{VariableDefinition:function(r){var a=r.variable.name.value,t=r.defaultValue,i=e.getInputType();if(i instanceof _definition.GraphQLNonNull&&t&&e.reportError(new _error.GraphQLError(defaultForNonNullArgMessage(a,i,i.ofType),[t])),i&&t){var l=(0,_isValidLiteralValue.isValidLiteralValue)(i,t);l&&l.length>0&&e.reportError(new _error.GraphQLError(badValueForDefaultArgMessage(a,i,(0,_printer.print)(t),l),[t]))}return!1},SelectionSet:function(){return!1},FragmentDefinition:function(){return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultForNonNullArgMessage=defaultForNonNullArgMessage,exports.badValueForDefaultArgMessage=badValueForDefaultArgMessage,exports.DefaultValuesOfCorrectType=DefaultValuesOfCorrectType;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_isValidLiteralValue=require("../../utilities/isValidLiteralValue")},{"../../error":48,"../../language/printer":68,"../../type/definition":71,"../../utilities/isValidLiteralValue":88}],97:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function undefinedFieldMessage(e,t,n,i){var r='Cannot query field "'+e+'" on type "'+t+'".';if(0!==n.length){var s=(0,_quotedOrList2.default)(n);r+=" Did you mean to use an inline fragment on "+s+"?"}else 0!==i.length&&(r+=" Did you mean "+(0,_quotedOrList2.default)(i)+"?");return r}function FieldsOnCorrectType(e){return{Field:function(t){var n=e.getParentType();if(n){var i=e.getFieldDef();if(!i){var r=e.getSchema(),s=t.name.value,u=getSuggestedTypeNames(r,n,s),o=0!==u.length?[]:getSuggestedFieldNames(r,n,s);e.reportError(new _error.GraphQLError(undefinedFieldMessage(s,n.name,u,o),[t]))}}}}}function getSuggestedTypeNames(e,t,n){if(t instanceof _definition.GraphQLInterfaceType||t instanceof _definition.GraphQLUnionType){var i=function(){var i=[],r=Object.create(null);e.getPossibleTypes(t).forEach(function(e){e.getFields()[n]&&(i.push(e.name),e.getInterfaces().forEach(function(e){e.getFields()[n]&&(r[e.name]=(r[e.name]||0)+1)}))});var s=Object.keys(r).sort(function(e,t){return r[t]-r[e]});return{v:s.concat(i)}}();if("object"==typeof i)return i.v}return[]}function getSuggestedFieldNames(e,t,n){if(t instanceof _definition.GraphQLObjectType||t instanceof _definition.GraphQLInterfaceType){var i=Object.keys(t.getFields());return(0,_suggestionList2.default)(n,i)}return[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedFieldMessage=undefinedFieldMessage,exports.FieldsOnCorrectType=FieldsOnCorrectType;var _error=require("../../error"),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList),_definition=require("../../type/definition")},{"../../error":48,"../../jsutils/quotedOrList":61,"../../jsutils/suggestionList":62,"../../type/definition":71}],98:[function(require,module,exports){"use strict";function inlineFragmentOnNonCompositeErrorMessage(e){return'Fragment cannot condition on non composite type "'+String(e)+'".'}function fragmentOnNonCompositeErrorMessage(e,n){return'Fragment "'+e+'" cannot condition on non composite '+('type "'+String(n)+'".')}function FragmentsOnCompositeTypes(e){return{InlineFragment:function(n){var r=e.getType();n.typeCondition&&r&&!(0,_definition.isCompositeType)(r)&&e.reportError(new _error.GraphQLError(inlineFragmentOnNonCompositeErrorMessage((0,_printer.print)(n.typeCondition)),[n.typeCondition]))},FragmentDefinition:function(n){var r=e.getType();r&&!(0,_definition.isCompositeType)(r)&&e.reportError(new _error.GraphQLError(fragmentOnNonCompositeErrorMessage(n.name.value,(0,_printer.print)(n.typeCondition)),[n.typeCondition]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inlineFragmentOnNonCompositeErrorMessage=inlineFragmentOnNonCompositeErrorMessage,exports.fragmentOnNonCompositeErrorMessage=fragmentOnNonCompositeErrorMessage,exports.FragmentsOnCompositeTypes=FragmentsOnCompositeTypes;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition")},{"../../error":48,"../../language/printer":68,"../../type/definition":71}],99:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownArgMessage(e,n,r,t){var i='Unknown argument "'+e+'" on field "'+n+'" of '+('type "'+String(r)+'".');return t.length&&(i+=" Did you mean "+(0,_quotedOrList2.default)(t)+"?"),i}function unknownDirectiveArgMessage(e,n,r){var t='Unknown argument "'+e+'" on directive "@'+n+'".';return r.length&&(t+=" Did you mean "+(0,_quotedOrList2.default)(r)+"?"),t}function KnownArgumentNames(e){return{Argument:function(n,r,t,i,u){var a=u[u.length-1];if(a.kind===_kinds.FIELD){var s=e.getFieldDef();if(s){var o=(0,_find2.default)(s.args,function(e){return e.name===n.name.value});if(!o){var g=e.getParentType();(0,_invariant2.default)(g),e.reportError(new _error.GraphQLError(unknownArgMessage(n.name.value,s.name,g.name,(0,_suggestionList2.default)(n.name.value,s.args.map(function(e){return e.name}))),[n]))}}}else if(a.kind===_kinds.DIRECTIVE){var f=e.getDirective();if(f){var d=(0,_find2.default)(f.args,function(e){return e.name===n.name.value});d||e.reportError(new _error.GraphQLError(unknownDirectiveArgMessage(n.name.value,f.name,(0,_suggestionList2.default)(n.name.value,f.args.map(function(e){return e.name}))),[n]))}}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownArgMessage=unknownArgMessage,exports.unknownDirectiveArgMessage=unknownDirectiveArgMessage,exports.KnownArgumentNames=KnownArgumentNames;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_invariant=require("../../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList),_kinds=require("../../language/kinds")},{"../../error":48,"../../jsutils/find":56,"../../jsutils/invariant":57,"../../jsutils/quotedOrList":61,"../../jsutils/suggestionList":62,"../../language/kinds":64}],100:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownDirectiveMessage(e){return'Unknown directive "'+e+'".'}function misplacedDirectiveMessage(e,i){return'Directive "'+e+'" may not be used on '+i+"."}function KnownDirectives(e){return{Directive:function(i,r,t,n,c){var s=(0,_find2.default)(e.getSchema().getDirectives(),function(e){return e.name===i.name.value});if(!s)return void e.reportError(new _error.GraphQLError(unknownDirectiveMessage(i.name.value),[i]));var o=getDirectiveLocationForASTPath(c);o?s.locations.indexOf(o)===-1&&e.reportError(new _error.GraphQLError(misplacedDirectiveMessage(i.name.value,o),[i])):e.reportError(new _error.GraphQLError(misplacedDirectiveMessage(i.name.value,i.type),[i]))}}}function getDirectiveLocationForASTPath(e){var i=e[e.length-1];switch(i.kind){case _kinds.OPERATION_DEFINITION:switch(i.operation){case"query":return _directives.DirectiveLocation.QUERY;case"mutation":return _directives.DirectiveLocation.MUTATION;case"subscription":return _directives.DirectiveLocation.SUBSCRIPTION}break;case _kinds.FIELD:return _directives.DirectiveLocation.FIELD;case _kinds.FRAGMENT_SPREAD:return _directives.DirectiveLocation.FRAGMENT_SPREAD;case _kinds.INLINE_FRAGMENT:return _directives.DirectiveLocation.INLINE_FRAGMENT;case _kinds.FRAGMENT_DEFINITION:return _directives.DirectiveLocation.FRAGMENT_DEFINITION;case _kinds.SCHEMA_DEFINITION:return _directives.DirectiveLocation.SCHEMA;case _kinds.SCALAR_TYPE_DEFINITION:return _directives.DirectiveLocation.SCALAR;case _kinds.OBJECT_TYPE_DEFINITION:return _directives.DirectiveLocation.OBJECT;case _kinds.FIELD_DEFINITION:return _directives.DirectiveLocation.FIELD_DEFINITION;case _kinds.INTERFACE_TYPE_DEFINITION:return _directives.DirectiveLocation.INTERFACE;case _kinds.UNION_TYPE_DEFINITION:return _directives.DirectiveLocation.UNION;case _kinds.ENUM_TYPE_DEFINITION:return _directives.DirectiveLocation.ENUM;case _kinds.ENUM_VALUE_DEFINITION:return _directives.DirectiveLocation.ENUM_VALUE;case _kinds.INPUT_OBJECT_TYPE_DEFINITION:return _directives.DirectiveLocation.INPUT_OBJECT;case _kinds.INPUT_VALUE_DEFINITION:var r=e[e.length-3];return r.kind===_kinds.INPUT_OBJECT_TYPE_DEFINITION?_directives.DirectiveLocation.INPUT_FIELD_DEFINITION:_directives.DirectiveLocation.ARGUMENT_DEFINITION}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownDirectiveMessage=unknownDirectiveMessage,exports.misplacedDirectiveMessage=misplacedDirectiveMessage,exports.KnownDirectives=KnownDirectives;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_kinds=require("../../language/kinds"),_directives=require("../../type/directives")},{"../../error":48,"../../jsutils/find":56,"../../language/kinds":64,"../../type/directives":72}],101:[function(require,module,exports){"use strict";function unknownFragmentMessage(e){return'Unknown fragment "'+e+'".'}function KnownFragmentNames(e){return{FragmentSpread:function(n){var r=n.name.value,a=e.getFragment(r);a||e.reportError(new _error.GraphQLError(unknownFragmentMessage(r),[n.name]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownFragmentMessage=unknownFragmentMessage,exports.KnownFragmentNames=KnownFragmentNames;var _error=require("../../error")},{"../../error":48}],102:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function unknownTypeMessage(e,n){var t='Unknown type "'+String(e)+'".';return n.length&&(t+=" Did you mean "+(0,_quotedOrList2.default)(n)+"?"),t}function KnownTypeNames(e){return{ObjectTypeDefinition:function(){return!1},InterfaceTypeDefinition:function(){return!1},UnionTypeDefinition:function(){return!1},InputObjectTypeDefinition:function(){return!1},NamedType:function(n){var t=e.getSchema(),r=n.name.value,i=t.getType(r);i||e.reportError(new _error.GraphQLError(unknownTypeMessage(r,(0,_suggestionList2.default)(r,Object.keys(t.getTypeMap()))),[n]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unknownTypeMessage=unknownTypeMessage,exports.KnownTypeNames=KnownTypeNames;var _error=require("../../error"),_suggestionList=require("../../jsutils/suggestionList"),_suggestionList2=_interopRequireDefault(_suggestionList),_quotedOrList=require("../../jsutils/quotedOrList"),_quotedOrList2=_interopRequireDefault(_quotedOrList)},{"../../error":48,"../../jsutils/quotedOrList":61,"../../jsutils/suggestionList":62}],103:[function(require,module,exports){"use strict";function anonOperationNotAloneMessage(){return"This anonymous operation must be the only defined operation."}function LoneAnonymousOperation(n){var e=0;return{Document:function(n){e=n.definitions.filter(function(n){return n.kind===_kinds.OPERATION_DEFINITION}).length},OperationDefinition:function(o){!o.name&&e>1&&n.reportError(new _error.GraphQLError(anonOperationNotAloneMessage(),[o]))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.anonOperationNotAloneMessage=anonOperationNotAloneMessage,exports.LoneAnonymousOperation=LoneAnonymousOperation;var _error=require("../../error"),_kinds=require("../../language/kinds")},{"../../error":48,"../../language/kinds":64}],104:[function(require,module,exports){"use strict";function cycleErrorMessage(e,r){var n=r.length?" via "+r.join(", "):"";return'Cannot spread fragment "'+e+'" within itself'+n+"."}function NoFragmentCycles(e){function r(o){var i=o.name.value;n[i]=!0;var c=e.getFragmentSpreads(o.selectionSet);if(0!==c.length){a[i]=t.length;for(var l=0;l<c.length;l++){var s=c[l],u=s.name.value,g=a[u];if(void 0===g){if(t.push(s),!n[u]){var v=e.getFragment(u);v&&r(v)}t.pop()}else{var f=t.slice(g);e.reportError(new _error.GraphQLError(cycleErrorMessage(u,f.map(function(e){return e.name.value})),f.concat(s)))}}a[i]=void 0}}var n=Object.create(null),t=[],a=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(e){return n[e.name.value]||r(e),!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycleErrorMessage=cycleErrorMessage,exports.NoFragmentCycles=NoFragmentCycles;var _error=require("../../error")},{"../../error":48}],105:[function(require,module,exports){"use strict";function undefinedVarMessage(e,r){return r?'Variable "$'+e+'" is not defined by operation "'+r+'".':'Variable "$'+e+'" is not defined.'}function NoUndefinedVariables(e){var r=Object.create(null);return{OperationDefinition:{enter:function(){r=Object.create(null)},leave:function(n){var a=e.getRecursiveVariableUsages(n);a.forEach(function(a){var i=a.node,o=i.name.value;r[o]!==!0&&e.reportError(new _error.GraphQLError(undefinedVarMessage(o,n.name&&n.name.value),[i,n]))})}},VariableDefinition:function(e){r[e.variable.name.value]=!0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.undefinedVarMessage=undefinedVarMessage,exports.NoUndefinedVariables=NoUndefinedVariables;var _error=require("../../error")},{"../../error":48}],106:[function(require,module,exports){"use strict";function unusedFragMessage(e){return'Fragment "'+e+'" is never used.'}function NoUnusedFragments(e){var r=[],n=[];return{OperationDefinition:function(e){return r.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){var u=Object.create(null);r.forEach(function(r){e.getRecursivelyReferencedFragments(r).forEach(function(e){u[e.name.value]=!0})}),n.forEach(function(r){var n=r.name.value;u[n]!==!0&&e.reportError(new _error.GraphQLError(unusedFragMessage(n),[r]))})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedFragMessage=unusedFragMessage,exports.NoUnusedFragments=NoUnusedFragments;var _error=require("../../error")},{"../../error":48}],107:[function(require,module,exports){"use strict";function unusedVariableMessage(e,r){return r?'Variable "$'+e+'" is never used in operation "'+r+'".':'Variable "$'+e+'" is never used.'}function NoUnusedVariables(e){var r=[];return{OperationDefinition:{enter:function(){r=[]},leave:function(a){var n=Object.create(null),i=e.getRecursiveVariableUsages(a),u=a.name?a.name.value:null;i.forEach(function(e){var r=e.node;n[r.name.value]=!0}),r.forEach(function(r){var a=r.variable.name.value;n[a]!==!0&&e.reportError(new _error.GraphQLError(unusedVariableMessage(a,u),[r]))})}},VariableDefinition:function(e){r.push(e)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unusedVariableMessage=unusedVariableMessage,exports.NoUnusedVariables=NoUnusedVariables;var _error=require("../../error")},{"../../error":48}],108:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fieldsConflictMessage(e,n){return'Fields "'+e+'" conflict because '+reasonMessage(n)+". Use different aliases on the fields to fetch both if this was intentional."}function reasonMessage(e){return Array.isArray(e)?e.map(function(e){var n=e[0],t=e[1];return'subfields "'+n+'" conflict because '+reasonMessage(t)}).join(" and "):e}function OverlappingFieldsCanBeMerged(e){var n=new PairSet,t=new Map;return{SelectionSet:function(i){var r=findConflictsWithinSelectionSet(e,t,n,e.getParentType(),i);r.forEach(function(n){var t=n[0],i=t[0],r=t[1],a=n[1],o=n[2];return e.reportError(new _error.GraphQLError(fieldsConflictMessage(i,r),a.concat(o)))})}}}function findConflictsWithinSelectionSet(e,n,t,i,r){var a=[],o=getFieldsAndFragmentNames(e,n,i,r),l=o[0],s=o[1];collectConflictsWithin(e,a,n,t,l);for(var f=0;f<s.length;f++){collectConflictsBetweenFieldsAndFragment(e,a,n,t,!1,l,s[f]);for(var c=f+1;c<s.length;c++)collectConflictsBetweenFragments(e,a,n,t,!1,s[f],s[c])}return a}function collectConflictsBetweenFieldsAndFragment(e,n,t,i,r,a,o){var l=e.getFragment(o);if(l){var s=getReferencedFieldsAndFragmentNames(e,t,l),f=s[0],c=s[1];collectConflictsBetween(e,n,t,i,r,a,f);for(var d=0;d<c.length;d++)collectConflictsBetweenFieldsAndFragment(e,n,t,i,r,a,c[d])}}function collectConflictsBetweenFragments(e,n,t,i,r,a,o){var l=e.getFragment(a),s=e.getFragment(o);if(l&&s&&l!==s&&!i.has(a,o,r)){i.add(a,o,r);var f=getReferencedFieldsAndFragmentNames(e,t,l),c=f[0],d=f[1],u=getReferencedFieldsAndFragmentNames(e,t,s),g=u[0],p=u[1];collectConflictsBetween(e,n,t,i,r,c,g);for(var m=0;m<p.length;m++)collectConflictsBetweenFragments(e,n,t,i,r,a,p[m]);for(var v=0;v<d.length;v++)collectConflictsBetweenFragments(e,n,t,i,r,d[v],o)}}function findConflictsBetweenSubSelectionSets(e,n,t,i,r,a,o,l){var s=[],f=getFieldsAndFragmentNames(e,n,r,a),c=f[0],d=f[1],u=getFieldsAndFragmentNames(e,n,o,l),g=u[0],p=u[1];collectConflictsBetween(e,s,n,t,i,c,g);for(var m=0;m<p.length;m++)collectConflictsBetweenFieldsAndFragment(e,s,n,t,i,c,p[m]);for(var v=0;v<d.length;v++)collectConflictsBetweenFieldsAndFragment(e,s,n,t,i,g,d[v]);for(var h=0;h<d.length;h++)for(var F=0;F<p.length;F++)collectConflictsBetweenFragments(e,s,n,t,i,d[h],p[F]);return s}function collectConflictsWithin(e,n,t,i,r){Object.keys(r).forEach(function(a){var o=r[a];if(o.length>1)for(var l=0;l<o.length;l++)for(var s=l+1;s<o.length;s++){var f=findConflict(e,t,i,!1,a,o[l],o[s]);f&&n.push(f)}})}function collectConflictsBetween(e,n,t,i,r,a,o){Object.keys(a).forEach(function(l){var s=o[l];if(s)for(var f=a[l],c=0;c<f.length;c++)for(var d=0;d<s.length;d++){var u=findConflict(e,t,i,r,l,f[c],s[d]);u&&n.push(u)}})}function findConflict(e,n,t,i,r,a,o){var l=a[0],s=a[1],f=a[2],c=o[0],d=o[1],u=o[2],g=i||l!==c&&l instanceof _definition.GraphQLObjectType&&c instanceof _definition.GraphQLObjectType,p=f&&f.type,m=u&&u.type;if(!g){var v=s.name.value,h=d.name.value;if(v!==h)return[[r,v+" and "+h+" are different fields"],[s],[d]];if(!sameArguments(s.arguments||[],d.arguments||[]))return[[r,"they have differing arguments"],[s],[d]]}if(p&&m&&doTypesConflict(p,m))return[[r,"they return conflicting types "+String(p)+" and "+String(m)],[s],[d]];var F=s.selectionSet,_=d.selectionSet;if(F&&_){var y=findConflictsBetweenSubSelectionSets(e,n,t,g,(0,_definition.getNamedType)(p),F,(0,_definition.getNamedType)(m),_);return subfieldConflicts(y,r,s,d)}}function sameArguments(e,n){return e.length===n.length&&e.every(function(e){var t=(0,_find2.default)(n,function(n){return n.name.value===e.name.value});return!!t&&sameValue(e.value,t.value)})}function sameValue(e,n){return!e&&!n||(0,_printer.print)(e)===(0,_printer.print)(n)}function doTypesConflict(e,n){return e instanceof _definition.GraphQLList?!(n instanceof _definition.GraphQLList)||doTypesConflict(e.ofType,n.ofType):n instanceof _definition.GraphQLList?!(e instanceof _definition.GraphQLList)||doTypesConflict(e.ofType,n.ofType):e instanceof _definition.GraphQLNonNull?!(n instanceof _definition.GraphQLNonNull)||doTypesConflict(e.ofType,n.ofType):n instanceof _definition.GraphQLNonNull?!(e instanceof _definition.GraphQLNonNull)||doTypesConflict(e.ofType,n.ofType):!(!(0,_definition.isLeafType)(e)&&!(0,_definition.isLeafType)(n))&&e!==n}function getFieldsAndFragmentNames(e,n,t,i){var r=n.get(i);if(!r){var a={},o={};_collectFieldsAndFragmentNames(e,t,i,a,o),r=[a,Object.keys(o)],n.set(i,r)}return r}function getReferencedFieldsAndFragmentNames(e,n,t){var i=n.get(t.selectionSet);if(i)return i;var r=(0,_typeFromAST.typeFromAST)(e.getSchema(),t.typeCondition);return getFieldsAndFragmentNames(e,n,r,t.selectionSet)}function _collectFieldsAndFragmentNames(e,n,t,i,r){for(var a=0;a<t.selections.length;a++){var o=t.selections[a];switch(o.kind){case _kinds.FIELD:var l=o.name.value,s=void 0;(n instanceof _definition.GraphQLObjectType||n instanceof _definition.GraphQLInterfaceType)&&(s=n.getFields()[l]);var f=o.alias?o.alias.value:l;i[f]||(i[f]=[]),i[f].push([n,o,s]);break;case _kinds.FRAGMENT_SPREAD:r[o.name.value]=!0;break;case _kinds.INLINE_FRAGMENT:var c=o.typeCondition,d=c?(0,_typeFromAST.typeFromAST)(e.getSchema(),o.typeCondition):n;_collectFieldsAndFragmentNames(e,d,o.selectionSet,i,r)}}}function subfieldConflicts(e,n,t,i){if(e.length>0)return[[n,e.map(function(e){var n=e[0];return n})],e.reduce(function(e,n){var t=n[1];return e.concat(t)},[t]),e.reduce(function(e,n){var t=n[2];return e.concat(t)},[i])]}function _pairSetAdd(e,n,t,i){var r=e[n];r||(r=Object.create(null),e[n]=r),r[t]=i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldsConflictMessage=fieldsConflictMessage,exports.OverlappingFieldsCanBeMerged=OverlappingFieldsCanBeMerged;var _error=require("../../error"),_find=require("../../jsutils/find"),_find2=_interopRequireDefault(_find),_kinds=require("../../language/kinds"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_typeFromAST=require("../../utilities/typeFromAST"),PairSet=function(){function e(){_classCallCheck(this,e),this._data=Object.create(null)}return e.prototype.has=function(e,n,t){var i=this._data[e],r=i&&i[n];return void 0!==r&&(t!==!1||r===!1)},e.prototype.add=function(e,n,t){_pairSetAdd(this._data,e,n,t),_pairSetAdd(this._data,n,e,t)},e}()},{"../../error":48,"../../jsutils/find":56,"../../language/kinds":64,"../../language/printer":68,"../../type/definition":71,"../../utilities/typeFromAST":92}],109:[function(require,module,exports){"use strict";function typeIncompatibleSpreadMessage(e,r,t){return'Fragment "'+e+'" cannot be spread here as objects of '+('type "'+String(r)+'" can never be of type "'+String(t)+'".')}function typeIncompatibleAnonSpreadMessage(e,r){return"Fragment cannot be spread here as objects of "+('type "'+String(e)+'" can never be of type "'+String(r)+'".')}function PossibleFragmentSpreads(e){return{InlineFragment:function(r){var t=e.getType(),a=e.getParentType();t&&a&&!(0,_typeComparators.doTypesOverlap)(e.getSchema(),t,a)&&e.reportError(new _error.GraphQLError(typeIncompatibleAnonSpreadMessage(a,t),[r]))},FragmentSpread:function(r){var t=r.name.value,a=getFragmentType(e,t),p=e.getParentType();a&&p&&!(0,_typeComparators.doTypesOverlap)(e.getSchema(),a,p)&&e.reportError(new _error.GraphQLError(typeIncompatibleSpreadMessage(t,p,a),[r]))}}}function getFragmentType(e,r){var t=e.getFragment(r);return t&&(0,_typeFromAST.typeFromAST)(e.getSchema(),t.typeCondition)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeIncompatibleSpreadMessage=typeIncompatibleSpreadMessage,exports.typeIncompatibleAnonSpreadMessage=typeIncompatibleAnonSpreadMessage,exports.PossibleFragmentSpreads=PossibleFragmentSpreads;var _error=require("../../error"),_typeComparators=require("../../utilities/typeComparators"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":48,"../../utilities/typeComparators":91,"../../utilities/typeFromAST":92}],110:[function(require,module,exports){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function missingFieldArgMessage(e,r,i){return'Field "'+e+'" argument "'+r+'" of type '+('"'+String(i)+'" is required but not provided.')}function missingDirectiveArgMessage(e,r,i){return'Directive "@'+e+'" argument "'+r+'" of type '+('"'+String(i)+'" is required but not provided.')}function ProvidedNonNullArguments(e){return{Field:{leave:function(r){var i=e.getFieldDef();if(!i)return!1;var n=r.arguments||[],t=(0,_keyMap2.default)(n,function(e){return e.name.value});i.args.forEach(function(i){var n=t[i.name];!n&&i.type instanceof _definition.GraphQLNonNull&&e.reportError(new _error.GraphQLError(missingFieldArgMessage(r.name.value,i.name,i.type),[r]))})}},Directive:{leave:function(r){var i=e.getDirective();if(!i)return!1;var n=r.arguments||[],t=(0,_keyMap2.default)(n,function(e){return e.name.value});i.args.forEach(function(i){var n=t[i.name];!n&&i.type instanceof _definition.GraphQLNonNull&&e.reportError(new _error.GraphQLError(missingDirectiveArgMessage(r.name.value,i.name,i.type),[r]))})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.missingFieldArgMessage=missingFieldArgMessage,exports.missingDirectiveArgMessage=missingDirectiveArgMessage,exports.ProvidedNonNullArguments=ProvidedNonNullArguments;var _error=require("../../error"),_keyMap=require("../../jsutils/keyMap"),_keyMap2=_interopRequireDefault(_keyMap),_definition=require("../../type/definition")},{"../../error":48,"../../jsutils/keyMap":59,"../../type/definition":71}],111:[function(require,module,exports){"use strict";function noSubselectionAllowedMessage(e,r){return'Field "'+e+'" must not have a selection since '+('type "'+String(r)+'" has no subfields.')}function requiredSubselectionMessage(e,r){return'Field "'+e+'" of type "'+String(r)+'" must have a '+('selection of subfields. Did you mean "'+e+' { ... }"?')}function ScalarLeafs(e){return{Field:function(r){var o=e.getType();o&&((0,_definition.isLeafType)(o)?r.selectionSet&&e.reportError(new _error.GraphQLError(noSubselectionAllowedMessage(r.name.value,o),[r.selectionSet])):r.selectionSet||e.reportError(new _error.GraphQLError(requiredSubselectionMessage(r.name.value,o),[r])))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noSubselectionAllowedMessage=noSubselectionAllowedMessage,exports.requiredSubselectionMessage=requiredSubselectionMessage,exports.ScalarLeafs=ScalarLeafs;var _error=require("../../error"),_definition=require("../../type/definition")},{"../../error":48,"../../type/definition":71
}],112:[function(require,module,exports){"use strict";function duplicateArgMessage(e){return'There can be only one argument named "'+e+'".'}function UniqueArgumentNames(e){var r=Object.create(null);return{Field:function(){r=Object.create(null)},Directive:function(){r=Object.create(null)},Argument:function(n){var t=n.name.value;return r[t]?e.reportError(new _error.GraphQLError(duplicateArgMessage(t),[r[t],n.name])):r[t]=n.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateArgMessage=duplicateArgMessage,exports.UniqueArgumentNames=UniqueArgumentNames;var _error=require("../../error")},{"../../error":48}],113:[function(require,module,exports){"use strict";function duplicateFragmentNameMessage(e){return'There can only be one fragment named "'+e+'".'}function UniqueFragmentNames(e){var r=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var a=n.name.value;return r[a]?e.reportError(new _error.GraphQLError(duplicateFragmentNameMessage(a),[r[a],n.name])):r[a]=n.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateFragmentNameMessage=duplicateFragmentNameMessage,exports.UniqueFragmentNames=UniqueFragmentNames;var _error=require("../../error")},{"../../error":48}],114:[function(require,module,exports){"use strict";function duplicateInputFieldMessage(e){return'There can be only one input field named "'+e+'".'}function UniqueInputFieldNames(e){var r=[],n=Object.create(null);return{ObjectValue:{enter:function(){r.push(n),n=Object.create(null)},leave:function(){n=r.pop()}},ObjectField:function(r){var t=r.name.value;return n[t]?e.reportError(new _error.GraphQLError(duplicateInputFieldMessage(t),[n[t],r.name])):n[t]=r.name,!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateInputFieldMessage=duplicateInputFieldMessage,exports.UniqueInputFieldNames=UniqueInputFieldNames;var _error=require("../../error")},{"../../error":48}],115:[function(require,module,exports){"use strict";function duplicateOperationNameMessage(e){return'There can only be one operation named "'+e+'".'}function UniqueOperationNames(e){var r=Object.create(null);return{OperationDefinition:function(a){var n=a.name;return n&&(r[n.value]?e.reportError(new _error.GraphQLError(duplicateOperationNameMessage(n.value),[r[n.value],n])):r[n.value]=n),!1},FragmentDefinition:function(){return!1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateOperationNameMessage=duplicateOperationNameMessage,exports.UniqueOperationNames=UniqueOperationNames;var _error=require("../../error")},{"../../error":48}],116:[function(require,module,exports){"use strict";function duplicateVariableMessage(e){return'There can be only one variable named "'+e+'".'}function UniqueVariableNames(e){var a=Object.create(null);return{OperationDefinition:function(){a=Object.create(null)},VariableDefinition:function(r){var i=r.variable.name.value;a[i]?e.reportError(new _error.GraphQLError(duplicateVariableMessage(i),[a[i],r.variable.name])):a[i]=r.variable.name}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicateVariableMessage=duplicateVariableMessage,exports.UniqueVariableNames=UniqueVariableNames;var _error=require("../../error")},{"../../error":48}],117:[function(require,module,exports){"use strict";function nonInputTypeOnVarMessage(e,r){return'Variable "$'+e+'" cannot be non-input type "'+r+'".'}function VariablesAreInputTypes(e){return{VariableDefinition:function(r){var n=(0,_typeFromAST.typeFromAST)(e.getSchema(),r.type);if(n&&!(0,_definition.isInputType)(n)){var t=r.variable.name.value;e.reportError(new _error.GraphQLError(nonInputTypeOnVarMessage(t,(0,_printer.print)(r.type)),[r.type]))}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nonInputTypeOnVarMessage=nonInputTypeOnVarMessage,exports.VariablesAreInputTypes=VariablesAreInputTypes;var _error=require("../../error"),_printer=require("../../language/printer"),_definition=require("../../type/definition"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":48,"../../language/printer":68,"../../type/definition":71,"../../utilities/typeFromAST":92}],118:[function(require,module,exports){"use strict";function badVarPosMessage(e,r,i){return'Variable "$'+e+'" of type "'+String(r)+'" used in '+('position expecting type "'+String(i)+'".')}function VariablesInAllowedPosition(e){var r=Object.create(null);return{OperationDefinition:{enter:function(){r=Object.create(null)},leave:function(i){var t=e.getRecursiveVariableUsages(i);t.forEach(function(i){var t=i.node,o=i.type,a=t.name.value,n=r[a];if(n&&o){var s=e.getSchema(),l=(0,_typeFromAST.typeFromAST)(s,n.type);l&&!(0,_typeComparators.isTypeSubTypeOf)(s,effectiveType(l,n),o)&&e.reportError(new _error.GraphQLError(badVarPosMessage(a,l,o),[n,t]))}})}},VariableDefinition:function(e){r[e.variable.name.value]=e}}}function effectiveType(e,r){return!r.defaultValue||e instanceof _definition.GraphQLNonNull?e:new _definition.GraphQLNonNull(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.badVarPosMessage=badVarPosMessage,exports.VariablesInAllowedPosition=VariablesInAllowedPosition;var _error=require("../../error"),_definition=require("../../type/definition"),_typeComparators=require("../../utilities/typeComparators"),_typeFromAST=require("../../utilities/typeFromAST")},{"../../error":48,"../../type/definition":71,"../../utilities/typeComparators":91,"../../utilities/typeFromAST":92}],119:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.specifiedRules=void 0;var _UniqueOperationNames=require("./rules/UniqueOperationNames"),_LoneAnonymousOperation=require("./rules/LoneAnonymousOperation"),_KnownTypeNames=require("./rules/KnownTypeNames"),_FragmentsOnCompositeTypes=require("./rules/FragmentsOnCompositeTypes"),_VariablesAreInputTypes=require("./rules/VariablesAreInputTypes"),_ScalarLeafs=require("./rules/ScalarLeafs"),_FieldsOnCorrectType=require("./rules/FieldsOnCorrectType"),_UniqueFragmentNames=require("./rules/UniqueFragmentNames"),_KnownFragmentNames=require("./rules/KnownFragmentNames"),_NoUnusedFragments=require("./rules/NoUnusedFragments"),_PossibleFragmentSpreads=require("./rules/PossibleFragmentSpreads"),_NoFragmentCycles=require("./rules/NoFragmentCycles"),_UniqueVariableNames=require("./rules/UniqueVariableNames"),_NoUndefinedVariables=require("./rules/NoUndefinedVariables"),_NoUnusedVariables=require("./rules/NoUnusedVariables"),_KnownDirectives=require("./rules/KnownDirectives"),_KnownArgumentNames=require("./rules/KnownArgumentNames"),_UniqueArgumentNames=require("./rules/UniqueArgumentNames"),_ArgumentsOfCorrectType=require("./rules/ArgumentsOfCorrectType"),_ProvidedNonNullArguments=require("./rules/ProvidedNonNullArguments"),_DefaultValuesOfCorrectType=require("./rules/DefaultValuesOfCorrectType"),_VariablesInAllowedPosition=require("./rules/VariablesInAllowedPosition"),_OverlappingFieldsCanBeMerged=require("./rules/OverlappingFieldsCanBeMerged"),_UniqueInputFieldNames=require("./rules/UniqueInputFieldNames");exports.specifiedRules=[_UniqueOperationNames.UniqueOperationNames,_LoneAnonymousOperation.LoneAnonymousOperation,_KnownTypeNames.KnownTypeNames,_FragmentsOnCompositeTypes.FragmentsOnCompositeTypes,_VariablesAreInputTypes.VariablesAreInputTypes,_ScalarLeafs.ScalarLeafs,_FieldsOnCorrectType.FieldsOnCorrectType,_UniqueFragmentNames.UniqueFragmentNames,_KnownFragmentNames.KnownFragmentNames,_NoUnusedFragments.NoUnusedFragments,_PossibleFragmentSpreads.PossibleFragmentSpreads,_NoFragmentCycles.NoFragmentCycles,_UniqueVariableNames.UniqueVariableNames,_NoUndefinedVariables.NoUndefinedVariables,_NoUnusedVariables.NoUnusedVariables,_KnownDirectives.KnownDirectives,_KnownArgumentNames.KnownArgumentNames,_UniqueArgumentNames.UniqueArgumentNames,_ArgumentsOfCorrectType.ArgumentsOfCorrectType,_ProvidedNonNullArguments.ProvidedNonNullArguments,_DefaultValuesOfCorrectType.DefaultValuesOfCorrectType,_VariablesInAllowedPosition.VariablesInAllowedPosition,_OverlappingFieldsCanBeMerged.OverlappingFieldsCanBeMerged,_UniqueInputFieldNames.UniqueInputFieldNames]},{"./rules/ArgumentsOfCorrectType":95,"./rules/DefaultValuesOfCorrectType":96,"./rules/FieldsOnCorrectType":97,"./rules/FragmentsOnCompositeTypes":98,"./rules/KnownArgumentNames":99,"./rules/KnownDirectives":100,"./rules/KnownFragmentNames":101,"./rules/KnownTypeNames":102,"./rules/LoneAnonymousOperation":103,"./rules/NoFragmentCycles":104,"./rules/NoUndefinedVariables":105,"./rules/NoUnusedFragments":106,"./rules/NoUnusedVariables":107,"./rules/OverlappingFieldsCanBeMerged":108,"./rules/PossibleFragmentSpreads":109,"./rules/ProvidedNonNullArguments":110,"./rules/ScalarLeafs":111,"./rules/UniqueArgumentNames":112,"./rules/UniqueFragmentNames":113,"./rules/UniqueInputFieldNames":114,"./rules/UniqueOperationNames":115,"./rules/UniqueVariableNames":116,"./rules/VariablesAreInputTypes":117,"./rules/VariablesInAllowedPosition":118}],120:[function(require,module,exports){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function validate(e,t,r){(0,_invariant2.default)(e,"Must provide schema"),(0,_invariant2.default)(t,"Must provide document"),(0,_invariant2.default)(e instanceof _schema.GraphQLSchema,"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory.");var i=new _TypeInfo.TypeInfo(e);return visitUsingRules(e,i,t,r||_specifiedRules.specifiedRules)}function visitUsingRules(e,t,r,i){var n=new ValidationContext(e,r,t),s=i.map(function(e){return e(n)});return(0,_visitor.visit)(r,(0,_visitor.visitWithTypeInfo)(t,(0,_visitor.visitInParallel)(s))),n.getErrors()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationContext=void 0,exports.validate=validate,exports.visitUsingRules=visitUsingRules;var _invariant=require("../jsutils/invariant"),_invariant2=_interopRequireDefault(_invariant),_visitor=(require("../error"),require("../language/visitor")),_kinds=require("../language/kinds"),Kind=_interopRequireWildcard(_kinds),_schema=require("../type/schema"),_TypeInfo=require("../utilities/TypeInfo"),_specifiedRules=require("./specifiedRules"),ValidationContext=exports.ValidationContext=function(){function e(t,r,i){_classCallCheck(this,e),this._schema=t,this._ast=r,this._typeInfo=i,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},{})),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var r=[e];0!==r.length;)for(var i=r.pop(),n=0;n<i.selections.length;n++){var s=i.selections[n];s.kind===Kind.FRAGMENT_SPREAD?t.push(s):s.selectionSet&&r.push(s.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var r=Object.create(null),i=[e.selectionSet];0!==i.length;)for(var n=i.pop(),s=this.getFragmentSpreads(n),a=0;a<s.length;a++){var o=s[a].name.value;if(r[o]!==!0){r[o]=!0;var u=this.getFragment(o);u&&(t.push(u),i.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this,r=this._variableUsages.get(e);return r||!function(){var i=[],n=new _TypeInfo.TypeInfo(t._schema);(0,_visitor.visit)(e,(0,_visitor.visitWithTypeInfo)(n,{VariableDefinition:function(){return!1},Variable:function(e){i.push({node:e,type:n.getInputType()})}})),r=i,t._variableUsages.set(e,r)}(),r},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var r=this.getRecursivelyReferencedFragments(e),i=0;i<r.length;i++)Array.prototype.push.apply(t,this.getVariableUsages(r[i]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}()},{"../error":48,"../jsutils/invariant":57,"../language/kinds":64,"../language/visitor":70,"../type/schema":76,"../utilities/TypeInfo":77,"./specifiedRules":119}],121:[function(require,module,exports){function isIterable(t){return!!getIteratorMethod(t)}function isArrayLike(t){var r=null!=t&&t.length;return"number"==typeof r&&r>=0&&r%1===0}function isCollection(t){return Object(t)===t&&(isArrayLike(t)||isIterable(t))}function getIterator(t){var r=getIteratorMethod(t);if(r)return r.call(t)}function getIteratorMethod(t){if(null!=t){var r=SYMBOL_ITERATOR&&t[SYMBOL_ITERATOR]||t["@@iterator"];if("function"==typeof r)return r}}function forEach(t,r,e){if(null!=t){if("function"==typeof t.forEach)return t.forEach(r,e);var o=0,i=getIterator(t);if(i){for(var a;!(a=i.next()).done;)if(r.call(e,a.value,o++,t),o>9999999)throw new TypeError("Near-infinite iteration.")}else if(isArrayLike(t))for(;o<t.length;o++)t.hasOwnProperty(o)&&r.call(e,t[o],o,t)}}function createIterator(t){if(null!=t){var r=getIterator(t);if(r)return r;if(isArrayLike(t))return new ArrayLikeIterator(t)}}function ArrayLikeIterator(t){this._o=t,this._i=0}var SYMBOL_ITERATOR="function"==typeof Symbol&&Symbol.iterator,$$iterator=SYMBOL_ITERATOR||"@@iterator";exports.$$iterator=$$iterator,exports.isIterable=isIterable,exports.isArrayLike=isArrayLike,exports.isCollection=isCollection,exports.getIterator=getIterator,exports.getIteratorMethod=getIteratorMethod,exports.forEach=forEach,exports.createIterator=createIterator,ArrayLikeIterator.prototype[$$iterator]=function(){return this},ArrayLikeIterator.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}}},{}],122:[function(require,module,exports){(function(global){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||a.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||a.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||a.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function a(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=h({},a.defaults,n||{});var l,o,p=n.highlight,u=0;try{l=e.lex(t,n)}catch(e){return i(e)}o=l.length;var c=function(e){if(e)return n.highlight=p,i(e);var t;try{t=r.parse(l,n)}catch(t){e=t}return n.highlight=p,e?i(e):i(null,t)};if(!p||p.length<3)return c();if(delete n.highlight,!o)return c();for(;u<l.length;u++)!function(e){return"code"!==e.type?--o||c():p(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(l[u])}else try{return n&&(n=h({},a.defaults,n)),r.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||a.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,s,i,l,o,h,a,u,c,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;u<c;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(h),u!==c-1&&(r="\n"===h.charAt(h.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(h,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)/^ *-+: *$/.test(h.align[u])?h.align[u]="right":/^ *:-+: *$/.test(h.align[u])?h.align[u]="center":/^ *:-+ *$/.test(h.align[u])?h.align[u]="left":h.align[u]=null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=h({},u),u.pedantic=h({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=h({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=h({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t,n,r,i,l="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),l+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=s(i[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,l+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),l+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),l+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),l+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),l+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),l+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),l+=this.renderer.text(s(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=s(i[1]),r=n,l+=this.renderer.link(r,null,n);return l},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,s=0;s<r;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,s,i="",l="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});l+=this.renderer.tablerow(n)}return this.renderer.table(i,l);case"blockquote_start":for(var l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":for(var l="",o=this.token.ordered;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o);case"list_item_start":for(var l="";"list_item_end"!==this.next().type;)l+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(l);case"loose_item_start":for(var l="";"list_item_end"!==this.next().type;)l+=this.tok();return this.renderer.listitem(l);case"html":var h=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(h);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,a.options=a.setOptions=function(e){return h(a.defaults,e),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},a.Parser=r,a.parser=r.parse,a.Renderer=n,a.Lexer=e,a.lexer=e.lex,a.InlineLexer=t,a.inlineLexer=t.output,a.parse=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):this.marked=a}).call(function(){return this||("undefined"!=typeof window?window:global)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[8])(8)});
